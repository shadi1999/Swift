(this["webpackJsonpswiftcourse-client"]=this["webpackJsonpswiftcourse-client"]||[]).push([[0],{356:function(e,t){e.exports="data:image/png;base64,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"},361:function(e,t,a){e.exports=a(689)},367:function(e,t,a){},665:function(e,t){},688:function(e,t,a){},689:function(e,t,a){"use strict";a.r(t);var n,r,o=a(0),c=a.n(o),s=a(12),i=a.n(s),l=(a(366),a(367),a(7)),u=a(79),m=a(9),d=a(28),p=a(720),f=a(724),h=a(732),E=a(60),b=a(698),g=a(699),v=(a(129),a(5)),y=a.n(v),S=a(18),k=a(22),T=a.n(k),C=function(e){e?T.a.defaults.headers.common["x-auth-token"]=e:delete T.a.defaults.headers.common["x-auth-token"]},O=a(733),w=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var r=Object(O.a)();n({type:"SET_ALERT",payload:{msg:e,alertType:t,id:r}}),setTimeout((function(){return n({type:"REMOVE_ALERT",payload:r})}),a)}},x={URL:{Server:"https://www.swiftcourse.me",Client:"http://localhost:3000"}},I=x.URL.Server,A=function(){return function(){var e=Object(S.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&C(localStorage.token),e.prev=1,e.next=4,T.a.get(I+"/api/auth");case 4:a=e.sent,t({type:"USER_LOADED",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},j=Object(m.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(){var a=Object(S.a)(y.a.mark((function a(n){var r,o,c,s,i,l,u,m,d,p;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={"Content-Type":"application/json"},o=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,T.a.post(I+"/api/auth/",o,{headers:r});case 5:c=a.sent,n({type:"LOGIN_SUCCESS",payload:c.data}),a.next=33;break;case 9:if(a.prev=9,a.t0=a.catch(2),!(s=a.t0.response.data.errors)){a.next=32;break}for(i=!0,l=!1,u=void 0,a.prev=16,m=s[Symbol.iterator]();!(i=(d=m.next()).done);i=!0)p=d.value,n(w(p.msg,"error",1e5));a.next=24;break;case 20:a.prev=20,a.t1=a.catch(16),l=!0,u=a.t1;case 24:a.prev=24,a.prev=25,i||null==m.return||m.return();case 27:if(a.prev=27,!l){a.next=30;break}throw u;case 30:return a.finish(27);case 31:return a.finish(24);case 32:n({type:"LOGIN_FAIL"});case 33:case"end":return a.stop()}}),a,null,[[2,9],[16,20,24,32],[25,,27,31]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login,a=e.isAuthenticated,n=p.a.useForm(),r=Object(d.a)(n,1)[0];return a?c.a.createElement(u.a,{to:"/dashboard"}):c.a.createElement(o.Fragment,null,c.a.createElement("h1",null,"Login page"),c.a.createElement(p.a,{form:r,initialValues:{remember:!0},onFinish:function(e){var a=e.email,n=e.password;t(a,n)}},c.a.createElement(p.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(b.a,{className:"site-form-item-icon"}),placeholder:"email"})),c.a.createElement(p.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(g.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),c.a.createElement(p.a.Item,null,c.a.createElement(p.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0},c.a.createElement(h.a,null,"Remember me")),c.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password")),c.a.createElement(p.a.Item,null,c.a.createElement(E.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"),c.a.createElement("br",null),c.a.createElement("br",null),"Don't have an account? ",c.a.createElement(l.b,{to:"/register/student"},"Sign Up as student")," or ",c.a.createElement(l.b,{to:"/register/tutor"},"Sign Up as tutor"))))})),P=a(726),L=Object(m.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map((function(e){return c.a.createElement(P.a,{key:e.id,message:e.msg,type:e.alertType,showIcon:!0})}))})),R=a(6),U=Object(m.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{setAlert:w,registerTutor:function(e){var t=e.name,a=e.email,n=e.password;return(function(){var e=Object(S.a)(y.a.mark((function e(r){var o,c,s,i,l,u,m,d,p,f;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={headers:{"Content-Type":"application/json"}},c=JSON.stringify({name:t,email:a,password:n}),e.prev=2,e.next=5,T.a.post(I+"/api/tutors",c,o);case 5:s=e.sent,r({type:"REGISTER_SUCCESS",payload:s.data}),r(A()),e.next=35;break;case 10:if(e.prev=10,e.t0=e.catch(2),!e.t0.response){e.next=33;break}for(i=e.t0.response.data.errors,l=!0,u=!1,m=void 0,e.prev=17,d=i[Symbol.iterator]();!(l=(p=d.next()).done);l=!0)f=p.value,r(w(f.msg,"error",12e3));e.next=25;break;case 21:e.prev=21,e.t1=e.catch(17),u=!0,m=e.t1;case 25:e.prev=25,e.prev=26,l||null==d.return||d.return();case 28:if(e.prev=28,!u){e.next=31;break}throw m;case 31:return e.finish(28);case 32:return e.finish(25);case 33:console.log("Error",e.t0),r({type:"REGISTER_FAIL"});case 35:case"end":return e.stop()}}),e,null,[[2,10],[17,21,25,33],[26,,28,32]])})));return function(t){return e.apply(this,arguments)}}())}})((function(e){var t=e.setAlert,a=e.registerTutor,n=e.isAuthenticated,r=p.a.useForm(),s=Object(d.a)(r,1)[0];return n?c.a.createElement(u.a,{to:"/dashboard"}):c.a.createElement(o.Fragment,null,c.a.createElement("h1",null,"Registration page for tutors"),c.a.createElement(p.a,{form:s,onFinish:function(e){var n=e.name,r=e.email,o=e.password;o!==e.password2?t("Passwords do not match","error"):a({name:n,email:r,password:o})},initialValues:{Private:!1,record:!1}},c.a.createElement(p.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"email"})),c.a.createElement(p.a.Item,{name:"name",rules:[{required:!0,message:"Please input your name!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"name"})),c.a.createElement(p.a.Item,{name:"password",rules:[{required:!0,message:"Please input the password!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"password"})),c.a.createElement(p.a.Item,{name:"password2",rules:[{required:!0,message:"Please input the password again!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"password confirm"})),c.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Register"),c.a.createElement("br",null),c.a.createElement("br",null),"Already have an account? ",c.a.createElement(l.b,{to:"/login"},"Login")))})),N=Object(m.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{setAlert:w,registerStudent:function(e){var t=e.name,a=e.email,n=e.password;return(function(){var e=Object(S.a)(y.a.mark((function e(r){var o,c,s,i,l,u,m,d,p,f;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={headers:{"Content-Type":"application/json"}},c=JSON.stringify({name:t,email:a,password:n}),e.prev=2,e.next=5,T.a.post(I+"/api/students",c,o);case 5:s=e.sent,r({type:"REGISTER_SUCCESS",payload:s.data}),r(A()),e.next=35;break;case 10:if(e.prev=10,e.t0=e.catch(2),console.log(e.t0),!(i=e.t0.response.data.errors)){e.next=34;break}for(l=!0,u=!1,m=void 0,e.prev=18,d=i[Symbol.iterator]();!(l=(p=d.next()).done);l=!0)f=p.value,r(w(f.msg,"error",1e5));e.next=26;break;case 22:e.prev=22,e.t1=e.catch(18),u=!0,m=e.t1;case 26:e.prev=26,e.prev=27,l||null==d.return||d.return();case 29:if(e.prev=29,!u){e.next=32;break}throw m;case 32:return e.finish(29);case 33:return e.finish(26);case 34:r({type:"REGISTER_FAIL"});case 35:case"end":return e.stop()}}),e,null,[[2,10],[18,22,26,34],[27,,29,33]])})));return function(t){return e.apply(this,arguments)}}())}})((function(e){var t=e.setAlert,a=e.registerStudent,n=e.isAuthenticated,r=p.a.useForm(),s=Object(d.a)(r,1)[0];return n?c.a.createElement(u.a,{to:"/dashboard"}):c.a.createElement(o.Fragment,null,c.a.createElement("h1",null,"Registration page for students"),c.a.createElement(p.a,{form:s,onFinish:function(e){var n=e.name,r=e.email,o=e.password;o!==e.password2?t("Passwords do not match","error"):a({name:n,email:r,password:o})},initialValues:{Private:!1,record:!1}},c.a.createElement(p.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"email"})),c.a.createElement(p.a.Item,{name:"name",rules:[{required:!0,message:"Please input your name!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"name"})),c.a.createElement(p.a.Item,{name:"password",rules:[{required:!0,message:"Please input the password!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"password"})),c.a.createElement(p.a.Item,{name:"password2",rules:[{required:!0,message:"Please input the password again!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"password confirm"})),c.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Register"),c.a.createElement("br",null),c.a.createElement("br",null),"Already have an account? ",c.a.createElement(l.b,{to:"/login"},"Login")))})),D=a(728),F=function(){return c.a.createElement(D.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:c.a.createElement(l.b,{to:"/"},c.a.createElement(E.a,{type:"primary"},"Back Home"))})},M=a(725),_=a(722),V=a(706),G=a(21),J=x.URL.Server,B=function(e,t,a){return function(){var n=Object(S.a)(y.a.mark((function n(r,o){var c,s,i,l,u,m,d,p,f,h,E,b,g;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=e.name,s=e.email,i=e._id,l={headers:{"Content-Type":"application/json"}},u=JSON.stringify({name:c,email:s,_id:i}),n.prev=3,r({type:"EDIT_TOTUR"}),n.next=7,T.a.put(J+"/api/tutors",u,l);case 7:m=o().admin.tutors.filter((function(e){return e._id!==i})),m=[].concat(Object(G.a)(m),[e]),setTimeout((function(){r({type:"EDIT_TUTOR_SUCCESS",payload:m}),t.push(a)}),2e3),n.next=37;break;case 12:if(n.prev=12,n.t0=n.catch(3),!n.t0.response){n.next=35;break}for(d=n.t0.response.data.errors,p=!0,f=!1,h=void 0,n.prev=19,E=d[Symbol.iterator]();!(p=(b=E.next()).done);p=!0)g=b.value,r(w(g.msg,"error",12e3));n.next=27;break;case 23:n.prev=23,n.t1=n.catch(19),f=!0,h=n.t1;case 27:n.prev=27,n.prev=28,p||null==E.return||E.return();case 30:if(n.prev=30,!f){n.next=33;break}throw h;case 33:return n.finish(30);case 34:return n.finish(27);case 35:console.log("Error",n.t0),r({type:"EDIT_TUTOR_FAIL"});case 37:case"end":return n.stop()}}),n,null,[[3,12],[19,23,27,35],[28,,30,34]])})));return function(e,t){return n.apply(this,arguments)}}()},W=function(e,t,a){return function(){var n=Object(S.a)(y.a.mark((function n(r,o){var c,s,i,l,u,m,d,p,f;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json"}},n.prev=1,r({type:"DELETE_TUTOR"}),n.next=5,T.a.delete(J+"/api/tutors/".concat(e),c);case 5:s=o().admin.tutors.filter((function(t){return t._id!==e})),setTimeout((function(){r({type:"DELETE_TUTOR_SUCCESS",payload:s}),t.push(a)}),2e3),n.next=34;break;case 9:if(n.prev=9,n.t0=n.catch(1),console.log(n.t0),!(i=n.t0.response.data.errors)){n.next=33;break}for(l=!0,u=!1,m=void 0,n.prev=17,d=i[Symbol.iterator]();!(l=(p=d.next()).done);l=!0)f=p.value,r(w(f.msg,"error",1e5));n.next=25;break;case 21:n.prev=21,n.t1=n.catch(17),u=!0,m=n.t1;case 25:n.prev=25,n.prev=26,l||null==d.return||d.return();case 28:if(n.prev=28,!u){n.next=31;break}throw m;case 31:return n.finish(28);case 32:return n.finish(25);case 33:r({type:"DELETE_TUTOR_FAIL"});case 34:case"end":return n.stop()}}),n,null,[[1,9],[17,21,25,33],[26,,28,32]])})));return function(e,t){return n.apply(this,arguments)}}()},z=function(e,t,a){return function(){var n=Object(S.a)(y.a.mark((function n(r,o){var c,s,i,l,u,m,d,p,f,h,E,b,g;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=e.name,s=e.email,i=e._id,l={headers:{"Content-Type":"application/json"}},u=JSON.stringify({name:c,email:s,_id:i}),n.prev=3,r({type:"EDIT_STUDENT"}),n.next=7,T.a.put(J+"/api/students",u,l);case 7:m=o().admin.students.filter((function(e){return e._id!==i})),m=[].concat(Object(G.a)(m),[e]),setTimeout((function(){r({type:"EDIT_STUDENT_SUCCESS",payload:m}),t.push(a)}),2e3),n.next=37;break;case 12:if(n.prev=12,n.t0=n.catch(3),!n.t0.response){n.next=35;break}for(d=n.t0.response.data.errors,p=!0,f=!1,h=void 0,n.prev=19,E=d[Symbol.iterator]();!(p=(b=E.next()).done);p=!0)g=b.value,r(w(g.msg,"error",12e3));n.next=27;break;case 23:n.prev=23,n.t1=n.catch(19),f=!0,h=n.t1;case 27:n.prev=27,n.prev=28,p||null==E.return||E.return();case 30:if(n.prev=30,!f){n.next=33;break}throw h;case 33:return n.finish(30);case 34:return n.finish(27);case 35:console.log("Error",n.t0),r({type:"EDIT_STUDENT_FAIL"});case 37:case"end":return n.stop()}}),n,null,[[3,12],[19,23,27,35],[28,,30,34]])})));return function(e,t){return n.apply(this,arguments)}}()},Y=function(e,t,a){return function(){var n=Object(S.a)(y.a.mark((function n(r,o){var c,s,i,l,u,m,d,p,f;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json"}},n.prev=1,r({type:"DELETE_STUDENT"}),n.next=5,T.a.delete(J+"/api/students/".concat(e),c);case 5:s=o().admin.students.filter((function(t){return t._id!==e})),setTimeout((function(){r({type:"DELETE_STUDENT_SUCCESS",payload:s}),t.push(a)}),2e3),n.next=34;break;case 9:if(n.prev=9,n.t0=n.catch(1),console.log(n.t0),!(i=n.t0.response.data.errors)){n.next=33;break}for(l=!0,u=!1,m=void 0,n.prev=17,d=i[Symbol.iterator]();!(l=(p=d.next()).done);l=!0)f=p.value,r(w(f.msg,"error",1e5));n.next=25;break;case 21:n.prev=21,n.t1=n.catch(17),u=!0,m=n.t1;case 25:n.prev=25,n.prev=26,l||null==d.return||d.return();case 28:if(n.prev=28,!u){n.next=31;break}throw m;case 31:return n.finish(28);case 32:return n.finish(25);case 33:r({type:"DELETE_STUDENT_FAIL"});case 34:case"end":return n.stop()}}),n,null,[[1,9],[17,21,25,33],[26,,28,32]])})));return function(e,t){return n.apply(this,arguments)}}()},q=function(){return function(){var e=Object(S.a)(y.a.mark((function e(t){var a,n,r,o,c,s,i,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get(J+"/api/classrooms");case 3:a=e.sent,t({type:"GET_CLASSROOMS",payload:a.data}),e.next=31;break;case 7:if(e.prev=7,e.t0=e.catch(0),console.log(e.t0),!(n=e.t0.response.data.errors)){e.next=31;break}for(r=!0,o=!1,c=void 0,e.prev=15,s=n[Symbol.iterator]();!(r=(i=s.next()).done);r=!0)l=i.value,t(w(l.msg,"error",1e5));e.next=23;break;case 19:e.prev=19,e.t1=e.catch(15),o=!0,c=e.t1;case 23:e.prev=23,e.prev=24,r||null==s.return||s.return();case 26:if(e.prev=26,!o){e.next=29;break}throw c;case 29:return e.finish(26);case 30:return e.finish(23);case 31:case"end":return e.stop()}}),e,null,[[0,7],[15,19,23,31],[24,,26,30]])})));return function(t){return e.apply(this,arguments)}}()},H=Object(m.b)((function(e){return{tutors:e.admin.tutors,loading:e.admin.loading}}),{getTutors:function(){return function(){var e=Object(S.a)(y.a.mark((function e(t){var a,n,r,o,c,s,i,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get(J+"/api/tutors");case 3:a=e.sent,t({type:"GET_TUTORS",payload:a.data}),e.next=31;break;case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.response){e.next=30;break}for(n=e.t0.response.data.errors,r=!0,o=!1,c=void 0,e.prev=14,s=n[Symbol.iterator]();!(r=(i=s.next()).done);r=!0)l=i.value,t(w(l.msg,"error",12e3));e.next=22;break;case 18:e.prev=18,e.t1=e.catch(14),o=!0,c=e.t1;case 22:e.prev=22,e.prev=23,r||null==s.return||s.return();case 25:if(e.prev=25,!o){e.next=28;break}throw c;case 28:return e.finish(25);case 29:return e.finish(22);case 30:console.log("Error",e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,7],[14,18,22,30],[23,,25,29]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.tutors,a=e.loading,n=e.getTutors;return Object(o.useEffect)((function(){n()}),[]),c.a.createElement(M.a,{avatar:!0,title:!1,loading:a,active:!0},c.a.createElement(_.a,{loading:a,itemLayout:"horizontal",dataSource:t,renderItem:function(e){return c.a.createElement(_.a.Item,{actions:[c.a.createElement(l.b,{key:"tutor-edit",to:"/dashboard/tutor/".concat(e._id)},"edit")]},c.a.createElement(_.a.Item.Meta,{avatar:c.a.createElement(V.a,{icon:c.a.createElement(R.b,{type:"user"})}),title:c.a.createElement(l.b,{to:"/dashboard/tutor/".concat(e._id)},e.name)}))}}))})),K=a(350),Z=a(695),X=Object(m.b)((function(e){return{admin:e.auth.user,loading:e.auth.loading}}),{setAlert:w,addAdmin:function(e,t,a){var n=e.name,r=e.email,o=e.password;return(function(){var e=Object(S.a)(y.a.mark((function e(c){var s,i,l,u,m,d,p,f,h,E;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:{"Content-Type":"application/json"}},i=JSON.stringify({name:n,email:r,password:o}),e.prev=2,e.next=5,T.a.post(J+"/api/administrators",i,s);case 5:l=e.sent,setTimeout((function(){c({type:"REGISTER_SUCCESS",payload:l.data}),t.push(a)}),2e3),c(A()),e.next=35;break;case 10:if(e.prev=10,e.t0=e.catch(2),console.log(e.t0),!(u=e.t0.response.data.errors)){e.next=34;break}for(m=!0,d=!1,p=void 0,e.prev=18,f=u[Symbol.iterator]();!(m=(h=f.next()).done);m=!0)E=h.value,c(w(E.msg,"error",1e5));e.next=26;break;case 22:e.prev=22,e.t1=e.catch(18),d=!0,p=e.t1;case 26:e.prev=26,e.prev=27,m||null==f.return||f.return();case 29:if(e.prev=29,!d){e.next=32;break}throw p;case 32:return e.finish(29);case 33:return e.finish(26);case 34:c({type:"REGISTER_FAIL"});case 35:case"end":return e.stop()}}),e,null,[[2,10],[18,22,26,34],[27,,29,33]])})));return function(t){return e.apply(this,arguments)}}())}})((function(e){var t=e.setAlert,a=e.addAdmin,n=e.loading,r=Object(u.g)(),s=p.a.useForm(),i=Object(d.a)(s,1)[0];return c.a.createElement(o.Fragment,null,c.a.createElement("h1",null,"Add Extra Administrator"),c.a.createElement(K.a,{indicator:c.a.createElement(Z.a,{style:{fontSize:24},spin:!0}),size:"large",spinning:n},c.a.createElement(p.a,{form:i,onFinish:function(e){var n=e.name,o=e.email,c=e.password;c!==e.password2?t("Passwords do not match","error"):a({name:n,email:o,password:c},r,"/dashboard")},initialValues:{Private:!1,record:!1}},c.a.createElement(p.a.Item,{name:"email",rules:[{required:!0,message:"Please input the admin email!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"email of the new administrator"})),c.a.createElement(p.a.Item,{name:"name",rules:[{required:!0,message:"Please input the admin name!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"name of the new administrator"})),c.a.createElement(p.a.Item,{name:"password",rules:[{required:!0,message:"Please input the password!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"password"})),c.a.createElement(p.a.Item,{name:"password2",rules:[{required:!0,message:"Please input the password again!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"password confirm"})),c.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Add Administrator"))))})),Q=a(709),$=a(729),ee=function(){return c.a.createElement(o.Fragment,null,c.a.createElement($.a,{theme:"dark",mode:"inline"},c.a.createElement($.a.Item,{key:"home"},c.a.createElement(l.b,{to:"/dashboard"},c.a.createElement(R.b,{type:"user"}),"Home")),c.a.createElement($.a.Item,{key:"tutors-list"},c.a.createElement(l.b,{to:"/dashboard/tutors"},c.a.createElement(R.b,{type:"user"}),"Tutors List")),c.a.createElement($.a.Item,{key:"students-list"},c.a.createElement(l.b,{to:"/dashboard/students"},c.a.createElement(R.b,{type:"video-camera"}),"Students List")),c.a.createElement($.a.Item,{key:"add-extra-admin"},c.a.createElement(l.b,{to:"/dashboard/addAdmin"},c.a.createElement(R.b,{type:"video-camera"}),"Add an extra admin")),c.a.createElement($.a.Item,{key:"add-classroom"},c.a.createElement(l.b,{to:"/dashboard/addClassroom"},c.a.createElement(R.b,{type:"video-camera"}),"Add a classroom")),c.a.createElement($.a.Item,{key:"classrooms"},c.a.createElement(l.b,{to:"/dashboard/classrooms"},c.a.createElement(R.b,{type:"video-camera"}),"classrooms"))))},te=Object(m.b)((function(e){return{students:e.admin.students,loading:e.admin.loading}}),{getStudents:function(){return function(){var e=Object(S.a)(y.a.mark((function e(t){var a,n,r,o,c,s,i,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get(J+"/api/students");case 3:a=e.sent,t({type:"GET_STUDENTS",payload:a.data}),e.next=31;break;case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.response){e.next=30;break}for(n=e.t0.response.data.errors,r=!0,o=!1,c=void 0,e.prev=14,s=n[Symbol.iterator]();!(r=(i=s.next()).done);r=!0)l=i.value,t(w(l.msg,"error",12e3));e.next=22;break;case 18:e.prev=18,e.t1=e.catch(14),o=!0,c=e.t1;case 22:e.prev=22,e.prev=23,r||null==s.return||s.return();case 25:if(e.prev=25,!o){e.next=28;break}throw c;case 28:return e.finish(25);case 29:return e.finish(22);case 30:console.log("Error",e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,7],[14,18,22,30],[23,,25,29]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.students,a=e.loading,n=e.getStudents;return Object(o.useEffect)((function(){n()}),[]),c.a.createElement(M.a,{avatar:!0,title:!1,loading:a,active:!0},c.a.createElement(_.a,{loading:a,itemLayout:"horizontal",dataSource:t,renderItem:function(e){return c.a.createElement(_.a.Item,{actions:[c.a.createElement(l.b,{key:"student-edit",to:"/dashboard/student/".concat(e._id)},"edit")]},c.a.createElement(_.a.Item.Meta,{avatar:c.a.createElement(V.a,{icon:c.a.createElement(R.b,{type:"user"})}),title:c.a.createElement(l.b,{to:"/dashboard/student/".concat(e._id)},e.name)}))}}))})),ae=a(19),ne=a(707),re=a(708),oe=Object(m.b)((function(e){return{tutors:e.admin.tutors,loading:e.admin.loading}}),{editTutor:B,deleteTutor:W})((function(e){var t,a=e.tutors,n=e.editTutor,r=e.deleteTutor,s=e.loading,i=Object(u.g)(),l=p.a.useForm(),m=Object(d.a)(l,1)[0],h=Object(u.h)().id;Object(o.useEffect)((function(){(t=a.find((function(e){return e._id===h})))&&m.setFieldsValue({email:t.email,name:t.name})}));return c.a.createElement(o.Fragment,null,c.a.createElement("h1",null,"Edit tutor"),c.a.createElement("p",null,"Edit the tutors information."),c.a.createElement(K.a,{indicator:c.a.createElement(Z.a,{style:{fontSize:24},spin:!0}),size:"large",spinning:s},c.a.createElement(p.a,{form:m,onFinish:function(e){var a=e.email,r=e.name;t=Object(ae.a)({},t,{email:a,name:r}),n(t,i,"/dashboard/tutors/")}},c.a.createElement(p.a.Item,{name:"email",rules:[{required:!0,message:"Please input email!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email of tutor"})),c.a.createElement(p.a.Item,{name:"name",rules:[{required:!0,message:"Please input name!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Name of tutor"})),c.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Edit tutor"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(ne.a,{title:"Are you sure that you want to delete the tutor?",okText:"Yes",cancelText:"No",onConfirm:function(){r(h,i,"/dashboard/tutors/")},okType:"danger",icon:c.a.createElement(re.a,{style:{color:"red"}})},c.a.createElement(E.a,{type:"primary",danger:!0},"Delete the tutor")))))})),ce=Object(m.b)((function(e){return{students:e.admin.students,loading:e.admin.loading}}),{editStudent:z,deleteStudent:Y})((function(e){var t,a=e.students,n=e.editStudent,r=e.deleteStudent,s=e.loading,i=Object(u.g)(),l=p.a.useForm(),m=Object(d.a)(l,1)[0],h=Object(u.h)().id;Object(o.useEffect)((function(){(t=a.find((function(e){return e._id===h})))&&m.setFieldsValue({email:t.email,name:t.name})}));return c.a.createElement(o.Fragment,null,c.a.createElement("h1",null,"Edit student"),c.a.createElement("p",null,"Edit the student information."),c.a.createElement(K.a,{indicator:c.a.createElement(Z.a,{style:{fontSize:24},spin:!0}),size:"large",spinning:s},c.a.createElement(p.a,{form:m,onFinish:function(e){var a=e.email,r=e.name;t=Object(ae.a)({},t,{email:a,name:r}),n(t,i,"/dashboard/students/")}},c.a.createElement(p.a.Item,{name:"email",rules:[{required:!0,message:"Please input email!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email of student"})),c.a.createElement(p.a.Item,{name:"name",rules:[{required:!0,message:"Please input name!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Name of student"})),c.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Edit student"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(ne.a,{title:"Are you sure that you want to delete the student?",okText:"Yes",cancelText:"No",onConfirm:function(){r(h,i,"/dashboard/students/")},okType:"danger",icon:c.a.createElement(re.a,{style:{color:"red"}})},c.a.createElement(E.a,{type:"primary",danger:!0},"Delete the student")))))})),se=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.auth,a=t.loading?null:c.a.createElement("h1",null,"Welcome ",t.user.name," to the ",t.user.kind,"s Home Dashboard");return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.Fragment,null,c.a.createElement(M.a,{loading:t.loading},a)))})),ie=Object(m.b)((function(e){return{admin:e.auth.user,loading:e.auth.loading,classrooms:e.admin.classrooms}}),{setAlert:w,addClassroom:function(e,t,a){var n=e.id,r=e.tutor,o=e.Private,c=e.record;return(function(){var e=Object(S.a)(y.a.mark((function e(s){var i,l,u,m,d,p,f,h,E,b;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={headers:{"Content-Type":"application/json"}},l=JSON.stringify({id:n,tutor:r,Private:o,record:c}),e.prev=2,e.next=5,T.a.post(J+"/api/classrooms",l,i);case 5:u=e.sent,s({type:"ADD_CLASSROOM",payload:u.data}),setTimeout((function(){t.push(a)}),2e3),e.next=34;break;case 10:if(e.prev=10,e.t0=e.catch(2),console.log(e.t0),!(m=e.t0.response.data.errors)){e.next=34;break}for(d=!0,p=!1,f=void 0,e.prev=18,h=m[Symbol.iterator]();!(d=(E=h.next()).done);d=!0)b=E.value,s(w(b.msg,"error",1e5));e.next=26;break;case 22:e.prev=22,e.t1=e.catch(18),p=!0,f=e.t1;case 26:e.prev=26,e.prev=27,d||null==h.return||h.return();case 29:if(e.prev=29,!p){e.next=32;break}throw f;case 32:return e.finish(29);case 33:return e.finish(26);case 34:case"end":return e.stop()}}),e,null,[[2,10],[18,22,26,34],[27,,29,33]])})));return function(t){return e.apply(this,arguments)}}())},getClassrooms:q})((function(e){var t=e.setAlert,a=e.addClassroom,n=e.loading,r=e.classrooms,s=e.getClassrooms;Object(o.useEffect)((function(){s()}),[]);var i=Object(u.g)(),l=p.a.useForm(),m=Object(d.a)(l,1)[0];return c.a.createElement(o.Fragment,null,c.a.createElement("h1",null,"Add Classroom"),c.a.createElement(K.a,{indicator:c.a.createElement(Z.a,{style:{fontSize:24},spin:!0}),size:"large",spinning:n},c.a.createElement(p.a,{form:m,onFinish:function(e){var n=e.id,o=e.tutor,c=e.Private,s=e.record,l=!0,u=!1,m=void 0;try{for(var d,p=r[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){if(d.value.id===n)return void t("This classroom already exsist !","error")}}catch(f){u=!0,m=f}finally{try{l||null==p.return||p.return()}finally{if(u)throw m}}a({id:n,tutor:o,Private:c,record:s},i,"/dashboard/classrooms/")},initialValues:{Private:!1,record:!1}},c.a.createElement(p.a.Item,{name:"id",rules:[{required:!0,message:"Please input the course id!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"course id"})),c.a.createElement(p.a.Item,{name:"tutor",rules:[{required:!0,message:"Please input the tutor email!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"email of tutor"})),c.a.createElement(p.a.Item,{name:"Private",valuePropName:"checked"},c.a.createElement(h.a,null,"Private")),c.a.createElement(p.a.Item,{name:"record",valuePropName:"checked"},c.a.createElement(h.a,null,"Recored Lecture")),c.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Add Classroom"))))})),le=a(723),ue=Object(m.b)((function(e){return{admin:e.auth.user,classrooms:e.admin.classrooms,loading:e.admin.loading}}),{getClassrooms:q})((function(e){var t=e.getClassrooms,a=e.loading,n=e.classrooms;return Object(o.useEffect)((function(){t()}),[]),c.a.createElement(o.Fragment,null,c.a.createElement("h1",null,"All Classrooms"),c.a.createElement(_.a,{loading:a,grid:{gutter:16,column:4},dataSource:n,renderItem:function(e){return c.a.createElement(_.a.Item,null,c.a.createElement(le.a,{title:e.id},c.a.createElement(l.b,{to:"/dashboard/classrooms/".concat(e.id)},"View Classroom Information")))}}))})),me=Object(m.b)((function(e){return{classrooms:e.admin.classrooms,loading:e.admin.loading}}),{editClassroom:function(e,t,a,n){return function(){var r=Object(S.a)(y.a.mark((function r(o,c){var s,i,l,u,m,d,p,f,h,E,b,g,v,S;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=e.id,i=e.Private,l=e.email,u=e.record,m={headers:{"Content-Type":"application/json"}},d=JSON.stringify({newid:t,id:s,Private:i,email:l,record:u}),r.prev=3,o({type:"EDIT_CLASSROOM"}),r.next=7,T.a.put(J+"/api/classrooms",d,m);case 7:p=c().admin.classrooms.filter((function(e){return e.id!==s})),p=[].concat(Object(G.a)(p),[e]),setTimeout((function(){o({type:"EDIT_CLASSROOM_SUCCESS",payload:p}),a.push(n)}),2e3),r.next=37;break;case 12:if(r.prev=12,r.t0=r.catch(3),console.log(r.t0),!(f=r.t0.response.data.errors)){r.next=36;break}for(h=!0,E=!1,b=void 0,r.prev=20,g=f[Symbol.iterator]();!(h=(v=g.next()).done);h=!0)S=v.value,o(w(S.msg,"error",1e5));r.next=28;break;case 24:r.prev=24,r.t1=r.catch(20),E=!0,b=r.t1;case 28:r.prev=28,r.prev=29,h||null==g.return||g.return();case 31:if(r.prev=31,!E){r.next=34;break}throw b;case 34:return r.finish(31);case 35:return r.finish(28);case 36:o({type:"EDIT_CLASSROOM_FAIL"});case 37:case"end":return r.stop()}}),r,null,[[3,12],[20,24,28,36],[29,,31,35]])})));return function(e,t){return r.apply(this,arguments)}}()},deleteClassroom:function(e,t,a){return function(){var n=Object(S.a)(y.a.mark((function n(r,o){var c,s,i,l,u,m,d,p,f;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json"}},n.prev=1,r({type:"DELETE_CLASSROOM"}),n.next=5,T.a.delete(J+"/api/classrooms/".concat(e),c);case 5:return n.next=7,o().admin.classrooms.filter((function(t){return t.id!==e}));case 7:s=n.sent,setTimeout((function(){r({type:"DELETE_CLASSROOM_SUCCESS",payload:s}),t.push(a)}),2e3),n.next=36;break;case 11:if(n.prev=11,n.t0=n.catch(1),console.log(n.t0),!(i=n.t0.response.data.errors)){n.next=35;break}for(l=!0,u=!1,m=void 0,n.prev=19,d=i[Symbol.iterator]();!(l=(p=d.next()).done);l=!0)f=p.value,r(w(f.msg,"error",1e5));n.next=27;break;case 23:n.prev=23,n.t1=n.catch(19),u=!0,m=n.t1;case 27:n.prev=27,n.prev=28,l||null==d.return||d.return();case 30:if(n.prev=30,!u){n.next=33;break}throw m;case 33:return n.finish(30);case 34:return n.finish(27);case 35:r({type:"DELETE_CLASSROOM_FAIL"});case 36:case"end":return n.stop()}}),n,null,[[1,11],[19,23,27,35],[28,,30,34]])})));return function(e,t){return n.apply(this,arguments)}}()}})((function(e){var t,a=e.classrooms,n=e.editClassroom,r=e.deleteClassroom,s=e.loading,i=Object(u.g)(),l=p.a.useForm(),m=Object(d.a)(l,1)[0],b=Object(u.h)().id;Object(o.useEffect)((function(){(t=a.find((function(e){return e.id===b})))&&m.setFieldsValue({newId:t.id,email:t.tutor.email,Private:!1,record:!1})}));return c.a.createElement(o.Fragment,null,c.a.createElement("h1",null,"Edit classroom"),c.a.createElement("p",null,"Edit the classrooms information."),c.a.createElement(K.a,{indicator:c.a.createElement(Z.a,{style:{fontSize:24},spin:!0}),size:"large",spinning:s},c.a.createElement(p.a,{form:m,onFinish:function(e){var a=e.newId,r=e.email,o=e.Private,c=e.record;t=Object(ae.a)({},t,{newId:a,email:r,Private:o,record:c}),a&&void 0!==o&&void 0!==c&&r?n(t,a,i,"/dashboard/classrooms/"):w("please provide all fields","error")}},c.a.createElement(p.a.Item,{name:"newId",rules:[{required:!0,message:"Please input id!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"id of classroom"})),c.a.createElement(p.a.Item,{name:"email",rules:[{required:!0,message:"Please input email of tutor!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"email of tutor"})),c.a.createElement(p.a.Item,{name:"Private",valuePropName:"checked"},c.a.createElement(h.a,null,"Private")),c.a.createElement(p.a.Item,{name:"record",valuePropName:"checked"},c.a.createElement(h.a,null,"Recored Lecture")),c.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Edit Classroom"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(ne.a,{title:"Are you sure that you want to delete the classroom?",okText:"Yes",cancelText:"No",onConfirm:function(){r(b,i,"/dashboard/classrooms/")},okType:"danger",icon:c.a.createElement(re.a,{style:{color:"red"}})},c.a.createElement(E.a,{type:"primary",danger:!0},"Delete the classroom")))))})),de=Q.a.Content,pe=Q.a.Sider,fe=function(){return c.a.createElement(o.Fragment,null,c.a.createElement(pe,null,c.a.createElement(ee,null)),c.a.createElement(de,null,c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/dashboard/tutor/:id",component:oe}),c.a.createElement(u.b,{path:"/dashboard/tutors",component:H}),c.a.createElement(u.b,{path:"/dashboard/addAdmin",component:X}),c.a.createElement(u.b,{path:"/dashboard/student/:id",component:ce}),c.a.createElement(u.b,{path:"/dashboard/students",component:te}),c.a.createElement(u.b,{path:"/dashboard/addClassroom",component:ie}),c.a.createElement(u.b,{path:"/dashboard/classrooms/:id",component:me}),c.a.createElement(u.b,{path:"/dashboard/classrooms",component:ue}),c.a.createElement(u.b,{path:"/dashboard",component:se}))))},he=function(){return c.a.createElement(o.Fragment,null,c.a.createElement($.a,{theme:"dark",mode:"inline"},c.a.createElement($.a.Item,{key:"home"},c.a.createElement(l.b,{to:"/dashboard"},c.a.createElement(R.b,{type:"user"}),"Home")),c.a.createElement($.a.Item,{key:"my-lectures"},c.a.createElement(l.b,{to:"/dashboard/myClassrooms"},c.a.createElement(R.b,{type:"video-camera"}),"my Classrooms")),c.a.createElement($.a.Item,{key:"my-classrooms"},c.a.createElement(l.b,{to:"/dashboard/myLectures"},c.a.createElement(R.b,{type:"user"}),"my lectures"))))},Ee=x.URL.Server,be=Object(m.b)((function(e){return{tutor:e.auth.user,lectures:e.tutor.lectures,loading:e.tutor.loading}}),{getLectures:function(e){return function(){var t=Object(S.a)(y.a.mark((function t(a){var n,r,o,c,s,i,l,u;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.a.get(Ee+"/api/classrooms/tutor/".concat(e._id,"/lectures"));case 3:n=t.sent,a({type:"GET_TUTOR_LECTURES",payload:n.data}),t.next=31;break;case 7:if(t.prev=7,t.t0=t.catch(0),!t.t0.response){t.next=30;break}for(r=t.t0.response.data.errors,o=!0,c=!1,s=void 0,t.prev=14,i=r[Symbol.iterator]();!(o=(l=i.next()).done);o=!0)u=l.value,a(w(u.msg,"error",12e3));t.next=22;break;case 18:t.prev=18,t.t1=t.catch(14),c=!0,s=t.t1;case 22:t.prev=22,t.prev=23,o||null==i.return||i.return();case 25:if(t.prev=25,!c){t.next=28;break}throw s;case 28:return t.finish(25);case 29:return t.finish(22);case 30:console.log("Error",t.t0);case 31:case"end":return t.stop()}}),t,null,[[0,7],[14,18,22,30],[23,,25,29]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.tutor,a=e.lectures,n=e.loading,r=e.getLectures;return Object(o.useEffect)((function(){r(t)}),[]),c.a.createElement(o.Fragment,null,c.a.createElement(_.a,{loading:n,grid:{gutter:16,column:4},dataSource:a,renderItem:function(e){return c.a.createElement(_.a.Item,null,c.a.createElement(le.a,{title:e.id},c.a.createElement("div",null,"Started On: ",e.pastLectures.startedOn,c.a.createElement("br",null)," Ended On: ",e.pastLectures.endedOn),c.a.createElement("div",null,"Attendance:",c.a.createElement("br",null)," ",e.pastLectures.attendance?e.pastLectures.attendance.map((function(e){return c.a.createElement(o.Fragment,null,c.a.createElement("p",null,"user:"+e.user+" duration:"+e.duration))})):null)))}}))})),ge=Object(m.b)((function(e){return{tutor:e.auth.user,classrooms:e.tutor.classrooms,loading:e.tutor.loading}}),{getClassrooms:function(e){return function(){var t=Object(S.a)(y.a.mark((function t(a){var n,r,o,c,s,i,l,u;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.a.get(Ee+"/api/classrooms/tutor/".concat(e._id));case 3:n=t.sent,a({type:"GET_TUTOR_CLASSROOMS",payload:n.data}),t.next=31;break;case 7:if(t.prev=7,t.t0=t.catch(0),!t.t0.response){t.next=30;break}for(r=t.t0.response.data.errors,o=!0,c=!1,s=void 0,t.prev=14,i=r[Symbol.iterator]();!(o=(l=i.next()).done);o=!0)u=l.value,a(w(u.msg,"error",12e3));t.next=22;break;case 18:t.prev=18,t.t1=t.catch(14),c=!0,s=t.t1;case 22:t.prev=22,t.prev=23,o||null==i.return||i.return();case 25:if(t.prev=25,!c){t.next=28;break}throw s;case 28:return t.finish(25);case 29:return t.finish(22);case 30:console.log("Error",t.t0);case 31:case"end":return t.stop()}}),t,null,[[0,7],[14,18,22,30],[23,,25,29]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.tutor,a=e.classrooms,n=e.loading,r=e.getClassrooms;return Object(o.useEffect)((function(){r(t)}),[]),c.a.createElement(o.Fragment,null,c.a.createElement(_.a,{loading:n,grid:{gutter:16,column:4},dataSource:a,renderItem:function(e){return c.a.createElement(_.a.Item,null,c.a.createElement(le.a,{title:e.id},c.a.createElement(l.b,{to:"/classroom/".concat(e.id,"/tutor")},"go to the classroom")))}}))})),ve=Q.a.Content,ye=Q.a.Sider,Se=function(){return c.a.createElement(o.Fragment,null,c.a.createElement(ye,null,c.a.createElement(he,null)),c.a.createElement(ve,null,c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/dashboard/myLectures",component:be}),c.a.createElement(u.b,{path:"/dashboard/myClassrooms",component:ge}),c.a.createElement(u.b,{path:"/dashboard",component:se}))))},ke=function(){return c.a.createElement(o.Fragment,null,c.a.createElement($.a,{theme:"dark",mode:"inline"},c.a.createElement($.a.Item,{key:"home"},c.a.createElement(l.b,{to:"/dashboard"},c.a.createElement(R.b,{type:"user"}),"Home")),c.a.createElement($.a.Item,{key:"my-lectures"},c.a.createElement(l.b,{to:"/dashboard/myLectures"},c.a.createElement(R.b,{type:"video-camera"}),"My lectures")),c.a.createElement($.a.Item,{key:"my-classrooms"},c.a.createElement(l.b,{to:"/dashboard/myClassrooms"},c.a.createElement(R.b,{type:"video-camera"}),"My classrooms"))))},Te=x.URL.Server,Ce=Object(m.b)((function(e){return{student:e.auth.user,lectures:e.student.lectures,loading:e.student.loading}}),{getLectures:function(e){return function(){var t=Object(S.a)(y.a.mark((function t(a){var n,r,o,c,s,i,l,u;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.a.get(Te+"/api/classrooms/student/".concat(e._id,"/lectures"));case 3:n=t.sent,a({type:"GET_STUDENT_LECTURES",payload:n.data}),t.next=31;break;case 7:if(t.prev=7,t.t0=t.catch(0),!t.t0.response){t.next=30;break}for(r=t.t0.response.data.errors,o=!0,c=!1,s=void 0,t.prev=14,i=r[Symbol.iterator]();!(o=(l=i.next()).done);o=!0)u=l.value,a(w(u.msg,"error",12e3));t.next=22;break;case 18:t.prev=18,t.t1=t.catch(14),c=!0,s=t.t1;case 22:t.prev=22,t.prev=23,o||null==i.return||i.return();case 25:if(t.prev=25,!c){t.next=28;break}throw s;case 28:return t.finish(25);case 29:return t.finish(22);case 30:console.log("Error",t.t0);case 31:case"end":return t.stop()}}),t,null,[[0,7],[14,18,22,30],[23,,25,29]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.student,a=e.lectures,n=e.loading,r=e.getLectures;return Object(o.useEffect)((function(){r(t)}),[]),c.a.createElement(o.Fragment,null,c.a.createElement(_.a,{loading:n,grid:{gutter:16,column:4},dataSource:a,renderItem:function(e){return c.a.createElement(_.a.Item,null,c.a.createElement(le.a,{title:e.startedOn},"Card content"))}}))})),Oe=Object(m.b)((function(e){return{student:e.auth.user,classrooms:e.student.classrooms,loading:e.student.loading}}),{getClassrooms:function(e){return function(){var t=Object(S.a)(y.a.mark((function t(a){var n,r,o,c,s,i,l,u;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.a.get(Te+"/api/classrooms/student/".concat(e._id));case 3:n=t.sent,a({type:"GET_STUDENT_CLASSROOMS",payload:n.data}),t.next=31;break;case 7:if(t.prev=7,t.t0=t.catch(0),!t.t0.response){t.next=30;break}for(r=t.t0.response.data.errors,o=!0,c=!1,s=void 0,t.prev=14,i=r[Symbol.iterator]();!(o=(l=i.next()).done);o=!0)u=l.value,a(w(u.msg,"error",12e3));t.next=22;break;case 18:t.prev=18,t.t1=t.catch(14),c=!0,s=t.t1;case 22:t.prev=22,t.prev=23,o||null==i.return||i.return();case 25:if(t.prev=25,!c){t.next=28;break}throw s;case 28:return t.finish(25);case 29:return t.finish(22);case 30:console.log("Error",t.t0);case 31:case"end":return t.stop()}}),t,null,[[0,7],[14,18,22,30],[23,,25,29]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.student,a=e.classrooms,n=e.loading,r=e.getClassrooms;return Object(o.useEffect)((function(){r(t)}),[]),c.a.createElement(o.Fragment,null,c.a.createElement(_.a,{loading:n,grid:{gutter:16,column:4},dataSource:a,renderItem:function(e){return c.a.createElement(_.a.Item,null,c.a.createElement(le.a,{title:e.id},c.a.createElement(l.b,{to:"/classroom/".concat(e.id)},"go to the classroom")))}}))})),we=Q.a.Content,xe=Q.a.Sider,Ie=function(){return c.a.createElement(o.Fragment,null,c.a.createElement(xe,null,c.a.createElement(ke,null)),c.a.createElement(we,null,c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/dashboard/myLectures",component:Ce}),c.a.createElement(u.b,{path:"/dashboard/myClassrooms",component:Oe}),c.a.createElement(u.b,{path:"/dashboard",component:se}))))},Ae=function(e){var t=e.userKind;return"Administrator"===t?c.a.createElement(fe,null):"Tutor"===t?c.a.createElement(Se,null):"Student"===t?c.a.createElement(Ie,null):c.a.createElement(u.a,{to:"/"})},je=a(113),Pe=a(55),Le=a(730),Re=a(721),Ue=a(710),Ne=function(e){var t=e.message,a=e.senderFirstName,n=e.color,r=e.type;return c.a.createElement("div",{className:"chat-message"},c.a.createElement("div",{className:"avatar"},c.a.createElement(V.a,{style:{backgroundColor:n,verticalAlign:"middle"},size:"large"},a)),c.a.createElement("div",{className:"talk-bubble tri-right left-in round"},function(){switch(r){case"text":return c.a.createElement("div",{className:"talktext"},c.a.createElement("p",null,t));case"image":return c.a.createElement("img",{className:"img-attachment",src:"".concat(x.URL.Server,"/files/").concat(t)});case"file":var e=/([^\/]+$)/.exec(t)[0];return c.a.createElement(E.a,{className:"file-attachment",type:"link",href:"".concat(x.URL.Server,"/files/").concat(t),target:"_blank"},e," ",c.a.createElement(Ue.a,null))}}()))},De=a(351),Fe=a.n(De),Me=function(e,t){return function(a,r){(n=Fe()("".concat(x.URL.Server,"?token=").concat(e,"&classroom=").concat(t))).on("connect",(function(){n.emit("loadLecture",null,(function(e,t){t=_e(t),a({type:"LOAD_LECTURE",payload:{hasStarted:e,onlineUsers:t}})}))})),n.on("message",(function(e){a({type:"ADD_MESSAGE",payload:e})})),n.on("startLecture",Object(S.a)(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"START_LECTURE"}),e.next=3,T.a.get("".concat(x.URL.Server,"/api/streams/publishToken?classroomId=").concat(t));case 3:n=e.sent,a({type:"GET_PLAY_TOKEN",payload:n});case 5:case"end":return e.stop()}}),e)})))),n.on("stopLecture",(function(){n.emit("leave"),a({type:"STOP_LECTURE"})})),n.on("userJoined",(function(e){e=Ve(e,r().lecture.onlineUsers),a({type:"USER_JOINED",payload:e})})),n.on("userLeft",(function(e){a({type:"USER_LEFT",payload:e})}))}},_e=function(e){var t=[],a=!0,n=!1,r=void 0;try{for(var o,c=function(){var a=Object(d.a)(o.value,2),n=a[0],r=a[1];if(t.includes(n))return"continue";if(e.some((function(e){return r.name===e.name}))){var c=[].concat(Ge),s=!0,i=!1,l=void 0;try{for(var u,m=e[Symbol.iterator]();!(s=(u=m.next()).done);s=!0){var p=u.value;r.name===p.name&&(p.color=c.pop(),t.push(e.indexOf(p)))}}catch(f){i=!0,l=f}finally{try{s||null==m.return||m.return()}finally{if(i)throw l}}r.color=c.pop()}else r.color=Ge[Math.floor(Math.random()*Ge.length)]},s=e.entries()[Symbol.iterator]();!(a=(o=s.next()).done);a=!0)c()}catch(i){n=!0,r=i}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}return e},Ve=function(e,t){var a=t.find((function(t){return e.name===t.name}));if(void 0!==a)do{e.color=Ge[Math.floor(Math.random()*Ge.length)],console.log(e.color,a.color)}while(e.color===a.color);else e.color=Ge[Math.floor(Math.random()*Ge.length)];return e},Ge=["#000","#ccc","#aaa","#0ec"],Je=function(){return function(){var e=Object(S.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.emit("join");case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},Be=a(711),We=Object(m.b)((function(e){return{messages:e.lecture.messages,onlineUsers:e.lecture.onlineUsers,loading:e.lecture.loading,token:e.auth.token}}),{sendMessage:function(e){return function(t){n.emit("sendMessage",e)}},loadMessages:function(e){return function(){var t=Object(S.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.get("".concat(x.URL.Server,"/api/classrooms/").concat(e,"/getlivechat"));case 2:n=t.sent,a({type:"GET_MESSAGES",payload:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.messages,a=e.sendMessage,n=e.loadMessages,r=e.onlineUsers,s=e.loading,i=e.token,l=Object(u.h)().id,m=Object(o.useState)(""),p=Object(d.a)(m,2),h=p[0],b=p[1];Object(o.useEffect)((function(){n(l)}),[]);var g={name:"file",action:"".concat(x.URL.Server,"/api/files/upload/").concat(l),headers:{"x-auth-token":i},onChange:function(e){if("uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status){var t;t=e.file.response.mimetype.startsWith("image")?"image":"file";var n=/([^\/]+$)/.exec(e.file.response.destination)[0],r="".concat(l,"/").concat(n,"/").concat(e.file.response.filename);a({text:r,type:t}),Le.a.success("".concat(e.file.name," file uploaded successfully"))}else"error"===e.file.status&&Le.a.error("".concat(e.file.name," file upload failed."))}},v=c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,{type:"submit",onClick:function(){a(h)}},"Send"),c.a.createElement(Re.a,g,c.a.createElement(E.a,null,c.a.createElement(Be.a,null))));return c.a.createElement("div",null,s?c.a.createElement(K.a,{indicator:c.a.createElement(Z.a,{style:{fontSize:24},spin:!0}),size:"large",spinning:s}):t.map((function(e,t){var a=r.find((function(t){return e.sender===t._id}));if(void 0!==a)return c.a.createElement(Ne,{key:t,message:e.text,senderFirstName:a.name,color:a.color,type:e.type})})),c.a.createElement(f.a,{onChange:function(e){return b({text:e.target.value,type:"text"})},addonAfter:v}))})),ze=a(712),Ye=Object(m.b)((function(e){return{token:e.auth.token,lectureStarted:e.lecture.lectureStarted}}),{initSocket:Me,joinClassroom:Je})((function(e){var t=e.initSocket,a=e.joinClassroom,n=e.token,r=e.lectureStarted,s=Object(u.h)().id;return Object(o.useEffect)((function(){t(n,s)}),[n,s]),Object(o.useEffect)((function(){r&&a()}),[r,s]),c.a.createElement(Q.a.Content,null,r?c.a.createElement(c.a.Fragment,null,c.a.createElement(je.a,null,c.a.createElement(Pe.a,{span:8},c.a.createElement(We,null)),c.a.createElement(Pe.a,{span:16}))):c.a.createElement(D.a,{icon:c.a.createElement(ze.a,null),title:"The lecture has not started yet.",extra:c.a.createElement(E.a,{type:"primary"},"Do Something")}))})),qe=a(75),He=a(105);function Ke(e){var t=function(){function e(t){Object(qe.a)(this,e),this.streamId=t,this.totalBytesReceivedCount=0,this.totalBytesSent=0,this.packetsLost=0,this.fractionLost=0,this.startTime=0,this.lastBytesReceived=0,this.lastBytesSent=0,this.currentTimestamp=0,this.lastTime=0,this.timerId=0,this.firstByteSentCount=0,this.firstBytesReceivedCount=0}return Object(He.a)(e,[{key:"averageOutgoingBitrate",get:function(){return Math.floor(8*(this.totalBytesSentCount-this.firstByteSentCount)/(this.currentTimestamp-this.startTime))}},{key:"averageIncomingBitrate",get:function(){return Math.floor(8*(this.totalBytesReceivedCount-this.firstBytesReceivedCount)/(this.currentTimestamp-this.startTime))}},{key:"currentOutgoingBitrate",get:function(){return Math.floor(8*(this.totalBytesSentCount-this.lastBytesSent)/(this.currentTimestamp-this.lastTime))}},{key:"currentIncomingBitrate",get:function(){return Math.floor(8*(this.totalBytesReceivedCount-this.lastBytesReceived)/(this.currentTimestamp-this.lastTime))}},{key:"currentTime",set:function(e){this.lastTime=this.currentTimestamp,this.currentTimestamp=e,0==this.startTime&&(this.startTime=e-1)}},{key:"totalBytesReceived",set:function(e){this.lastBytesReceived=this.totalBytesReceivedCount,this.totalBytesReceivedCount=e,0==this.firstBytesReceivedCount&&(this.firstBytesReceivedCount=e)}},{key:"totalBytesSent",set:function(e){this.lastBytesSent=this.totalBytesSentCount,this.totalBytesSentCount=e,0==this.firstByteSentCount&&(this.firstByteSentCount=e)}}]),e}(),a=this;for(var n in a.peerconnection_config=null,a.sdp_constraints=null,a.remotePeerConnection=new Array,a.remotePeerConnectionStats=new Array,a.remoteDescriptionSet=new Array,a.iceCandidateList=new Array,a.webSocketAdaptor=null,a.roomName=null,a.videoTrackSender=null,a.audioTrackSender=null,a.playStreamId=new Array,a.micGainNode=null,a.localStream=null,a.bandwidth=900,a.isMultiPeer=!1,a.multiPeerStreamId=null,a.isPlayMode=!1,a.debug=!1,a.candidateTypes=["udp","tcp"],a.desktopStream=null,a.camera_location="top",a.camera_margin=15,a.camera_percent=15,e)e.hasOwnProperty(n)&&(this[n]=e[n]);if(a.localVideo=document.getElementById(a.localVideoId),a.remoteVideo=document.getElementById(a.remoteVideoId),!("WebSocket"in window))return console.log("WebSocket not supported."),void a.callbackError("WebSocketNotSupported");if("undefined"==typeof navigator.mediaDevices&&0==a.isPlayMode)return console.log("Cannot open camera and mic because of unsecure context. Please Install SSL(https)"),void a.callbackError("UnsecureContext");if(this.getUserMediaDetail=function(e,t,n){var r=n.getAudioTracks();if(r.length>0&&n.removeTrack(r[0]),n.getVideoTracks()[0].onended=function(t){a.callback("screen_share_stopped"),a.switchVideoSource(this.streamId,e,null,!0)},"undefined"!=t&&0!=t){var o={audio:t};navigator.mediaDevices.getUserMedia(o).then((function(t){"screen"==a.mediaConstraints.video?a.switchDesktopSource(n,this.streamId,e,onended,!0):"screen+camera"==a.mediaConstraints.video?a.switchDesktopwithCameraSource(n,this.streamId,t,onended):(n.addTrack(t.getAudioTracks()[0]),a.gotStream(n))})).catch((function(e){a.callbackError(e.name,e.message)}))}else navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){n.addTrack(e.getAudioTracks()[0]),a.gotStream(n)})).catch((function(e){a.callbackError(e.name,e.message)}))},this.getUserMedia=function(e,t){"screen+camera"==e.video||"screen"==e.video?navigator.mediaDevices.getDisplayMedia(e).then((function(n){a.getUserMediaDetail(e,t,n)})).catch((function(t){"NotAllowedError"===t.name?(console.debug("Permission denied error"),a.callbackError("ScreenSharePermissionDenied"),a.switchVideoSource(this.streamId,e,null,!0)):a.callbackError(t.name,t.message)})):navigator.mediaDevices.getUserMedia(e).then((function(n){a.getUserMediaDetail(e,t,n)})).catch((function(e){a.callbackError(e.name,e.message)}))},this.openStream=function(e){a.mediaConstraints=e;var t=!1;"undefined"!=typeof e.audio&&0!=e.audio&&(t=e.audio),"undefined"!=typeof e.video?a.getUserMedia(e,t):(console.error("MediaConstraint video is not defined"),a.callbackError("media_constraint_video_not_defined"))},this.closeStream=function(){a.localStream.getVideoTracks().forEach((function(e){e.onended=null,e.stop()})),a.localStream.getAudioTracks().forEach((function(e){e.onended=null,e.stop()}))},this.checkBrowserScreenShareSupported=function(){window.addEventListener("message",(function e(t){(navigator.mediaDevices.getDisplayMedia||navigator.getDisplayMedia)&&(a.callback("browser_screen_share_supported"),window.removeEventListener("message",e))}),!1),window.postMessage("are-you-there","*")},a.checkBrowserScreenShareSupported(),this.isPlayMode||"undefined"==typeof a.mediaConstraints||null!=this.localStream)null!=a.webSocketAdaptor&&0!=a.webSocketAdaptor.isConnected()||(a.webSocketAdaptor=new o);else if("undefined"!=typeof a.mediaConstraints.video&&0!=a.mediaConstraints.video)a.mediaConstraints.audio.mandatory?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(e){navigator.mediaDevices.getUserMedia(a.mediaConstraints).then((function(t){var n=new AudioContext,r=n.createGain();r.gain.value=1;var o=n.createMediaStreamDestination();n.createMediaStreamSource(t).connect(r),a.micGainNode=n.createGain(),a.micGainNode.gain.value=1,n.createMediaStreamSource(e).connect(a.micGainNode),r.connect(o),a.micGainNode.connect(o),t.removeTrack(t.getAudioTracks()[0]),o.stream.getAudioTracks().forEach((function(e){t.addTrack(e)})),console.debug("Running gotStream"),a.gotStream(t)})).catch((function(e){a.callbackError(e.name,e.message)}))})).catch((function(e){a.callbackError(e.name,e.message)})):a.openStream(a.mediaConstraints,a.mode);else{var r={audio:a.mediaConstraints.audio};navigator.mediaDevices.getUserMedia(r).then((function(e){a.gotStream(e)})).catch((function(e){a.callbackError(e.name,e.message)}))}function o(){var e=new WebSocket(a.websocket_url),t=!1,n=-1,r=function(){-1!=n&&(a.debug&&console.debug("Clearing ping message timer"),clearInterval(n),n=-1)};this.close=function(){e.close()},e.onopen=function(){a.debug&&console.log("websocket connected"),n=setInterval((function(){e.send(JSON.stringify({command:"ping"}))}),3e3),t=!0,a.callback("initialized")},this.send=function(t){0!=e.readyState&&2!=e.readyState&&3!=e.readyState?(e.send(t),console.log("sent message:"+t)):a.callbackError("WebSocketNotConnected")},this.isConnected=function(){return t},e.onmessage=function(e){var t=JSON.parse(e.data);"start"==t.command?(a.debug&&console.debug("received start command"),a.startPublishing(t.streamId)):"takeCandidate"==t.command?(a.debug&&(console.debug("received ice candidate for stream id "+t.streamId),console.debug(t.candidate)),a.takeCandidate(t.streamId,t.label,t.candidate)):"takeConfiguration"==t.command?(a.debug&&console.log("received remote description type for stream id: "+t.streamId+" type: "+t.type),a.takeConfiguration(t.streamId,t.sdp,t.type)):"stop"==t.command?(console.debug("Stop command received"),a.closePeerConnection(t.streamId)):"error"==t.command?a.callbackError(t.definition):"notification"==t.command?(a.callback(t.definition,t),"play_finished"!=t.definition&&"publish_finished"!=t.definition||a.closePeerConnection(t.streamId)):"streamInformation"==t.command?a.callback(t.command,t):"pong"==t.command?a.callback(t.command):"trackList"==t.command?a.callback(t.command,t):"connectWithNewId"==t.command?(a.multiPeerStreamId=t.streamId,a.join(t.streamId)):"peerMessageCommand"==t.command&&a.callback(t.command,t)},e.onerror=function(e){console.log(" error occured: "+JSON.stringify(e)),r(),a.callbackError(e)},e.onclose=function(e){t=!1,console.log("connection closed."),r(),a.callback("closed",e)}}this.enableMicInMixedAudio=function(e){null!=a.micGainNode&&(a.micGainNode.gain.value=e?1:0)},this.publish=function(e,t){var n={command:"publish",streamId:e,token:t,video:a.localStream.getVideoTracks().length>0,audio:a.localStream.getAudioTracks().length>0};a.webSocketAdaptor.send(JSON.stringify(n))},this.joinRoom=function(e,t){a.roomName=e;var n={command:"joinRoom",room:e,streamId:t};a.webSocketAdaptor.send(JSON.stringify(n))},this.play=function(e,t,n,r){a.playStreamId.push(e);var o={command:"play",streamId:e,token:t,room:n,trackList:r};a.webSocketAdaptor.send(JSON.stringify(o))},this.stop=function(e){a.closePeerConnection(e);var t={command:"stop",streamId:e};a.webSocketAdaptor.send(JSON.stringify(t))},this.join=function(e){var t={command:"join",streamId:e,multiPeer:a.isMultiPeer&&null==a.multiPeerStreamId,mode:a.isPlayMode?"play":"both"};a.webSocketAdaptor.send(JSON.stringify(t))},this.leaveFromRoom=function(e){a.roomName=e;var t={command:"leaveFromRoom",room:e};console.log("leave request is sent for "+e),a.webSocketAdaptor.send(JSON.stringify(t))},this.leave=function(e){var t={command:"leave",streamId:a.isMultiPeer&&null!=a.multiPeerStreamId?a.multiPeerStreamId:e};a.webSocketAdaptor.send(JSON.stringify(t)),a.closePeerConnection(e),a.multiPeerStreamId=null},this.getStreamInfo=function(e){var t={command:"getStreamInfo",streamId:e};this.webSocketAdaptor.send(JSON.stringify(t))},this.enableTrack=function(e,t,a){var n={command:"enableTrack",streamId:e,trackId:t,enabled:a};this.webSocketAdaptor.send(JSON.stringify(n))},this.getTracks=function(e,t){a.playStreamId.push(e);var n={command:"getTrackList",streamId:e,token:t};a.webSocketAdaptor.send(JSON.stringify(n))},this.gotStream=function(e){a.localStream=e,a.localVideo.srcObject=e,null!=a.webSocketAdaptor&&0!=a.webSocketAdaptor.isConnected()||(a.webSocketAdaptor=new o)},this.switchVideoCapture=function(e){a.switchVideoSource(e,{video:!0,audio:!1},null,!0)},this.switchDesktopCapture=function(e){this.mediaConstraints.video="screen",this.mediaConstraints.audio=!0;var t=!1;"undefined"!=typeof this.mediaConstraints.audio&&0!=this.mediaConstraints.audio&&(t=this.mediaConstraints.audio),a.getUserMedia(this.mediaConstraints,t)},this.switchDesktopCaptureWithCamera=function(e){this.mediaConstraints.video="screen+camera",this.mediaConstraints.audio=!0,a.camera_location="top",a.camera_margin=15,a.camera_percent=15;var t=!1;"undefined"!=typeof this.mediaConstraints.audio&&0!=this.mediaConstraints.audio&&(t=this.mediaConstraints.audio),a.getUserMedia(this.mediaConstraints,t)},a.arrangeStreams=function(e,t,n){n&&null!=a.desktopStream&&a.desktopStream.getVideoTracks()[0].stop();var r=a.localStream.getVideoTracks()[0];a.localStream.removeTrack(r),r.stop(),a.localStream.addTrack(e.getVideoTracks()[0]),a.localVideo.srcObject=a.localStream,null!=t&&(e.getVideoTracks()[0].onended=function(e){t(e)})},this.switchVideoSource=function(e,t,n,r){navigator.mediaDevices.getUserMedia(t).then((function(t){null!=a.remotePeerConnection[e]?a.remotePeerConnection[e].getSenders().find((function(e){return"video"==e.track.kind})).replaceTrack(t.getVideoTracks()[0]).then((function(e){a.arrangeStreams(t,n,r)})).catch((function(e){console.log(e.name)})):a.arrangeStreams(t,n,r)})).catch((function(e){a.callbackError(e.name)}))},this.switchDesktopSource=function(e,t,n,r,o){null!=a.remotePeerConnection[t]?a.remotePeerConnection[t].getSenders().find((function(e){return"video"==e.track.kind})).replaceTrack(e.getVideoTracks()[0]).then((function(t){a.arrangeStreams(e,r,o)})).catch((function(e){console.log(e.name)})):a.arrangeStreams(e,r,o)},this.onTrack=function(e,t){if(console.log("onTrack"),null!=a.remoteVideo)a.remoteVideo.srcObject!==e.streams[0]&&(a.remoteVideo.srcObject=e.streams[0],console.log("Received remote stream"));else{var n={stream:e.streams[0],track:e.track,streamId:t};a.callback("newStreamAvailable",n)}},this.iceCandidateReceived=function(e,t){if(e.candidate){if(a.candidateTypes.includes(e.candidate.protocol)){var n={command:"takeCandidate",streamId:t,label:e.candidate.sdpMLineIndex,id:e.candidate.sdpMid,candidate:e.candidate.candidate};a.debug&&(console.log("sending ice candiate for stream Id "+t),console.log(JSON.stringify(e.candidate)))}else a.debug&&console.log("Candidate's protocol("+e.candidate.protocol+") is not supported. Supported protocols: "+a.candidateTypes);a.webSocketAdaptor.send(JSON.stringify(n))}},this.initPeerConnection=function(e){if(null==a.remotePeerConnection[e]){var t=e;console.log("stream id in init peer connection: "+e+" close stream id: "+t),a.remotePeerConnection[e]=new RTCPeerConnection(a.peerconnection_config),a.remoteDescriptionSet[e]=!1,a.iceCandidateList[e]=new Array,a.playStreamId.includes(e)||null!=a.localStream&&a.remotePeerConnection[e].addStream(a.localStream),a.remotePeerConnection[e].onicecandidate=function(e){a.iceCandidateReceived(e,t)},a.remotePeerConnection[e].ontrack=function(e){a.onTrack(e,t)};var n=a.remotePeerConnection[e].createDataChannel(e,{ordered:!0});n.onerror=function(e){console.log("Data Channel Error:",e)},n.onmessage=function(e){console.log("Got Data Channel Message:",e.data)},n.onopen=function(){a.remotePeerConnection[e].dataChannel=n},n.onclose=function(){console.log("The Data Channel is Closed")},a.remotePeerConnection[e].oniceconnectionstatechange=function(t){var n={state:a.remotePeerConnection[e].iceConnectionState,streamId:e};a.callback("ice_connection_state_changed",n),a.isPlayMode||"connected"==a.remotePeerConnection[e].iceConnectionState&&a.changeBandwidth(a.bandwidth,e).then((function(){console.log("Bandwidth is changed to "+a.bandwidth)})).catch((function(e){return console.error(e)}))},a.remotePeerConnection[e].ondatachannel=function(t){t.channel.onopen=function(){a.remotePeerConnection[e].dataChannel=t.channel,console.log("Data channel is open and ready to be used.")},t.channel.onmessage=function(e){console.log("Data Channel OnMessage :",e.data)},t.channel.onclose=function(){console.log("The Data Channel is Closed")},t.channel.onerror=function(e){console.log("Data Channel Error:",e)}}}},this.closePeerConnection=function(e){if(null!=a.remotePeerConnection[e]&&"closed"!=a.remotePeerConnection[e].signalingState){a.remotePeerConnection[e].close(),a.remotePeerConnection[e]=null,delete a.remotePeerConnection[e];var t=a.playStreamId.indexOf(e);-1!=t&&a.playStreamId.splice(t,1)}null!=a.remotePeerConnectionStats[e]&&(clearInterval(a.remotePeerConnectionStats[e].timerId),delete a.remotePeerConnectionStats[e])},this.signallingState=function(e){return null!=a.remotePeerConnection[e]?a.remotePeerConnection[e].signalingState:null},this.iceConnectionState=function(e){return null!=a.remotePeerConnection[e]?a.remotePeerConnection[e].iceConnectionState:null},this.gotDescription=function(e,t){a.remotePeerConnection[t].setLocalDescription(e).then((function(n){console.debug("Set local description successfully for stream Id "+t);var r={command:"takeConfiguration",streamId:t,type:e.type,sdp:e.sdp};a.debug&&(console.debug("local sdp: "),console.debug(e.sdp)),a.webSocketAdaptor.send(JSON.stringify(r))})).catch((function(e){console.error("Cannot set local description. Error is: "+e)}))},this.turnOffLocalCamera=function(){null!=a.remotePeerConnection?a.localStream.getVideoTracks()[0].enabled=!1:this.callbackError("NoActiveConnection")},this.turnOnLocalCamera=function(){null!=a.remotePeerConnection?a.localStream.getVideoTracks()[0].enabled=!0:this.callbackError("NoActiveConnection")},this.muteLocalMic=function(){null!=a.remotePeerConnection?a.localStream.getAudioTracks()[0].enabled=!1:this.callbackError("NoActiveConnection")},this.unmuteLocalMic=function(){null!=a.remotePeerConnection?a.localStream.getAudioTracks()[0].enabled=!0:this.callbackError("NoActiveConnection")},this.takeConfiguration=function(e,t,n){var r=e,o=n,c=t;a.initPeerConnection(r),a.remotePeerConnection[r].setRemoteDescription(new RTCSessionDescription({sdp:c,type:o})).then((function(e){a.debug&&(console.debug("set remote description is succesfull with response: "+e+" for stream : "+r+" and type: "+o),console.debug(c)),a.remoteDescriptionSet[r]=!0;var t=a.iceCandidateList[r].length;console.debug("Ice candidate list size to be added: "+t);for(var n=0;n<t;n++)a.addIceCandidate(r,a.iceCandidateList[r][n]);a.iceCandidateList[r]=[],"offer"==o&&(console.log("try to create answer for stream id: "+r),a.remotePeerConnection[r].createAnswer(a.sdp_constraints).then((function(e){console.log("created answer for stream id: "+r),a.gotDescription(e,r)})).catch((function(e){console.error("create answer error :"+e)})))})).catch((function(e){a.debug&&console.error("set remote description is failed with error: "+e),(e.toString().indexOf("InvalidAccessError")>-1||e.toString().indexOf("setRemoteDescription")>-1)&&a.callbackError("notSetRemoteDescription")}))},this.takeCandidate=function(e,t,n){var r=e,o=new RTCIceCandidate({sdpMLineIndex:t,candidate:n});a.initPeerConnection(r),1==a.remoteDescriptionSet[r]?a.addIceCandidate(r,o):(console.debug("Ice candidate is added to list because remote description is not set yet"),a.iceCandidateList[r].push(o))},this.addIceCandidate=function(e,t){a.candidateTypes.includes(t.protocol)?a.remotePeerConnection[e].addIceCandidate(t).then((function(t){a.debug&&console.log("Candidate is added for stream "+e)})).catch((function(a){console.error("ice candiate cannot be added for stream id: "+e+" error is: "+a),console.error(t)})):a.debug&&console.log("Candidate's protocol("+t.protocol+") is not supported. Supported protocols:"+a.candidateTypes)},this.startPublishing=function(e){var t=e;a.initPeerConnection(t),a.remotePeerConnection[t].createOffer(a.sdp_constraints).then((function(e){a.gotDescription(e,t)})).catch((function(e){console.error("create offer error for stream id: "+t+" error: "+e)}))},this.getVideoSender=function(e){for(var t=null,n=a.remotePeerConnection[e].getSenders(),r=0;r<n.length;r++)if(null!=n[r].track&&"video"==n[r].track.kind){t=n[r];break}return t},this.changeBandwidth=function(e,t){var n="",r=a.getVideoSender(t);if(null!=r){var o=r.getParameters();return o.encodings||(o.encodings=[{}]),"unlimited"===e?delete o.encodings[0].maxBitrate:o.encodings[0].maxBitrate=1e3*e,r.setParameters(o)}return n="Video sender not found to change bandwidth",Promise.reject(n)},this.getStats=function(e){a.remotePeerConnection[e].getStats(null).then((function(t){var n=0,r=0,o=0,c=0,s=0;t.forEach((function(e){"inbound-rtp"==e.type?(n+=e.bytesReceived,r+=e.packetsLost,o+=e.fractionLost,c=e.timestamp):"outbound-rtp"==e.type&&(s+=e.bytesSent,c=e.timestamp)})),a.remotePeerConnectionStats[e].totalBytesReceived=n,a.remotePeerConnectionStats[e].packetsLost=r,a.remotePeerConnectionStats[e].fractionLost=o,a.remotePeerConnectionStats[e].currentTime=c,a.remotePeerConnectionStats[e].totalBytesSent=s,a.callback("updated_stats",a.remotePeerConnectionStats[e])}))},this.enableStats=function(e){a.remotePeerConnectionStats[e]=new t(e),a.remotePeerConnectionStats[e].timerId=setInterval((function(){a.getStats(e)}),5e3)},this.closeWebSocket=function(){for(var e in a.remotePeerConnection)a.remotePeerConnection[e].close();a.remotePeerConnection=new Array,a.webSocketAdaptor.close()},this.peerMessage=function(e,t,n){var r={command:"peerMessageCommand",streamId:e,definition:t,data:n};a.webSocketAdaptor.send(JSON.stringify(r))},this.sendData=function(e,t){a.remotePeerConnection[e].dataChannel.send(t)}}var Ze,Xe=function(e,t){var a=t;r.publish(a,e)},Qe=a(731),$e=a(108),et=a(713),tt=a(714),at=a(715),nt=a(716),rt=a(717),ot=a(718),ct=a(719),st=Object(m.b)((function(e){return{streamState:e.stream,publishToken:e.lecture.publishToken}}),{initWebrtc:function(e){return function(){var t=Object(S.a)(y.a.mark((function t(a){var n,o,c,s,i,l,u,m,d;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.a.get("".concat(x.URL.Server,"/api/classrooms/").concat(e));case 3:n=t.sent,o="wss://".concat(window.location.hostname,":5443/").concat(n.data.mediaServerApp,"/websocket"),r=new Ke({websocket_url:o,mediaConstraints:{audio:!0,video:!0},peerconnection_config:null,sdp_constraints:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1},localVideoId:"localVideo",debug:!0,callback:function(e,t){"initialized"==e?(console.log("initialized"),a({type:"CONNECTION_SUCCESS"})):"publish_started"==e?(console.log("publish started"),a({type:"START_SHARING_SUCCESS"})):"publish_finished"==e?(console.log("publish finished"),a({type:"STOP_SHARING"})):"closed"==e?("undefined"!=typeof t&&console.log("Connecton closed: "+JSON.stringify(t)),a({type:"CONNECTION_CLOSE"})):"refreshConnection"==e?(a({type:"START_SHARING"}),Xe()):"updated_stats"==e&&console.log("Average outgoing bitrate "+t.averageOutgoingBitrate+" kbits/sec Current outgoing bitrate: "+t.currentOutgoingBitrate+" kbits/sec")},callbackError:function(e,t){console.log("error callback: "+JSON.stringify(e));var n=JSON.stringify(e);"undefined"!=typeof t&&(n=t),-1!=e.indexOf("NotFoundError")?n="Camera or mic are not found or not allowed in your device.":-1!=e.indexOf("NotReadableError")||-1!=e.indexOf("TrackStartError")?n="Camera or mic is being used by some other program. Please, make sure and try again.":-1!=e.indexOf("OverconstrainedError")||-1!=e.indexOf("ConstraintNotSatisfiedError")?n="No device was found for audio/video.":-1!=e.indexOf("NotAllowedError")||-1!=e.indexOf("PermissionDeniedError")?n="Please, allow the browser to access camera and mic.":-1!=e.indexOf("TypeError")?n="Connection error.":-1!=e.indexOf("ScreenSharePermissionDenied")?n="Please, allow screen sharing in the browser.":-1!=e.indexOf("WebSocketNotConnected")&&(n="Connection error.",a({type:"CONNECTION_CLOSE"})),alert(n)}}),t.next=33;break;case 8:if(t.prev=8,t.t0=t.catch(0),!t.t0.response){t.next=32;break}if(!(c=t.t0.response.data.errors)){t.next=32;break}for(s=!0,i=!1,l=void 0,t.prev=16,u=c[Symbol.iterator]();!(s=(m=u.next()).done);s=!0)d=m.value,a(w(d.msg,"error",5e3));t.next=24;break;case 20:t.prev=20,t.t1=t.catch(16),i=!0,l=t.t1;case 24:t.prev=24,t.prev=25,s||null==u.return||u.return();case 27:if(t.prev=27,!i){t.next=30;break}throw l;case 30:return t.finish(27);case 31:return t.finish(24);case 32:console.log("Error",t.t0);case 33:case"end":return t.stop()}}),t,null,[[0,8],[16,20,24,32],[25,,27,31]])})));return function(e){return t.apply(this,arguments)}}()},startPublishingAction:function(e,t){return function(a){a({type:"START_SHARING"}),Xe(e,t)}},stopPublishing:function(e){return function(t){r.stop(e),t({type:"STOP_SHARING"})}}})((function(e){var t=e.streamState,a=e.publishToken,n=e.initWebrtc,r=e.startPublishingAction,s=e.stopPublishing,i=Object(u.h)().id;Object(o.useEffect)((function(){n(i)}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Qe.a.Group,{defaultValue:"webcam"},c.a.createElement(Qe.a.Button,{value:"webcam"},c.a.createElement(et.a,null)," Webcam"),c.a.createElement(Qe.a.Button,{value:"screen"},c.a.createElement(tt.a,null)," Screen"),c.a.createElement(Qe.a.Button,{value:"audio"},c.a.createElement(at.a,null)," Audio Only")),t.isSharing?c.a.createElement(E.a,{onClick:function(){s(i)},icon:c.a.createElement(rt.a,null),type:"danger"},"Stop Sharing"):c.a.createElement(E.a,{onClick:function(){r(a,i)},disabled:!t.webrtcConnected,icon:c.a.createElement(nt.a,null),type:"primary"},"Start Sharing"),c.a.createElement($e.a,{title:t.micMuted?"Unmute mic":"Mute mic"},c.a.createElement(E.a,{shape:"circle",icon:t.micMuted?c.a.createElement(ot.a,null):c.a.createElement(ct.a,null)})))})),it=Object(m.b)((function(e){return{token:e.auth.token,lectureStarted:e.lecture.lectureStarted,onlineUsers:e.lecture.onlineUsers,streamState:e.stream}}),{initSocket:Me,joinClassroom:Je,startLecture:function(e){return function(){var t=Object(S.a)(y.a.mark((function t(a){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.a.post("".concat(x.URL.Server,"/api/classrooms/").concat(e,"/start"));case 3:return n.emit("startLecture"),t.next=6,T.a.get("".concat(x.URL.Server,"/api/streams/publishToken?classroomId=").concat(e));case 6:r=t.sent,a({type:"GET_PUBLISH_TOKEN",payload:r}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Error starting the lecture",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},stopLecture:function(e){return function(){var t=Object(S.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.post("".concat(x.URL.Server,"/api/classrooms/").concat(e,"/stop"));case 2:n.emit("stopLecture");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.initSocket,a=e.joinClassroom,n=e.token,r=e.lectureStarted,s=e.startLecture,i=e.stopLecture,l=e.onlineUsers,m=(e.streamState,Object(u.h)().id);Object(o.useEffect)((function(){t(n,m)}),[n,m]),Object(o.useEffect)((function(){r&&a()}),[r,m]);return c.a.createElement(Q.a.Content,null,r?c.a.createElement(c.a.Fragment,null,c.a.createElement(je.a,null,c.a.createElement(Pe.a,{span:8},c.a.createElement(We,null)),c.a.createElement(Pe.a,{span:16},c.a.createElement(E.a,{type:"danger",onClick:function(){i(m)}},"Stop Lecture"),c.a.createElement(_.a,{bordered:!0,header:c.a.createElement(st,null),dataSource:l,renderItem:function(e){return c.a.createElement(_.a.Item,{key:e._id,actions:[c.a.createElement("a",{key:"options"},"...")]},c.a.createElement(_.a.Item.Meta,{avatar:c.a.createElement(V.a,{style:{backgroundColor:e.color,verticalAlign:"middle"},size:"large"},e.name),title:e.name,description:e.kind}))}}),c.a.createElement("video",{id:"localVideo"})))):c.a.createElement(D.a,{icon:c.a.createElement(ze.a,null),title:"The lecture has not started yet.",extra:c.a.createElement(E.a,{type:"primary",onClick:function(){s(m)}},"Start a Lecture")}))})),lt=R.a.create({name:"login-as-guest"})((function(e){var t=e.form,a=e.loginAsGuest,n=e.isAuthenticated,r=function(){var e=Object(S.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t.validateFields((function(e,t){e||a(t.username)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(n)return c.a.createElement(u.a,{to:"/dashboard"});var s=t.getFieldDecorator;return c.a.createElement(o.Fragment,null,c.a.createElement("h2",null,"Login as a guest"),c.a.createElement(R.a,{onSubmit:r,className:"login-form"},c.a.createElement(R.a.Item,null,s("username",{rules:[{required:!0,message:"Please input your username!"}]})(c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),c.a.createElement(E.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")))})),ut=Object(m.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{loginAsGuest:function(e){return function(){var t=Object(S.a)(y.a.mark((function t(a){var n,r,o,c,s,i,l,u,m,d;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={"Content-Type":"application/json"},r=JSON.stringify({name:e}),t.prev=2,t.next=5,T.a.post(I+"/api/auth/guest",r,{headers:n});case 5:o=t.sent,a({type:"LOGIN_SUCCESS",payload:o.data}),t.next=33;break;case 9:if(t.prev=9,t.t0=t.catch(2),!(c=t.t0.response.data.errors)){t.next=32;break}for(s=!0,i=!1,l=void 0,t.prev=16,u=c[Symbol.iterator]();!(s=(m=u.next()).done);s=!0)d=m.value,a(w(d.msg,"error",1e5));t.next=24;break;case 20:t.prev=20,t.t1=t.catch(16),i=!0,l=t.t1;case 24:t.prev=24,t.prev=25,s||null==u.return||u.return();case 27:if(t.prev=27,!i){t.next=30;break}throw l;case 30:return t.finish(27);case 31:return t.finish(24);case 32:a({type:"LOGIN_FAIL"});case 33:case"end":return t.stop()}}),t,null,[[2,9],[16,20,24,32],[25,,27,31]])})));return function(e){return t.apply(this,arguments)}}()}})(lt),mt=Object(m.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user}}))((function(e){var t=e.isAuthenticated,a=e.user,n=t?c.a.createElement(o.Fragment,null,c.a.createElement("h3",null,"welcome ",a.name," in Swift Course Home Page as a ",a.kind),c.a.createElement(l.b,{to:"/dashboard"},"Go to dashboard")):c.a.createElement(o.Fragment,null,c.a.createElement("h3",null,"welcome in Swift Course Home Page"),c.a.createElement("p",{style:{color:"#000000"}},"SiwftCourse, a web application that uses the BitTorrent protocol and other features that make it cost less bandwidth. The system will take advantage of the students\u2019 upload bandwidth to support the stream. To solve the timing of classes problem, the lecture will be recorded so students can still watch it after it ends for a period of 24 hours. Furthermore, there will be no need for a mobile app because the website will be responsive (supports all screen sizes)."),c.a.createElement("div",null,c.a.createElement(l.b,{to:"/register/student"},"join us"),"\xa0\xa0\xa0\xa0",c.a.createElement(l.b,{to:"/register/tutor"},"be a tutor in our site"),"\xa0\xa0\xa0\xa0",c.a.createElement(l.b,{to:"/login"},"Already have an account")));return c.a.createElement(o.Fragment,null,c.a.createElement("h1",null,"Swift Course"),c.a.createElement("h2",null,"A Fast and Affordable Online Classroom System"),n)})),dt=Object(m.b)((function(e){return{user:e.auth.user,loading:e.auth.loading}}),{deleteAdmin:function(e,t,a){return function(){var n=Object(S.a)(y.a.mark((function n(r){var o,c,s,i,l,u,m,d;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={headers:{"Content-Type":"application/json"}},n.prev=1,r({type:"DELETE_ADMIN"}),n.next=5,T.a.delete(J+"/api/administrators/".concat(e),o);case 5:setTimeout((function(){r({type:"DELETE_ADMIN_SUCCESS"}),t.push(a)}),2e3),r(A()),n.next=34;break;case 9:if(n.prev=9,n.t0=n.catch(1),console.log(n.t0),!(c=n.t0.response.data.errors)){n.next=33;break}for(s=!0,i=!1,l=void 0,n.prev=17,u=c[Symbol.iterator]();!(s=(m=u.next()).done);s=!0)d=m.value,r(w(d.msg,"error",1e5));n.next=25;break;case 21:n.prev=21,n.t1=n.catch(17),i=!0,l=n.t1;case 25:n.prev=25,n.prev=26,s||null==u.return||u.return();case 28:if(n.prev=28,!i){n.next=31;break}throw l;case 31:return n.finish(28);case 32:return n.finish(25);case 33:r({type:"DELETE_ADMIN_FAIL"});case 34:case"end":return n.stop()}}),n,null,[[1,9],[17,21,25,33],[26,,28,32]])})));return function(e){return n.apply(this,arguments)}}()},editAdmin:function(e,t,a){var n=e.name,r=e.email,o=e.password;return(function(){var e=Object(S.a)(y.a.mark((function e(c){var s,i,l,u,m,d,p,f,h;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:{"Content-Type":"application/json"}},i=JSON.stringify({name:n,email:r,password:o}),e.prev=2,c({type:"EDIT_ADMIN"}),e.next=6,T.a.put(J+"/api/administrators/",i,s);case 6:setTimeout((function(){c({type:"EDIT_ADMIN_SUCCESS"}),t.push(a)}),2e3),c(A()),e.next=35;break;case 10:if(e.prev=10,e.t0=e.catch(2),console.log(e.t0),!(l=e.t0.response.data.errors)){e.next=34;break}for(u=!0,m=!1,d=void 0,e.prev=18,p=l[Symbol.iterator]();!(u=(f=p.next()).done);u=!0)h=f.value,c(w(h.msg,"error",1e5));e.next=26;break;case 22:e.prev=22,e.t1=e.catch(18),m=!0,d=e.t1;case 26:e.prev=26,e.prev=27,u||null==p.return||p.return();case 29:if(e.prev=29,!m){e.next=32;break}throw d;case 32:return e.finish(29);case 33:return e.finish(26);case 34:c({type:"EDIT_ADMIN_FAIL"});case 35:case"end":return e.stop()}}),e,null,[[2,10],[18,22,26,34],[27,,29,33]])})));return function(t){return e.apply(this,arguments)}}())}})((function(e){var t,a=e.deleteAdmin,n=e.editAdmin,r=e.user,s=e.loading,i=Object(u.g)(),l=p.a.useForm(),m=Object(d.a)(l,1)[0],h=Object(u.h)().id;Object(o.useEffect)((function(){(t=r)&&m.setFieldsValue({email:t.email,name:t.name})}));return c.a.createElement(o.Fragment,null,c.a.createElement("h1",null,"Edit administrator Profile"),c.a.createElement("p",null,"Edit your information."),c.a.createElement(K.a,{indicator:c.a.createElement(Z.a,{style:{fontSize:24},spin:!0}),size:"large",spinning:s},c.a.createElement(p.a,{form:m,onFinish:function(e){var a=e.email,r=e.name;t=Object(ae.a)({},t,{email:a,name:r}),n(t,i,"/dashboard")}},c.a.createElement(p.a.Item,{name:"email",rules:[{required:!0,message:"Please input email!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"your email"})),c.a.createElement(p.a.Item,{name:"name",rules:[{required:!0,message:"Please input name!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"your name"})),c.a.createElement(p.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"})),c.a.createElement(p.a.Item,{name:"password2",rules:[{required:!0,message:"Please input your Password!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"})),c.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Edit your information"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(ne.a,{title:"Are you sure that you want to delete your account?",okText:"Yes",cancelText:"No",onConfirm:function(){a(h,i,"/")},okType:"danger",icon:c.a.createElement(re.a,{style:{color:"red"}})},c.a.createElement(E.a,{type:"primary",danger:!0},"Delete your account")))))})),pt=Object(m.b)((function(e){return{user:e.auth.user,loading:e.auth.loading}}),{deleteTutor:W,editTutor:B})((function(e){var t,a=e.deleteTutor,n=e.editTutor,r=e.user,s=e.loading,i=Object(u.g)(),l=p.a.useForm(),m=Object(d.a)(l,1)[0],h=Object(u.h)().id;Object(o.useEffect)((function(){(t=r)&&m.setFieldsValue({email:t.email,name:t.name})}));return c.a.createElement(o.Fragment,null,c.a.createElement("h1",null,"Edit Tutor Profile"),c.a.createElement("p",null,"Edit your information."),c.a.createElement(K.a,{indicator:c.a.createElement(Z.a,{style:{fontSize:24},spin:!0}),size:"large",spinning:s},c.a.createElement(p.a,{form:m,onFinish:function(e){var a=e.email,r=e.name;t=Object(ae.a)({},t,{email:a,name:r}),n(t,i,"/dashboard")}},c.a.createElement(p.a.Item,{name:"email",rules:[{required:!0,message:"Please input email!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"your email"})),c.a.createElement(p.a.Item,{name:"name",rules:[{required:!0,message:"Please input name!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"your name"})),c.a.createElement(p.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"})),c.a.createElement(p.a.Item,{name:"password2",rules:[{required:!0,message:"Please input your Password!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"})),c.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Edit your information"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(ne.a,{title:"Are you sure that you want to delete your account?",okText:"Yes",cancelText:"No",onConfirm:function(){a(h,i,"/")},okType:"danger",icon:c.a.createElement(re.a,{style:{color:"red"}})},c.a.createElement(E.a,{type:"primary",danger:!0},"Delete your account")))))})),ft=Object(m.b)((function(e){return{user:e.auth.user,loading:e.auth.loading}}),{deleteStudent:Y,editStudent:z})((function(e){var t,a=e.deleteStudent,n=e.editStudent,r=e.user,s=e.loading,i=Object(u.g)(),l=p.a.useForm(),m=Object(d.a)(l,1)[0],h=Object(u.h)().id;Object(o.useEffect)((function(){(t=r)&&m.setFieldsValue({email:t.email,name:t.name})}));return c.a.createElement(o.Fragment,null,c.a.createElement("h1",null,"Edit Student Profile"),c.a.createElement("p",null,"Edit your information."),c.a.createElement(K.a,{indicator:c.a.createElement(Z.a,{style:{fontSize:24},spin:!0}),size:"large",spinning:s},c.a.createElement(p.a,{form:m,onFinish:function(e){var a=e.email,r=e.name;t=Object(ae.a)({},t,{email:a,name:r}),n(t,i,"/dashboard")}},c.a.createElement(p.a.Item,{name:"email",rules:[{required:!0,message:"Please input email!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"your email"})),c.a.createElement(p.a.Item,{name:"name",rules:[{required:!0,message:"Please input name!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"your name"})),c.a.createElement(p.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"})),c.a.createElement(p.a.Item,{name:"password2",rules:[{required:!0,message:"Please input your Password!"}]},c.a.createElement(f.a,{prefix:c.a.createElement(R.b,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"})),c.a.createElement(E.a,{type:"primary",htmlType:"submit"},"Edit your information"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(ne.a,{title:"Are you sure that you want to delete your account?",okText:"Yes",cancelText:"No",onConfirm:function(){a(h,i,"/")},okType:"danger",icon:c.a.createElement(re.a,{style:{color:"red"}})},c.a.createElement(E.a,{type:"primary",danger:!0},"Delete your account")))))})),ht=Object(m.b)((function(e){return{user:e.auth.user}}))((function(e){var t=null;switch(e.user.kind){case"Administrator":t=c.a.createElement(dt,null);break;case"Tutor":t=c.a.createElement(pt,null);break;case"Student":t=c.a.createElement(ft,null);break;default:t=c.a.createElement(F,null)}return c.a.createElement(o.Fragment,null,t)})),Et=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.auth,a=t.loading?null:c.a.createElement(u.b,{path:"/dashboard",render:function(e){return c.a.createElement(Ae,Object.assign({},e,{userKind:t.user.kind}))}});return c.a.createElement(c.a.Fragment,null,c.a.createElement(M.a,{active:!0,loading:t.loading&&null!==t.user},c.a.createElement(L,null),c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/myProfile",component:ht}),c.a.createElement(u.b,{path:"/register/tutor",component:U}),c.a.createElement(u.b,{path:"/register/student",component:N}),c.a.createElement(u.b,{path:"/login/guest",component:ut}),c.a.createElement(u.b,{path:"/login",component:j}),c.a.createElement(u.b,{path:"/classroom/:id/tutor",component:it}),c.a.createElement(u.b,{exact:!0,path:"/classroom/:id/",component:Ye}),a,c.a.createElement(u.b,{exact:!0,path:"/",component:mt}),c.a.createElement(u.b,{component:F}))))})),bt=a(74),gt=a(354),vt=a(355),yt=[],St={token:localStorage.getItem("token"),isAuthenticated:!1,loading:!0,user:null},kt={loading:!0,tutors:[],students:[],classrooms:[]},Tt={loading:!0,messages:[],lectureStarted:!1,onlineUsers:[],publishToken:"",playToken:""},Ct={loading:!1,currentStreamUrl:"",currentStreamerId:"",isSharing:!1,webrtcConnected:!1,micMuted:!1},Ot=Object(bt.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(G.a)(e),[n]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return Object(ae.a)({},e,{isAuthenticated:!0,loading:!1,user:n});case"LOGIN_SUCCESS":return Object(ae.a)({},e,{isAuthenticated:!0,loading:!1},n);case"REGISTER_SUCCESS":return Object(ae.a)({},e,{},n,{isAuthenticated:!0,loading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":case"REGISTER_FAIL":return Object(ae.a)({},e,{token:null,isAuthenticated:!1,loading:!1});default:return e}},admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TUTORS":return{loading:!1,tutors:t.payload};case"GET_STUDENTS":return{loading:!1,students:t.payload};case"EDIT_TOTUR":case"EDIT_STUDENT":case"EDIT_CLASSROOM":case"DELETE_CLASSROOM":case"DELETE_STUDENT":case"DELETE_TUTOR":case"DELETE_ADMIN":case"EDIT_ADMIN":return Object(ae.a)({},e,{loading:!0});case"EDIT_TUTOR_SUCCESS":return{loading:!1,tutors:t.payload};case"EDIT_STUDENT_SUCCESS":return{loading:!1,students:t.payload};case"EDIT_CLASSROOM_SUCCESS":return{loading:!1,classrooms:t.payload};case"DELETE_TUTOR_SUCCESS":return{loading:!1,tutors:t.payload};case"DELETE_STUDENT_SUCCESS":return{loading:!1,students:t.payload};case"DELETE_CLASSROOM_SUCCESS":return{loading:!1,classrooms:t.payload};case"DELETE_STUDENT_FAIL":case"DELETE_TUTOR_FAIL":case"DELETE_CLASSROOM_FAIL":case"DELETE_ADMIN_FAIL":case"EDIT_TUTOR_FAIL":case"EDIT_STUDENT_FAIL":case"EDIT_CLASSROOM_FAIL":case"EDIT_ADMIN_FAIL":return Object(ae.a)({},e,{loading:!1});case"GET_CLASSROOMS":return{loading:!1,classrooms:t.payload};case"ADD_CLASSROOM":return{loading:!0,classrooms:[].concat(Object(G.a)(e.classrooms),[t.payload])};case"DELETE_ADMIN_SUCCESS":case"EDIT_ADMIN_SUCCESS":return{loading:!1};default:return kt}},tutor:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0,t=e.payload,a=e.type;switch(a){case"GET_TUTOR_LECTURES":return{loading:!1,lectures:t,classrooms:[]};case"GET_TUTOR_CLASSROOMS":return{loading:!1,lectures:[],classrooms:t};default:return{loading:!0,lectures:[],classrooms:[]}}},student:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0,t=e.payload,a=e.type;switch(a){case"GET_STUDENT_LECTURES":return{loading:!1,lectures:t,classrooms:[]};case"GET_STUDENT_CLASSROOMS":return{loading:!1,lectures:[],classrooms:t};default:return{loading:!0,lectures:[],classrooms:[]}}},lecture:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"ADD_MESSAGE":return Object(ae.a)({},e,{messages:[].concat(Object(G.a)(e.messages),[n])});case"START_LECTURE":return Object(ae.a)({},e,{lectureStarted:!0});case"STOP_LECTURE":return Object(ae.a)({},e,{lectureStarted:!1,publishToken:"",playToken:""});case"GET_MESSAGES":return Object(ae.a)({},e,{messages:n.data,loading:!1});case"LOAD_LECTURE":return Object(ae.a)({},e,{lectureStarted:n.hasStarted,onlineUsers:n.onlineUsers});case"USER_JOINED":return e.onlineUsers.find((function(e){return e._id===n._id}))?e:Object(ae.a)({},e,{onlineUsers:[].concat(Object(G.a)(e.onlineUsers),[n])});case"USER_LEFT":var r=e.onlineUsers.filter((function(e){return e._id!==n._id}));return Object(ae.a)({},e,{onlineUsers:r});case"GET_PUBLISH_TOKEN":return Object(ae.a)({},e,{publishToken:n});case"GET_PLAY_TOKEN":return Object(ae.a)({},e,{playToken:n});case"SEND_MESSAGE":default:return e}},stream:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0,a=(t.payload,t.type);switch(a){case"CONNECTION_SUCCESS":return Object(ae.a)({},e,{webrtcConnected:!0});case"CONNECTION_CLOSE":return Object(ae.a)({},e,{webrtcConnected:!1,isSharing:!1});case"START_SHARING":return Object(ae.a)({},e,{loading:!0});case"START_SHARING_SUCCESS":return Object(ae.a)({},e,{loading:!1,isSharing:!0});case"START_SHARING_FAIL":case"STOP_SHARING":return Object(ae.a)({},e,{loading:!1,isSharing:!1});case"TOGGLE_MIC":return Object(ae.a)({},e,{micMuted:!e.micMuted});default:return e}}}),wt=[vt.a],xt=Object(bt.createStore)(Ot,{},Object(gt.composeWithDevTools)(bt.applyMiddleware.apply(void 0,wt)));xt.subscribe((function(){var e=Ze;if(Ze=xt.getState(),e){if(e.auth.token!==Ze.auth.token){var t=Ze.auth.token;t?localStorage.setItem("token",t):localStorage.removeItem("token")}}else{var a=Ze.auth.token;a&&localStorage.setItem("token",a)}}));var It=xt,At=(a(688),a(727)),jt=a(356),Pt=a.n(jt),Lt=Object(m.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user}}),{logout:function(e,t){return function(){var a=Object(S.a)(y.a.mark((function a(n){return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:setTimeout((function(){n({type:"LOGOUT"}),e.push(t)}),2e3);case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t,a=e.isAuthenticated,n=e.user,r=e.logout,s=Object(u.g)(),i=c.a.createElement(o.Fragment,null,c.a.createElement($.a,null,c.a.createElement($.a.Item,{onClick:function(){r(s,"")}},"Log out"),c.a.createElement($.a.Item,null,c.a.createElement(R.b,{name:"user",type:"user"}),"My Profile",c.a.createElement(l.b,{to:"/myProfile"}))));return a&&n&&(t=c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"welcome-username"},c.a.createElement(V.a,{icon:c.a.createElement(R.b,{type:"user"}),size:"large"}),c.a.createElement(At.a,{overlay:i},c.a.createElement("span",null,"Welcome, ",n.name,"! ",c.a.createElement(R.b,{type:"down"})))))),c.a.createElement(c.a.Fragment,null,c.a.createElement(l.b,{to:""},c.a.createElement("img",{src:Pt.a,alt:"",className:"logo-placeholder"})),t)})),Rt=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Swift Course - A Fast and Affordable Online Classroom System"),c.a.createElement("p",null,"Contact Us : "),c.a.createElement("div",null,"Programmer:",c.a.createElement("a",{href:"mailto:Shadi.1999@windowslive.com"},"Shadi.1999@windowslive.com")),c.a.createElement("br",null),c.a.createElement("div",null,"Web Developer:",c.a.createElement("a",{href:"mailto:ahmed.eee@hotmail.com"},"ahmed.eee@hotmail.com")),c.a.createElement("br",null),c.a.createElement("div",null,"Software Engineer:",c.a.createElement("a",{href:"mailto:aboodyal1996@gmail.com"},"aboodyal1996@gmail.com")))},Ut=Q.a.Header,Nt=Q.a.Footer;var Dt=function(){return Object(o.useEffect)((function(){localStorage.token&&(C(localStorage.token),It.dispatch(A()))}),[]),c.a.createElement(m.a,{store:It},c.a.createElement(l.a,null,c.a.createElement(o.Fragment,null,c.a.createElement(Q.a,null,c.a.createElement(Ut,{style:{height:"130px"}},c.a.createElement(Lt,null)),c.a.createElement(Q.a,null,c.a.createElement(u.d,null,c.a.createElement(u.b,{component:Et}))),c.a.createElement(Nt,null,c.a.createElement(Rt,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(Dt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[361,1,2]]]);