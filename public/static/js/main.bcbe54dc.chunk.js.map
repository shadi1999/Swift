{"version":3,"sources":["logo.png","actions/lecture.js","actions/stream.js","utils/setAuthToken.js","actions/alert.js","actions/types.js","Config.js","actions/auth.js","components/auth/Login.js","components/layout/Alert.js","components/auth/RegisterTutor.js","components/auth/RegisterStudent.js","components/ErrotNotFound.js","actions/adimnActions.js","components/dashboard/admin/TutorsList.js","components/dashboard/admin/AddAdmin.js","components/dashboard/admin/AdminSidebar.js","components/dashboard/admin/StudentsList.js","components/dashboard/admin/EditTutor.js","components/dashboard/admin/EditStudent.js","components/dashboard/HomeDashboard.js","components/dashboard/admin/AddClassroom.js","components/dashboard/admin/GetClassrooms.js","components/dashboard/admin/EditClassroom.js","components/dashboard/admin/AdminDashboard.js","components/dashboard/tutor/TutorSidebar.js","actions/tutorActions.js","components/dashboard/tutor/MyLectures.js","components/dashboard/tutor/MyClassrooms.js","components/dashboard/tutor/TutorDashboard.js","components/dashboard/student/StudentSidebar.js","actions/studentActions.js","components/dashboard/student/MyLectures.js","components/dashboard/student/MyClassrooms.js","components/dashboard/student/StudentDashboard.js","components/dashboard/MainDashboard.js","components/classroom/chat/ChatMessage.js","components/classroom/chat/ChatContainer.js","components/classroom/Classroom.js","utils/webrtc_adaptor.js","store.js","components/classroom/Stream.js","components/classroom/TutorClassroom.js","components/auth/LoginAsGuest.js","components/Home.js","components/layout/AdminProfile.js","components/layout/TutorProfile.js","components/layout/StudentProfile.js","components/layout/Profile.js","components/routing/Routes.js","reducers/alert.js","reducers/auth.js","reducers/adminReducer.js","reducers/lecture.js","reducers/stream.js","reducers/index.js","reducers/tutorReducer.js","reducers/studentReducer.js","components/layout/Navbar.js","components/layout/ContactUs.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","socket","webRTCAdaptor","setAuthToken","token","axios","defaults","headers","common","setAlert","msg","alertType","timeout","dispatch","id","v4","type","payload","setTimeout","Config","URL","Server","Client","loadUser","a","localStorage","get","res","data","connect","state","isAuthenticated","auth","login","email","password","body","JSON","stringify","post","errors","response","error","Form","useForm","form","to","initialValues","remember","onFinish","values","Item","name","rules","required","message","prefix","UserOutlined","className","placeholder","LockOutlined","valuePropName","noStyle","href","htmlType","alerts","alert","length","map","key","showIcon","registerTutor","config","console","log","password2","Private","record","style","color","registerStudent","ErrorNotFound","status","title","subTitle","extra","editTutor","tutor","history","redirectPath","getState","_id","put","tutors","admin","filter","t","push","deleteTutor","delete","editStudent","student","students","deleteStudent","getClassrooms","classrooms","loading","getTutors","useEffect","avatar","active","itemLayout","dataSource","renderItem","item","actions","Meta","icon","user","addAdmin","useHistory","indicator","LoadingOutlined","fontSize","spin","size","spinning","AdminSidebar","theme","mode","getStudents","useParams","find","elm","setFieldsValue","okText","cancelText","onConfirm","okType","QuestionCircleOutlined","danger","tag","kind","addClassroom","grid","gutter","column","editClassroom","classroom","newid","deleteClassroom","newId","undefined","Content","Layout","Sider","AdminDashboard","path","component","EditTutor","TutorsList","AddAdmin","EditStudent","StudentsList","AddClassroom","EditClassroom","GetClassrooms","HomeDashboard","TutorSidebar","lectures","getLectures","pastLectures","startedOn","endedOn","attendance","duration","TutorDashboard","MyLectures","MyClassrooms","StudentSidebar","StudentDashboard","MainDashboard","userKind","ChatMessage","senderFirstName","backgroundColor","verticalAlign","src","filename","exec","target","DownloadOutlined","m","initSocket","classroomId","io","on","emit","hasStarted","onlineUsers","assignColors","playToken","assignColor","lecture","users","deletedIndexes","i","includes","some","other","colorsCopy","colors","pop","indexOf","Math","floor","random","entries","sameName","joinClassroom","messages","sendMessage","loadMessages","M","useState","setMsg","props","action","onChange","info","file","fileList","mimetype","startsWith","lectureId","destination","text","success","btns","onClick","UploadOutlined","u","sender","e","value","addonAfter","lectureStarted","span","HistoryOutlined","WebRTCAdaptor","PeerStats","streamId","this","totalBytesReceivedCount","totalBytesSent","packetsLost","fractionLost","startTime","lastBytesReceived","lastBytesSent","currentTimestamp","lastTime","timerId","firstByteSentCount","firstBytesReceivedCount","totalBytesSentCount","timestamp","bytesReceived","bytesSent","thiz","peerconnection_config","sdp_constraints","remotePeerConnection","Array","remotePeerConnectionStats","remoteDescriptionSet","iceCandidateList","webSocketAdaptor","roomName","videoTrackSender","audioTrackSender","playStreamId","micGainNode","localStream","bandwidth","isMultiPeer","multiPeerStreamId","isPlayMode","debug","candidateTypes","desktopStream","camera_location","camera_margin","camera_percent","hasOwnProperty","localVideo","document","getElementById","localVideoId","remoteVideo","remoteVideoId","window","callbackError","navigator","mediaDevices","getUserMediaDetail","mediaConstraints","audioConstraint","stream","audioTrack","getAudioTracks","removeTrack","getVideoTracks","onended","event","callback","switchVideoSource","media_audio_constraint","audio","getUserMedia","then","audioStream","video","switchDesktopSource","switchDesktopwithCameraSource","addTrack","gotStream","catch","getDisplayMedia","openStream","closeStream","forEach","track","stop","checkBrowserScreenShareSupported","addEventListener","removeEventListener","postMessage","isConnected","WebSocketAdaptor","mandatory","micStream","audioContext","AudioContext","desktopSoundGainNode","createGain","gain","audioDestionation","createMediaStreamDestination","createMediaStreamSource","wsConn","WebSocket","websocket_url","connected","pingTimerId","clearPingTimer","clearInterval","close","onopen","setInterval","send","command","readyState","onmessage","obj","parse","startPublishing","candidate","takeCandidate","label","takeConfiguration","sdp","closePeerConnection","definition","join","onerror","onclose","enableMicInMixedAudio","enable","publish","jsCmd","joinRoom","room","play","roomId","enableTracks","trackList","multiPeer","leaveFromRoom","leave","getStreamInfo","enableTrack","mainTrackId","trackId","enabled","getTracks","srcObject","switchVideoCapture","switchDesktopCapture","switchDesktopCaptureWithCamera","arrangeStreams","onEndedCallback","stopDesktop","videoTrack","getSenders","s","replaceTrack","result","onTrack","streams","dataObj","iceCandidateReceived","protocol","sdpMLineIndex","sdpMid","initPeerConnection","closedStreamId","RTCPeerConnection","addStream","onicecandidate","ontrack","dataChannel","createDataChannel","ordered","oniceconnectionstatechange","iceConnectionState","changeBandwidth","ondatachannel","ev","channel","signalingState","playStreamIndex","splice","signallingState","gotDescription","configuration","setLocalDescription","responose","turnOffLocalCamera","turnOnLocalCamera","muteLocalMic","unmuteLocalMic","idOfStream","typeOfConfiguration","conf","setRemoteDescription","RTCSessionDescription","addIceCandidate","createAnswer","toString","idOfTheStream","tmpLabel","tmpCandidate","RTCIceCandidate","createOffer","errorDefinition","Promise","reject","getStats","stats","currentTime","totalBytesReceived","enableStats","closeWebSocket","peerMessage","sendData","currentState","streamState","initWebrtc","websocketURL","location","hostname","mediaServerApp","OfferToReceiveAudio","OfferToReceiveVideo","averageOutgoingBitrate","currentOutgoingBitrate","errorMessage","Group","defaultValue","Button","VideoCameraOutlined","DesktopOutlined","AudioOutlined","isSharing","PauseCircleOutlined","disabled","webrtcConnected","PlayCircleOutlined","micMuted","shape","AudioFilled","AudioMutedOutlined","startLecture","publishToken","stopLecture","bordered","header","description","Wrapped","create","loginAsGuest","handleSubmit","preventDefault","validateFields","err","username","getFieldDecorator","onSubmit","view","deleteAdmin","editAdmin","administrator","page","privateRoutes","render","Alert","Profile","RegisterTutor","RegisterStudent","LoginAsGuest","Login","TutorClassroom","exact","Classroom","Home","initialState","getItem","initState","currentStreamUrl","currentStreamerId","combineReducers","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","subscribe","previousState","setItem","removeItem","logout","welcome","menu","overlay","Logo","alt","ContactUs","Header","Footer","App","height","Routes","Boolean","match","ReactDOM","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.bcbe54dc.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import {\n  RECEIVE_MESSAGE,\n  ADD_MESSAGE,\n  SEND_MESSAGE,\n  USER_LEFT,\n  GET_MESSAGES,\n  USER_JOINED,\n  SET_MESSAGES,\n  JOIN_CLASSROOM,\n  JOIN_CLASSROOM_FAIL,\n  JOIN_CLASSROOM_SUCCESS,\n  START_LECTURE,\n  STOP_LECTURE,\n  LOAD_LECTURE,\n  GET_PUBLISH_TOKEN,\n  GET_PLAY_TOKEN\n} from './types';\nimport io from 'socket.io-client';\nimport config from '../Config';\nimport axios from 'axios';\n\nlet socket;\n\nexport const initSocket = (token, classroomId) => (dispatch, getState) => {\n  socket = io(`${config.URL.Server}?token=${token}&classroom=${classroomId}`);\n\n  socket.on('connect', () => {\n    socket.emit('loadLecture', null, (hasStarted, onlineUsers) => {\n      onlineUsers = assignColors(onlineUsers);\n\n      dispatch({\n        type: LOAD_LECTURE,\n        payload: {\n          hasStarted,\n          onlineUsers\n        }\n      });\n    });\n  });\n\n  socket.on('message', msg => {\n    dispatch({\n      type: ADD_MESSAGE,\n      payload: msg\n    });\n  });\n\n  socket.on('startLecture', async () => {\n    dispatch({\n      type: START_LECTURE\n    });\n\n    // Get a token from the media server to authorize for playing the stream.\n    const playToken = await axios.get(`${config.URL.Server}/api/streams/publishToken?classroomId=${classroomId}`);\n    dispatch({\n      type: GET_PLAY_TOKEN,\n      payload: playToken\n    });\n  });\n\n  socket.on('stopLecture', () => {\n    socket.emit('leave');\n\n    dispatch({\n      type: STOP_LECTURE\n    });\n  });\n\n  socket.on('userJoined', user => {\n    user = assignColor(user, getState().lecture.onlineUsers);\n    dispatch({\n      type: USER_JOINED,\n      payload: user\n    })\n  });\n\n  socket.on('userLeft', user => {\n    dispatch({\n      type: USER_LEFT,\n      payload: user\n    })\n  });\n\n}\n\n// Does not work for more than two duplicate names.\nconst assignColors = (users) => {\n  const deletedIndexes = [];\n\n  for (const [i, user] of users.entries()) {\n    if (deletedIndexes.includes(i))\n      continue;\n\n    if (users.some(other => user.name === other.name)) {\n      let colorsCopy = [...colors]\n      for (let other of users) {\n        if (user.name === other.name) {\n          other.color = colorsCopy.pop();\n          deletedIndexes.push(users.indexOf(other));\n        }\n      }\n      user.color = colorsCopy.pop();\n    } else {\n      user.color = colors[Math.floor(Math.random() * colors.length)];\n    }\n  }\n\n  return users;\n}\n\nconst assignColor = (user, users) => {\n  let sameName = users.find(other => user.name === other.name);\n\n  if (sameName !== undefined) {\n    do {\n      user.color = colors[Math.floor(Math.random() * colors.length)];\n      console.log(user.color, sameName.color);\n    } while (user.color === sameName.color);\n  } else {\n    user.color = colors[Math.floor(Math.random() * colors.length)];\n  }\n\n  return user;\n}\n\nconst colors = ['#000', '#ccc', '#aaa', '#0ec']\n\n// TODO: add error handling for axios requests.\nexport const loadMessages = (classroomId) => async dispatch => {\n  const M = await axios.get(`${config.URL.Server}/api/classrooms/${classroomId}/getlivechat`);\n\n  dispatch({\n    type: GET_MESSAGES,\n    payload: M\n  });\n}\n\nexport const joinClassroom = () => async (dispatch, getState) => {\n  socket.emit('join');\n}\n\nexport const sendMessage = (m) => dispatch => {\n  socket.emit('sendMessage', m);\n}\n\nexport const startLecture = (id) => async dispatch => {\n  try {\n    await axios.post(`${config.URL.Server}/api/classrooms/${id}/start`);\n    socket.emit('startLecture');\n\n    // Get a token from the media server to authorize for publishing a stream.\n    const publishToken = await axios.get(`${config.URL.Server}/api/streams/publishToken?classroomId=${id}`);\n    dispatch({\n      type: GET_PUBLISH_TOKEN,\n      payload: publishToken\n    });\n  } catch (error) {\n    // TODO: add an alert.\n    console.error('Error starting the lecture', error);\n  }\n}\n\nexport const stopLecture = (id) => async dispatch => {\n  await axios.post(`${config.URL.Server}/api/classrooms/${id}/stop`);\n  socket.emit('stopLecture');\n}","import {\r\n    GET_PUBLISH_TOKEN,\r\n    GET_PLAY_TOKEN,\r\n    CONNECTION_SUCCESS,\r\n    CONNECTION_CLOSE,\r\n    START_SHARING,\r\n    START_SHARING_SUCCESS,\r\n    START_SHARING_FAIL,\r\n    STOP_SHARING,\r\n    TOGGLE_MIC\r\n} from './types';\r\nimport axios from 'axios';\r\nimport config from '../Config';\r\nimport {\r\n    setAlert\r\n} from './alert';\r\nimport WebRTCAdaptor from '../utils/webrtc_adaptor';\r\n\r\nlet webRTCAdaptor;\r\n\r\nexport const initWebrtc = (classroomId) => async (dispatch) => {\r\n    try {\r\n        const classroom = await axios.get(`${config.URL.Server}/api/classrooms/${classroomId}`);\r\n        const websocketURL = `wss://${window.location.hostname}:5443/${classroom.mediaServerApp}/websocket`;\r\n\r\n        webRTCAdaptor = new WebRTCAdaptor({\r\n            websocket_url: websocketURL,\r\n            mediaConstraints: {\r\n                audio: true,\r\n                video: true\r\n            },\r\n            peerconnection_config: null,\r\n            sdp_constraints: {\r\n                OfferToReceiveAudio: false,\r\n                OfferToReceiveVideo: false\r\n            },\r\n            localVideoId: \"localVideo\",\r\n            debug: true,\r\n            callback: function (info, obj) {\r\n                if (info == \"initialized\") {\r\n                    console.log(\"initialized\");\r\n                    dispatch({\r\n                        type: CONNECTION_SUCCESS\r\n                    });\r\n                } else if (info == \"publish_started\") {\r\n                    //stream is being published\r\n                    console.log(\"publish started\");\r\n                    dispatch({\r\n                        type: START_SHARING_SUCCESS\r\n                    });\r\n                } else if (info == \"publish_finished\") {\r\n                    //stream is being finished\r\n                    console.log(\"publish finished\");\r\n                    dispatch({\r\n                        type: STOP_SHARING\r\n                    });\r\n                } else if (info == \"closed\") {\r\n                    //console.log(\"Connection closed\");\r\n                    if (typeof obj != \"undefined\") {\r\n                        console.log(\"Connecton closed: \" + JSON.stringify(obj));\r\n                    }\r\n                    dispatch({\r\n                        type: CONNECTION_CLOSE\r\n                    });\r\n                } else if (info == \"refreshConnection\") {\r\n                    dispatch({\r\n                        type: START_SHARING\r\n                    });\r\n                    startPublishing();\r\n                } else if (info == \"updated_stats\") {\r\n                    //obj is the PeerStats which has fields\r\n                    //averageOutgoingBitrate - kbits/sec\r\n                    //currentOutgoingBitrate - kbits/sec\r\n                    console.log(\"Average outgoing bitrate \" + obj.averageOutgoingBitrate + \" kbits/sec\" +\r\n                        \" Current outgoing bitrate: \" + obj.currentOutgoingBitrate + \" kbits/sec\");\r\n\r\n                }\r\n            },\r\n            callbackError: function (error, message) {\r\n                console.log(\"error callback: \" + JSON.stringify(error));\r\n                var errorMessage = JSON.stringify(error);\r\n                if (typeof message != \"undefined\") {\r\n                    errorMessage = message;\r\n                }\r\n\r\n                if (error.indexOf(\"NotFoundError\") != -1) {\r\n                    errorMessage = \"Camera or mic are not found or not allowed in your device.\";\r\n                } else if (error.indexOf(\"NotReadableError\") != -1 || error.indexOf(\"TrackStartError\") != -1) {\r\n                    errorMessage = \"Camera or mic is being used by some other program. Please, make sure and try again.\";\r\n                } else if (error.indexOf(\"OverconstrainedError\") != -1 || error.indexOf(\"ConstraintNotSatisfiedError\") != -1) {\r\n                    errorMessage = \"No device was found for audio/video.\"\r\n                } else if (error.indexOf(\"NotAllowedError\") != -1 || error.indexOf(\"PermissionDeniedError\") != -1) {\r\n                    errorMessage = \"Please, allow the browser to access camera and mic.\";\r\n                } else if (error.indexOf(\"TypeError\") != -1) {\r\n                    errorMessage = \"Connection error.\";\r\n                } else if (error.indexOf(\"ScreenSharePermissionDenied\") != -1) {\r\n                    errorMessage = \"Please, allow screen sharing in the browser.\";\r\n                } else if (error.indexOf(\"WebSocketNotConnected\") != -1) {\r\n                    errorMessage = \"Connection error.\";\r\n                    dispatch({\r\n                        type: CONNECTION_CLOSE\r\n                    });\r\n                }\r\n                alert(errorMessage);\r\n            }\r\n        });\r\n    } catch (err) {\r\n        if (err.response) {\r\n            const errors = err.response.data.errors;\r\n\r\n            if (errors)\r\n                for (let error of errors)\r\n                    dispatch(setAlert(error.msg, 'error', 5000));\r\n        }\r\n        console.log('Error', err);\r\n    }\r\n}\r\n\r\nconst startPublishing = (token, classroomId) => {\r\n    const streamId = classroomId;\r\n    webRTCAdaptor.publish(streamId, token);\r\n}\r\n\r\nexport const startPublishingAction = (token, classroomId) => dispatch => {\r\n    dispatch({\r\n        type: START_SHARING\r\n    });\r\n\r\n    startPublishing(token, classroomId);\r\n}\r\n\r\nexport const stopPublishing = (classroomId) => dispatch => {\r\n    webRTCAdaptor.stop(classroomId);\r\n\r\n    dispatch({\r\n        type: STOP_SHARING\r\n    });\r\n}\r\n\r\nexport const switchMode = (classroomId, newMode) => {\r\n    switch (newMode) {\r\n        case 'webcam':\r\n            webRTCAdaptor.turnOnLocalCamera();\r\n            webRTCAdaptor.switchVideoCapture(classroomId);\r\n        case 'screen':\r\n            webRTCAdaptor.switchDesktopCapture(classroomId);\r\n        case 'audio':\r\n            webRTCAdaptor.turnOffLocalCamera();\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nexport const toggleMic = () => (dispatch, getState) => {\r\n    if (getState().stream.micMuted) {\r\n        webRTCAdaptor.unmuteLocalMic();\r\n    } else {\r\n        webRTCAdaptor.muteLocalMic();\r\n    }\r\n\r\n    dispatch({\r\n        type: TOGGLE_MIC\r\n    });\r\n}","import axios from 'axios';\n\nconst setAuthToken = token => {\n  if (token) {\n    axios.defaults.headers.common['x-auth-token'] = token;\n  } else {\n    delete axios.defaults.headers.common['x-auth-token'];\n  }\n};\n\nexport default setAuthToken;\n","import {v4} from 'uuid';\nimport { SET_ALERT, REMOVE_ALERT } from './types';\n\nexport const setAlert = (msg, alertType, timeout = 5000) => dispatch => {\n  const id = v4();\n  dispatch({\n    type: SET_ALERT,\n    payload: { msg, alertType, id }\n  });\n\n  setTimeout(() => dispatch({ type: REMOVE_ALERT, payload: id }), timeout);\n};\n","export const SET_ALERT = 'SET_ALERT';\nexport const REMOVE_ALERT = 'REMOVE_ALERT';\n\nexport const USER_LOADED = 'USER_LOADED';\nexport const AUTH_ERROR = 'AUTH_ERROR';\n\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\nexport const LOGOUT = 'LOGOUT';\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\nexport const REGISTER_FAIL = 'REGISTER_FAIL';\n\nexport const GET_TUTORS = 'GET_TUTORS';\nexport const GET_STUDENTS = 'GET_STUDENTS';\nexport const EDIT_TUTOR = 'EDIT_TOTUR';\nexport const EDIT_STUDENT = 'EDIT_STUDENT';\nexport const EDIT_TUTOR_SUCCESS = 'EDIT_TUTOR_SUCCESS';\nexport const EDIT_TUTOR_FAIL = 'EDIT_TUTOR_FAIL';\nexport const EDIT_STUDENT_SUCCESS = 'EDIT_STUDENT_SUCCESS';\nexport const EDIT_STUDENT_FAIL = 'EDIT_STUDENT_FAIL';\nexport const DELETE_TUTOR = 'DELETE_TUTOR';\nexport const DELETE_TUTOR_SUCCESS = 'DELETE_TUTOR_SUCCESS';\nexport const DELETE_TUTOR_FAIL = 'DELETE_TUTOR_FAIL';\nexport const DELETE_STUDENT = 'DELETE_STUDENT';\nexport const DELETE_STUDENT_SUCCESS = 'DELETE_STUDENT_SUCCESS';\nexport const DELETE_STUDENT_FAIL = 'DELETE_STUDENT_FAIL';\nexport const EDIT_ADMIN = 'EDIT_ADMIN';\nexport const EDIT_ADMIN_SUCCESS = 'EDIT_ADMIN_SUCCESS';\nexport const EDIT_ADMIN_FAIL = 'EDIT_ADMIN_FAIL';\nexport const DELETE_ADMIN = 'DELETE_ADMIN';\nexport const DELETE_ADMIN_SUCCESS = 'DELETE_ADMIN_SUCCESS';\nexport const DELETE_ADMIN_FAIL = 'DELETE_ADMIN_FAIL';\n\nexport const START_LECTURE = 'START_LECTURE';\nexport const STOP_LECTURE = 'STOP_LECTURE';\nexport const LOAD_LECTURE = 'LOAD_LECTURE';\nexport const GET_PUBLISH_TOKEN = 'GET_PUBLISH_TOKEN';\nexport const GET_PLAY_TOKEN = 'GET_PLAY_TOKEN';\n\nexport const GET_MESSAGES = 'GET_MESSAGES';\nexport const SET_MESSAGES = 'SET_MESSAGES';\nexport const RECEIVE_MESSAGE = 'RECEIVE_MESSAGE';\nexport const SEND_MESSAGE = 'SEND_MESSAGE';\nexport const ADD_MESSAGE = 'ADD_MESSAGE';\nexport const JOIN_CLASSROOM = 'JOIN_CLASSROOM';\nexport const JOIN_CLASSROOM_SUCCESS = 'JOIN_CLASSROOM_SUCCESS';\nexport const JOIN_CLASSROOM_FAIL = 'JOIN_CLASSROOM_FAIL';\nexport const USER_JOINED = 'USER_JOINED';\nexport const USER_LEFT = 'USER_LEFT';\n\nexport const UPLOAD_FILE = 'UPLOAD_FILE';\nexport const UPLOAD_FILE_SUCCESS = 'UPLOAD_FILE_SUCCESS';\nexport const UPLOAD_FILE_FAIL = 'UPLOAD_FILE_FAIL';\n\nexport const GET_TUTOR_LECTURES = 'GET_TUTOR_LECTURES';\nexport const GET_STUDENT_LECTURES = 'GET_STUDENT_LECTURES';\nexport const GET_TUTOR_CLASSROOMS = 'GET_TUTOR_CLASSROOMS';\nexport const GET_STUDENT_CLASSROOMS = 'GET_STUDENT_CLASSROOMS';\n\nexport const CONNECTION_SUCCESS = 'CONNECTION_SUCCESS';\nexport const CONNECTION_CLOSE = 'CONNECTION_CLOSE';\nexport const START_SHARING = 'START_SHARING';\nexport const START_SHARING_SUCCESS = 'START_SHARING_SUCCESS';\nexport const START_SHARING_FAIL = 'START_SHARING_FAIL';\nexport const STOP_SHARING = 'STOP_SHARING';\nexport const TOGGLE_MIC = 'TOGGLE_MIC';\nexport const ADD_CLASSROOM = 'ADD_CLASSROOM';\nexport const GET_CLASSROOMS = 'GET_CLASSROOMS';\nexport const ADD_LECTURE = 'ADD_LECTURE';\nexport const GET_LECTURES = 'GET_LECTURES';\nexport const DELETE_CLASSROOM = 'DELETE_CLASSROOM';\nexport const DELETE_CLASSROOM_SUCCESS = 'DELETE_CLASSROOM_SUCCESS';\nexport const DELETE_CLASSROOM_FAIL = 'DELETE_CLASSROOM_FAIL';\nexport const EDIT_CLASSROOM = 'EDIT_CLASSROOM';\nexport const EDIT_CLASSROOM_SUCCESS = 'EDIT_CLASSROOM_SUCCESS';\nexport const EDIT_CLASSROOM_FAIL = 'EDIT_CLASSROOM_FAIL';\n\n\n// export const BAN_STUDENT = 'BAN_STUDENT';","const Config = {\n    URL: {\n        Server: 'https://localhost',\n        Client: 'http://localhost:3000'\n    }\n}\n\nexport default Config;","import axios from 'axios';\nimport {\n    USER_LOADED,\n    AUTH_ERROR,\n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    LOGOUT,\n    REGISTER_SUCCESS,\n    REGISTER_FAIL\n} from './types';\nimport setAuthToken from '../utils/setAuthToken';\nimport { setAlert } from './alert';\nimport Config from '../Config';\n\nconst URL = Config.URL.Server;\n\nexport const registerStudent = ({ name, email, password }) => async dispatch => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    };\n\n    const body = JSON.stringify({ name, email, password });\n\n    try {\n        const res = await axios.post(URL + '/api/students', body, config);\n\n        dispatch({\n            type: REGISTER_SUCCESS,\n            payload: res.data\n        });\n        dispatch(loadUser());\n    } catch (err) {\n        console.log(err);\n        const errors = err.response.data.errors;\n\n        if (errors)\n            for (let error of errors)\n                dispatch(setAlert(error.msg, 'error', 100000));\n\n        dispatch({\n            type: REGISTER_FAIL\n        });\n    }\n}\n\nexport const registerTutor = ({ name, email, password }) => async dispatch => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    };\n\n    const body = JSON.stringify({ name, email, password });\n\n    try {\n        const res = await axios.post(URL + '/api/tutors', body, config);\n\n        dispatch({\n            type: REGISTER_SUCCESS,\n            payload: res.data\n        });\n        dispatch(loadUser());\n    } catch (err) {\n        if (err.response) {\n            const errors = err.response.data.errors;\n            for (let error of errors)\n                dispatch(setAlert(error.msg, 'error', 12000));\n        }\n        console.log('Error', err);\n\n        dispatch({\n            type: REGISTER_FAIL\n        });\n    }\n}\n\n\nexport const loadUser = () => async dispatch => {\n    if (localStorage.token) {\n        setAuthToken(localStorage.token);\n    }\n\n    try {\n        const res = await axios.get(URL + '/api/auth');\n\n        dispatch({\n            type: USER_LOADED,\n            payload: res.data\n        });\n    } catch (err) {\n        dispatch({\n            type: AUTH_ERROR\n        });\n    }\n}\n\nexport const login = (email, password) => async dispatch => {\n    const headers = { 'Content-Type': 'application/json' };\n    const body = JSON.stringify({ email, password });\n\n    try {\n        const res = await axios.post(URL + '/api/auth/', body, { headers });\n\n        dispatch({\n            type: LOGIN_SUCCESS,\n            payload: res.data\n        });\n        // dispatch(loadUser());\n    } catch (err) {\n        const errors = err.response.data.errors;\n\n        if (errors)\n            for (let error of errors)\n                dispatch(setAlert(error.msg, 'error', 100000));\n\n        dispatch({\n            type: LOGIN_FAIL\n        });\n    }\n}\n\nexport const loginAsGuest = name => async dispatch => {\n    const headers = { 'Content-Type': 'application/json' };\n    const body = JSON.stringify({ name });\n\n    try {\n        const res = await axios.post(URL + '/api/auth/guest', body, { headers });\n\n        dispatch({\n            type: LOGIN_SUCCESS,\n            payload: res.data\n        });\n        // dispatch(loadUser());\n    } catch (err) {\n        const errors = err.response.data.errors;\n\n        if (errors)\n            for (let error of errors)\n                dispatch(setAlert(error.msg, 'error', 100000));\n\n        dispatch({\n            type: LOGIN_FAIL\n        });\n    }\n}\n\nexport const logout = (history, redirectPath) => async dispatch => {\n    setTimeout(() => {\n        dispatch({\n            type: LOGOUT\n        });\n        history.push(redirectPath);\n    }, 2000)\n}","import React, { Fragment } from 'react';\nimport { Form, Input, Button, Checkbox } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport '@ant-design/compatible/assets/index.css';\nimport { Link, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { login } from '../../actions/auth';\n\nconst Login = ({ login, isAuthenticated }) => {\n    const [form] = Form.useForm();\n    const onFinish = values => {\n        const { email, password } = values;\n        login(email, password);\n    }\n\n    if (isAuthenticated) {\n        return <Redirect to='/dashboard' />;\n    }\n\n    return (\n        <Fragment>\n            <h1>Login page</h1>\n            <Form\n                form={form}\n                initialValues={{ remember: true }}\n                onFinish={onFinish}\n            >\n                <Form.Item\n                    name=\"email\"\n                    rules={[{ required: true, message: 'Please input your email!' }]}\n                >\n                    <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"email\" />\n                </Form.Item>\n                <Form.Item\n                    name=\"password\"\n                    rules={[{ required: true, message: 'Please input your Password!' }]}\n                >\n                    <Input\n                        prefix={<LockOutlined className=\"site-form-item-icon\" />}\n                        type=\"password\"\n                        placeholder=\"Password\"\n                    />\n                </Form.Item>\n                <Form.Item>\n                    <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\n                        <Checkbox>Remember me</Checkbox>\n                    </Form.Item>\n\n                    <a className=\"login-form-forgot\" href=\"\">\n                        Forgot password\n        </a>\n                </Form.Item>\n\n                <Form.Item>\n                    <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n                        Log in\n        </Button><br></br><br></br>\n        Don't have an account? <Link to='/register/student'>Sign Up as student</Link> or <Link to='/register/tutor'>Sign Up as tutor</Link>\n                </Form.Item>\n            </Form>\n        </Fragment>\n    );\n}\n\n\nLogin.propTypes = {\n    login: PropTypes.func.isRequired,\n    isAuthenticated: PropTypes.bool\n}\n\n\nconst mapStateToProps = state => ({\n    isAuthenticated: state.auth.isAuthenticated\n});\n\nexport default connect(mapStateToProps, { login })(Login);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Alert } from 'antd';\n\nconst AlertWrapper = ({alerts}) =>\n    alerts !== null &&\n    alerts.length > 0 &&\n    alerts.map(alert => (\n        <Alert key={alert.id} message={alert.msg} type={alert.alertType} showIcon />\n    ));\n\nAlertWrapper.propTypes = {\n    alerts: PropTypes.array.isRequired\n};\n\nconst mapStateToProps = state => ({\n    alerts: state.alert\n});\n\nexport default connect(mapStateToProps)(AlertWrapper);","import React from 'react';\nimport { Input, Button, Form } from 'antd';\nimport '@ant-design/compatible/assets/index.css';\nimport { Icon } from '@ant-design/compatible';\nimport { Link, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { registerTutor } from '../../actions/auth';\nimport { setAlert } from '../../actions/alert';\nimport { Fragment } from 'react';\n\nconst Register = ({ setAlert, registerTutor, isAuthenticated }) => {\n    const [form] = Form.useForm();\n    const onFinish = values => {\n        let { name, email, password, password2 } = values;\n\n        if (password !== password2) {\n            setAlert('Passwords do not match', 'error');\n        } else {\n            registerTutor({ name, email, password });\n        }\n    }\n\n    if (isAuthenticated) {\n        return <Redirect to='/dashboard' />;\n    }\n\n    return (\n        <Fragment>\n            <h1>Registration page for tutors</h1>\n            <Form form={form} onFinish={onFinish} initialValues={{ Private: false, record: false }}>\n                <Form.Item name=\"email\" rules={[{ required: true, message: 'Please input your email!' }]}>\n                    <Input\n                        prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                        placeholder=\"email\"\n                    />\n                </Form.Item>\n\n                <Form.Item name=\"name\" rules={[{ required: true, message: 'Please input your name!' }]}>\n                    <Input\n                        prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                        placeholder=\"name\"\n                    />\n                </Form.Item>\n\n                <Form.Item name=\"password\" rules={[{ required: true, message: 'Please input the password!' }]}>\n                    <Input\n                        prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                        placeholder=\"password\"\n                    />\n                </Form.Item>\n\n                <Form.Item name=\"password2\" rules={[{ required: true, message: 'Please input the password again!' }]}>\n                    <Input\n                        prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                        placeholder=\"password confirm\"\n                    />\n                </Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\">\n                    Register\n            </Button><br></br><br></br>\n            Already have an account? <Link to='/login'>Login</Link>\n            </Form>\n        </Fragment>\n    );\n}\n\nRegister.propTypes = {\n    setAlert: PropTypes.func.isRequired,\n    register: PropTypes.func.isRequired,\n    isAuthenticated: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n    isAuthenticated: state.auth.isAuthenticated\n});\n\nexport default connect(\n    mapStateToProps,\n    { setAlert, registerTutor }\n)(Register);","import React from 'react';\nimport { Input, Button, Form } from 'antd';\nimport '@ant-design/compatible/assets/index.css';\nimport { Icon } from '@ant-design/compatible';\nimport { Link, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { registerStudent } from '../../actions/auth';\nimport { setAlert } from '../../actions/alert';\nimport { Fragment } from 'react';\n\nconst Register = ({ setAlert, registerStudent, isAuthenticated }) => {\n    const [form] = Form.useForm();\n    const onFinish = values => {\n        let { name, email, password, password2 } = values;\n\n        if (password !== password2) {\n            setAlert('Passwords do not match', 'error');\n        } else {\n            registerStudent({ name, email, password });\n        }\n    }\n\n    if (isAuthenticated) {\n        return <Redirect to='/dashboard' />;\n    }\n\n    return (\n        <Fragment>\n            <h1>Registration page for students</h1>\n            <Form form={form} onFinish={onFinish} initialValues={{ Private: false, record: false }}>\n                <Form.Item name=\"email\" rules={[{ required: true, message: 'Please input your email!' }]}>\n                    <Input\n                        prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                        placeholder=\"email\"\n                    />\n                </Form.Item>\n\n                <Form.Item name=\"name\" rules={[{ required: true, message: 'Please input your name!' }]}>\n                    <Input\n                        prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                        placeholder=\"name\"\n                    />\n                </Form.Item>\n\n                <Form.Item name=\"password\" rules={[{ required: true, message: 'Please input the password!' }]}>\n                    <Input\n                        prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                        placeholder=\"password\"\n                    />\n                </Form.Item>\n\n                <Form.Item name=\"password2\" rules={[{ required: true, message: 'Please input the password again!' }]}>\n                    <Input\n                        prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                        placeholder=\"password confirm\"\n                    />\n                </Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\">\n                    Register\n            </Button><br></br><br></br>\n            Already have an account? <Link to='/login'>Login</Link>\n            </Form>\n        </Fragment>\n    );\n}\n\nRegister.propTypes = {\n    setAlert: PropTypes.func.isRequired,\n    register: PropTypes.func.isRequired,\n    isAuthenticated: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n    isAuthenticated: state.auth.isAuthenticated\n});\n\nexport default connect(\n    mapStateToProps,\n    { setAlert, registerStudent }\n)(Register);","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport { Result, Button } from 'antd';\n\nconst ErrorNotFound = () => {\n    return (\n        <Result\n        status=\"404\"\n        title=\"404\"\n        subTitle=\"Sorry, the page you visited does not exist.\"\n        extra={<Link to='/'><Button type=\"primary\">Back Home</Button></Link>}\n      />\n    );\n}\n\nexport default ErrorNotFound;","import axios from 'axios';\r\nimport {\r\n    GET_TUTORS,\r\n    GET_STUDENTS,\r\n    REGISTER_SUCCESS,\r\n    REGISTER_FAIL,\r\n    EDIT_STUDENT,\r\n    EDIT_TUTOR,\r\n    EDIT_TUTOR_SUCCESS,\r\n    EDIT_TUTOR_FAIL,\r\n    EDIT_STUDENT_SUCCESS,\r\n    EDIT_STUDENT_FAIL,\r\n    ADD_CLASSROOM,\r\n    GET_CLASSROOMS,\r\n    EDIT_CLASSROOM_FAIL,\r\n    EDIT_CLASSROOM,\r\n    EDIT_CLASSROOM_SUCCESS,\r\n    DELETE_CLASSROOM,\r\n    DELETE_CLASSROOM_FAIL,\r\n    DELETE_CLASSROOM_SUCCESS,\r\n    DELETE_STUDENT,\r\n    DELETE_STUDENT_FAIL,\r\n    DELETE_STUDENT_SUCCESS,\r\n    DELETE_TUTOR,\r\n    DELETE_TUTOR_SUCCESS,\r\n    DELETE_TUTOR_FAIL,\r\n    DELETE_ADMIN,\r\n    DELETE_ADMIN_SUCCESS,\r\n    DELETE_ADMIN_FAIL,\r\n    EDIT_ADMIN,\r\n    EDIT_ADMIN_SUCCESS,\r\n    EDIT_ADMIN_FAIL\r\n} from './types';\r\nimport { setAlert } from './alert';\r\nimport { loadUser } from './auth';\r\nimport Config from '../Config';\r\n\r\nconst URL = Config.URL.Server;\r\n\r\nexport const getTutors = () => async dispatch => {\r\n    try {\r\n        const tutors = await axios.get(URL + '/api/tutors');\r\n        dispatch({\r\n            type: GET_TUTORS,\r\n            payload: tutors.data\r\n        })\r\n    } catch (err) {\r\n        if (err.response) {\r\n            const errors = err.response.data.errors;\r\n            for (let error of errors)\r\n                dispatch(setAlert(error.msg, 'error', 12000));\r\n        }\r\n\r\n        console.log('Error', err);\r\n    }\r\n}\r\n\r\nexport const editTutor = (tutor, history, redirectPath) => async (dispatch, getState) => {\r\n    const { name, email, _id } = tutor;\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    const body = JSON.stringify({ name, email, _id });\r\n    try {\r\n        dispatch({\r\n            type: EDIT_TUTOR\r\n        });\r\n        await axios.put(URL + '/api/tutors', body, config);\r\n\r\n        let tutors = getState().admin.tutors.filter(t => t._id !== _id);\r\n        tutors = [...tutors, tutor];\r\n\r\n        // Fake delay to test the Spin component.\r\n        // TODO: remove fake delay.\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type: EDIT_TUTOR_SUCCESS,\r\n                payload: tutors\r\n            });\r\n            history.push(redirectPath);\r\n        }, 2000)\r\n\r\n        // dispatch({\r\n        //     type: EDIT_TUTOR,\r\n        //     payload: tutors\r\n        // });\r\n        // history.push(redirectPath);\r\n    } catch (err) {\r\n        if (err.response) {\r\n            const errors = err.response.data.errors;\r\n            for (let error of errors)\r\n                dispatch(setAlert(error.msg, 'error', 12000));\r\n        }\r\n\r\n        console.log('Error', err);\r\n\r\n        dispatch({\r\n            type: EDIT_TUTOR_FAIL\r\n        });\r\n    }\r\n}\r\n\r\nexport const deleteTutor = (id, history, redirectPath) => async (dispatch, getState) => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n    try {\r\n        dispatch({\r\n            type: DELETE_TUTOR\r\n        })\r\n        await axios.delete(URL + `/api/tutors/${id}`, config);\r\n        let tutors = getState().admin.tutors.filter(t => t._id !== id);\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type: DELETE_TUTOR_SUCCESS,\r\n                payload: tutors\r\n            });\r\n            history.push(redirectPath);\r\n        }, 2000)\r\n    } catch (err) {\r\n        console.log(err);\r\n        const errors = err.response.data.errors;\r\n\r\n        if (errors)\r\n            for (let error of errors)\r\n                dispatch(setAlert(error.msg, 'error', 100000));\r\n\r\n        dispatch({\r\n            type: DELETE_TUTOR_FAIL\r\n        })\r\n    }\r\n}\r\n\r\nexport const editStudent = (student, history, redirectPath) => async (dispatch, getState) => {\r\n    const { name, email, _id } = student;\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    const body = JSON.stringify({ name, email, _id });\r\n    try {\r\n        dispatch({\r\n            type: EDIT_STUDENT\r\n        });\r\n        await axios.put(URL + '/api/students', body, config);\r\n\r\n        let students = getState().admin.students.filter(t => t._id !== _id);\r\n        students = [...students, student];\r\n\r\n        // Fake delay to test the Spin component.\r\n        // TODO: remove fake delay.\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type: EDIT_STUDENT_SUCCESS,\r\n                payload: students\r\n            });\r\n            history.push(redirectPath);\r\n        }, 2000)\r\n\r\n        // dispatch({\r\n        //     type: EDIT_STUDENT,\r\n        //     payload: students\r\n        // });\r\n        // history.push(redirectPath);\r\n    } catch (err) {\r\n        if (err.response) {\r\n            const errors = err.response.data.errors;\r\n            for (let error of errors)\r\n                dispatch(setAlert(error.msg, 'error', 12000));\r\n        }\r\n\r\n        console.log('Error', err);\r\n\r\n        dispatch({\r\n            type: EDIT_STUDENT_FAIL\r\n        });\r\n    }\r\n}\r\n\r\nexport const deleteStudent = (id, history, redirectPath) => async (dispatch, getState) => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n    try {\r\n        dispatch({\r\n            type: DELETE_STUDENT\r\n        })\r\n        await axios.delete(URL + `/api/students/${id}`, config);\r\n        let students = getState().admin.students.filter(t => t._id !== id);\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type: DELETE_STUDENT_SUCCESS,\r\n                payload: students\r\n            });\r\n            history.push(redirectPath);\r\n        }, 2000)\r\n    } catch (err) {\r\n        console.log(err);\r\n        const errors = err.response.data.errors;\r\n\r\n        if (errors)\r\n            for (let error of errors)\r\n                dispatch(setAlert(error.msg, 'error', 100000));\r\n\r\n        dispatch({\r\n            type: DELETE_STUDENT_FAIL\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const getStudents = () => async dispatch => {\r\n    try {\r\n        const students = await axios.get(URL + '/api/students');\r\n        dispatch({\r\n            type: GET_STUDENTS,\r\n            payload: students.data\r\n        })\r\n    } catch (err) {\r\n        if (err.response) {\r\n            const errors = err.response.data.errors;\r\n            for (let error of errors)\r\n                dispatch(setAlert(error.msg, 'error', 12000));\r\n        }\r\n\r\n        console.log('Error', err);\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport const addAdmin = ({ name, email, password }, history, redirectPath) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    const body = JSON.stringify({ name, email, password });\r\n\r\n    try {\r\n\r\n        const res = await axios.post(URL + '/api/administrators', body, config);\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type: REGISTER_SUCCESS,\r\n                payload: res.data\r\n            });\r\n            history.push(redirectPath);\r\n        }, 2000)\r\n\r\n        dispatch(loadUser());\r\n    } catch (err) {\r\n        console.log(err);\r\n        const errors = err.response.data.errors;\r\n\r\n        if (errors)\r\n            for (let error of errors)\r\n                dispatch(setAlert(error.msg, 'error', 100000));\r\n\r\n        dispatch({\r\n            type: REGISTER_FAIL\r\n        });\r\n    }\r\n}\r\n\r\nexport const deleteAdmin = (id, history, redirectPath) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    try {\r\n        dispatch({\r\n            type: DELETE_ADMIN\r\n        })\r\n        await axios.delete(URL + `/api/administrators/${id}`, config);\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type: DELETE_ADMIN_SUCCESS\r\n            });\r\n            history.push(redirectPath);\r\n        }, 2000)\r\n\r\n        dispatch(loadUser());\r\n    } catch (err) {\r\n        console.log(err);\r\n        const errors = err.response.data.errors;\r\n\r\n        if (errors)\r\n            for (let error of errors)\r\n                dispatch(setAlert(error.msg, 'error', 100000));\r\n\r\n        dispatch({\r\n            type: DELETE_ADMIN_FAIL\r\n        });\r\n    }\r\n}\r\n\r\nexport const editAdmin = ({ name, email, password }, history, redirectPath) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n    const body = JSON.stringify({ name, email, password });\r\n\r\n    try {\r\n        dispatch({\r\n            type: EDIT_ADMIN\r\n        })\r\n        await axios.put(URL + `/api/administrators/`, body, config);\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type: EDIT_ADMIN_SUCCESS\r\n            });\r\n            history.push(redirectPath);\r\n        }, 2000)\r\n\r\n        dispatch(loadUser());\r\n    } catch (err) {\r\n        console.log(err);\r\n        const errors = err.response.data.errors;\r\n\r\n        if (errors)\r\n            for (let error of errors)\r\n                dispatch(setAlert(error.msg, 'error', 100000));\r\n\r\n        dispatch({\r\n            type: EDIT_ADMIN_FAIL\r\n        });\r\n    }\r\n}\r\n\r\nexport const addClassroom = ({ id, tutor, Private, record }, history, redirectPath) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    const body = JSON.stringify({ id, tutor, Private, record });\r\n\r\n    try {\r\n        const res = await axios.post(URL + '/api/classrooms', body, config);\r\n        dispatch({\r\n            type: ADD_CLASSROOM,\r\n            payload: res.data\r\n        });\r\n        setTimeout(() => {\r\n            history.push(redirectPath);\r\n        }, 2000)\r\n    } catch (err) {\r\n        console.log(err);\r\n        const errors = err.response.data.errors;\r\n\r\n        if (errors)\r\n            for (let error of errors)\r\n                dispatch(setAlert(error.msg, 'error', 100000));\r\n    }\r\n}\r\n\r\nexport const getClassrooms = () => async dispatch => {\r\n    try {\r\n        const classrooms = await axios.get(URL + '/api/classrooms');\r\n        dispatch({\r\n            type: GET_CLASSROOMS,\r\n            payload: classrooms.data\r\n        })\r\n    } catch (err) {\r\n        console.log(err);\r\n        const errors = err.response.data.errors;\r\n\r\n        if (errors)\r\n            for (let error of errors)\r\n                dispatch(setAlert(error.msg, 'error', 100000));\r\n    }\r\n}\r\n\r\nexport const editClassroom = (classroom, newid, history, redirectPath) => async (dispatch, getState) => {\r\n    const { id, Private, email, record } = classroom;\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n    const body = JSON.stringify({ newid, id, Private, email, record });\r\n    try {\r\n        dispatch({\r\n            type: EDIT_CLASSROOM\r\n        });\r\n        await axios.put(URL + '/api/classrooms', body, config);\r\n        let classrooms = getState().admin.classrooms.filter(t => t.id !== id);\r\n        classrooms = [...classrooms, classroom];\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type: EDIT_CLASSROOM_SUCCESS,\r\n                payload: classrooms\r\n            });\r\n            history.push(redirectPath);\r\n        }, 2000)\r\n    } catch (err) {\r\n        console.log(err);\r\n        const errors = err.response.data.errors;\r\n\r\n        if (errors)\r\n            for (let error of errors)\r\n                dispatch(setAlert(error.msg, 'error', 100000));\r\n        dispatch({\r\n            type: EDIT_CLASSROOM_FAIL\r\n        });\r\n    }\r\n}\r\n\r\nexport const deleteClassroom = (id, history, redirectPath) => async (dispatch, getState) => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n    try {\r\n        dispatch({\r\n            type: DELETE_CLASSROOM\r\n        });\r\n        await axios.delete(URL + `/api/classrooms/${id}`, config);\r\n        let classrooms = await getState().admin.classrooms.filter(t => t.id !== id);\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type: DELETE_CLASSROOM_SUCCESS,\r\n                payload: classrooms\r\n            });\r\n            history.push(redirectPath);\r\n        }, 2000)\r\n    } catch (err) {\r\n        console.log(err);\r\n        const errors = err.response.data.errors;\r\n\r\n        if (errors)\r\n            for (let error of errors)\r\n                dispatch(setAlert(error.msg, 'error', 100000));\r\n        dispatch({\r\n            type: DELETE_CLASSROOM_FAIL\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Icon as LegacyIcon } from '@ant-design/compatible';\r\nimport { List, Avatar, Skeleton } from 'antd';\r\nimport { getTutors } from '../../../actions/adimnActions';\r\n\r\n\r\nconst TutorsList = ({ tutors, loading, getTutors }) => {\r\n    useEffect(() => {\r\n        getTutors();\r\n    }, []);\r\n\r\n    return (\r\n        <Skeleton avatar title={false} loading={loading} active>\r\n            <List\r\n                loading={loading}\r\n                itemLayout=\"horizontal\"\r\n                dataSource={tutors}\r\n                renderItem={item => (\r\n                    <List.Item\r\n                        actions={[<Link key=\"tutor-edit\" to={`/dashboard/tutor/${item._id}`}>edit</Link>]}\r\n                    >\r\n                        <List.Item.Meta\r\n                            avatar={\r\n                                <Avatar icon={<LegacyIcon type='user' />} />\r\n                            }\r\n                            title={<Link to={`/dashboard/tutor/${item._id}`}>{item.name}</Link>}\r\n                        //description={`About : ${item.about} `}\r\n                        />\r\n                    </List.Item>\r\n                )}\r\n            />\r\n        </Skeleton>\r\n    );\r\n}\r\n\r\nTutorsList.propTypes = {\r\n    tutors: PropTypes.array,\r\n    loading: PropTypes.bool,\r\n    getTutors: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    tutors: state.admin.tutors,\r\n    loading: state.admin.loading\r\n});\r\n\r\nexport default connect(\r\n    mapStateToProps, { getTutors }\r\n)(TutorsList);","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Input, Button, Form, Spin } from 'antd';\nimport { Icon } from '@ant-design/compatible';\nimport { setAlert } from '../../../actions/alert';\nimport { addAdmin } from '../../../actions/adimnActions';\nimport { useHistory } from 'react-router-dom';\nimport { LoadingOutlined } from '@ant-design/icons';\n\n\n\nconst AddAdmin = ({ setAlert, addAdmin, loading }) => {\n    const history = useHistory();\n    const [form] = Form.useForm();\n    const onFinish = values => {\n        let { name, email, password, password2 } = values;\n\n        if (password !== password2) {\n            setAlert('Passwords do not match', 'error');\n        } else {\n            addAdmin({ name, email, password }, history, '/dashboard');\n        }\n    }\n\n    return (\n        <Fragment>\n            <h1>Add Extra Administrator</h1>\n            <Spin indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />} size=\"large\" spinning={loading}>\n                <Form form={form} onFinish={onFinish} initialValues={{ Private: false, record: false }}>\n                    <Form.Item name=\"email\" rules={[{ required: true, message: 'Please input the admin email!' }]}>\n                        <Input\n                            prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            placeholder=\"email of the new administrator\"\n                        />\n                    </Form.Item>\n\n                    <Form.Item name=\"name\" rules={[{ required: true, message: 'Please input the admin name!' }]}>\n                        <Input\n                            prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            placeholder=\"name of the new administrator\"\n                        />\n                    </Form.Item>\n\n                    <Form.Item name=\"password\" rules={[{ required: true, message: 'Please input the password!' }]}>\n                        <Input\n                            prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            placeholder=\"password\"\n                        />\n                    </Form.Item>\n\n                    <Form.Item name=\"password2\" rules={[{ required: true, message: 'Please input the password again!' }]}>\n                        <Input\n                            prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            placeholder=\"password confirm\"\n                        />\n                    </Form.Item>\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        Add Administrator\n                </Button>\n                </Form>\n            </Spin>\n        </Fragment>\n    );\n}\n\nAddAdmin.propTypes = {\n    admin: PropTypes.object.isRequired,\n    loading: PropTypes.bool.isRequired,\n    addAdmin: PropTypes.func.isRequired\n}\n\nconst mapStateToProps = (state) => ({\n    admin: state.auth.user,\n    loading: state.auth.loading\n})\n\n// const Wrapped = Form.create({ name: 'AddClassroom' })(AddClassroom);\n\nexport default connect(mapStateToProps, { setAlert, addAdmin })(AddAdmin);","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon as LegacyIcon } from '@ant-design/compatible';\nimport { Menu } from 'antd';\n\nconst AdminSidebar = () => {\n    return (\n        <Fragment>\n            <Menu theme=\"dark\" mode=\"inline\" >\n                <Menu.Item key=\"home\">\n                    <Link to=\"/dashboard\">\n                        <LegacyIcon type=\"user\" />\n                    Home</Link>\n                </Menu.Item>\n                <Menu.Item key=\"tutors-list\">\n                    <Link to=\"/dashboard/tutors\">\n                        <LegacyIcon type=\"user\" />\n                    Tutors List</Link>\n                </Menu.Item>\n                <Menu.Item key=\"students-list\">\n                    <Link to=\"/dashboard/students\">\n                        <LegacyIcon type=\"video-camera\" />\n                    Students List</Link>\n                </Menu.Item>\n                <Menu.Item key=\"add-extra-admin\">\n                    <Link to=\"/dashboard/addAdmin\">\n                        <LegacyIcon type=\"video-camera\" />\n                    Add an extra admin</Link>\n                </Menu.Item>\n                <Menu.Item key=\"add-classroom\">\n                    <Link to=\"/dashboard/addClassroom\">\n                        <LegacyIcon type=\"video-camera\" />\n                    Add a classroom</Link>\n                </Menu.Item>\n                <Menu.Item key=\"classrooms\">\n                    <Link to=\"/dashboard/classrooms\">\n                        <LegacyIcon type=\"video-camera\" />\n                    classrooms</Link>\n                </Menu.Item>\n            </Menu>\n        </Fragment>\n    );\n}\n\n\nexport default AdminSidebar;","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Icon as LegacyIcon } from '@ant-design/compatible';\nimport { List, Avatar, Skeleton } from 'antd';\nimport { getStudents } from '../../../actions/adimnActions';\n\n\nconst StudentsList = ({ students, loading, getStudents }) => {\n    useEffect(() => {\n        getStudents();\n    }, []);\n\n    return (\n        <Skeleton avatar title={false} loading={loading} active>\n            <List\n                loading={loading}\n                itemLayout=\"horizontal\"\n                dataSource={students}\n                renderItem={item => (\n                    <List.Item\n                        actions={[<Link key=\"student-edit\" to={`/dashboard/student/${item._id}`}>edit</Link>]}\n                    >\n                        <List.Item.Meta\n                            avatar={\n                                <Avatar icon={<LegacyIcon type='user' />} />\n                            }\n                            title={<Link to={`/dashboard/student/${item._id}`}>{item.name}</Link>}\n                        //description={`About : ${item.about} `}\n                        />\n                    </List.Item>\n                )}\n            />\n        </Skeleton>\n    );\n}\n\nStudentsList.propTypes = {\n    students: PropTypes.array,\n    loading: PropTypes.bool,\n    getStudents: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n    students: state.admin.students,\n    loading: state.admin.loading\n});\n\nexport default connect(\n    mapStateToProps, { getStudents }\n)(StudentsList);","import React, { useEffect } from 'react';\r\nimport { Form, Input, Button, Spin, Popconfirm } from 'antd';\r\nimport { LoadingOutlined, QuestionCircleOutlined } from '@ant-design/icons';\r\nimport { Icon } from '@ant-design/compatible';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { editTutor, deleteTutor } from '../../../actions/adimnActions';\r\nimport { Fragment } from 'react';\r\n\r\nconst EditTutor = ({ tutors, editTutor, deleteTutor, loading }) => {\r\n    const history = useHistory();\r\n    const [form] = Form.useForm();\r\n    let { id } = useParams();\r\n    let tutor;\r\n\r\n    useEffect(() => {\r\n        tutor = tutors.find(elm => elm._id === id);\r\n\r\n        if (tutor) {\r\n            form.setFieldsValue({\r\n                email: tutor.email,\r\n                name: tutor.name\r\n            });\r\n        }\r\n    });\r\n\r\n    const onFinish = values => {\r\n        const { email, name } = values;\r\n        tutor = {\r\n            ...tutor,\r\n            email,\r\n            name\r\n        }\r\n        editTutor(tutor, history, '/dashboard/tutors/');\r\n    }\r\n\r\n    const onConfirm = () => {\r\n        deleteTutor(id, history, '/dashboard/tutors/');\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <h1>Edit tutor</h1>\r\n            <p>\r\n                Edit the tutors information.\r\n        </p>\r\n            <Spin indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />} size=\"large\" spinning={loading}>\r\n                <Form form={form} onFinish={onFinish}>\r\n                    <Form.Item name=\"email\" rules={[{ required: true, message: 'Please input email!' }]}>\r\n                        <Input\r\n                            prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                            placeholder=\"Email of tutor\"\r\n                        />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item name=\"name\" rules={[{ required: true, message: 'Please input name!' }]}>\r\n                        <Input\r\n                            prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                            placeholder=\"Name of tutor\"\r\n                        />\r\n                    </Form.Item>\r\n\r\n                    {/* <Form.Item name=\"password\" rules={[{ required: true, message: 'Please input your Password!' }]}>\r\n                    <Input\r\n                    prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    />\r\n                </Form.Item>\r\n\r\n                <Form.Item name=\"password2\" rules={[{ required: true, message: 'Please input your Password!' }]}>\r\n                    <Input\r\n                    prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    />\r\n                </Form.Item> */}\r\n                    <Button type=\"primary\" htmlType=\"submit\">\r\n                        Edit tutor\r\n                </Button><br></br><br></br>\r\n                    <Popconfirm title=\"Are you sure that you want to delete the tutor?\"\r\n                        okText=\"Yes\" cancelText=\"No\" onConfirm={onConfirm} okType=\"danger\"\r\n                        icon={<QuestionCircleOutlined style={{ color: 'red' }}></QuestionCircleOutlined>} >\r\n                        <Button type=\"primary\" danger>\r\n                            Delete the tutor\r\n                    </Button>\r\n                    </Popconfirm>\r\n                </Form>\r\n            </Spin>\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nEditTutor.propTypes = {\r\n    tutors: PropTypes.array.isRequired,\r\n    editTutor: PropTypes.func.isRequired,\r\n    loading: PropTypes.bool\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    tutors: state.admin.tutors,\r\n    loading: state.admin.loading\r\n});\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { editTutor, deleteTutor }\r\n)(EditTutor);","import React, { useEffect } from 'react';\nimport { Form, Input, Button, Spin, Popconfirm } from 'antd';\nimport { LoadingOutlined, QuestionCircleOutlined } from '@ant-design/icons';\nimport { Icon } from '@ant-design/compatible';\nimport { useParams, useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { editStudent, deleteStudent } from '../../../actions/adimnActions';\nimport { Fragment } from 'react';\n\nconst EditStudent = ({ students, editStudent, deleteStudent, loading }) => {\n    const history = useHistory();\n    const [form] = Form.useForm();\n    let { id } = useParams();\n    let student;\n\n    useEffect(() => {\n        student = students.find(elm => elm._id === id);\n\n        if (student) {\n            form.setFieldsValue({\n                email: student.email,\n                name: student.name\n            });\n        }\n    });\n\n    const onFinish = values => {\n        const { email, name } = values;\n        student = {\n            ...student,\n            email,\n            name\n        }\n        editStudent(student, history, '/dashboard/students/');\n    }\n\n    const onConfirm = () => {\n        deleteStudent(id, history, '/dashboard/students/');\n    }\n\n    return (\n        <Fragment>\n            <h1>Edit student</h1>\n            <p>\n                Edit the student information.\n        </p>\n            <Spin indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />} size=\"large\" spinning={loading}>\n                <Form form={form} onFinish={onFinish}>\n                    <Form.Item name=\"email\" rules={[{ required: true, message: 'Please input email!' }]}>\n                        <Input\n                            prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            placeholder=\"Email of student\"\n                        />\n                    </Form.Item>\n\n                    <Form.Item name=\"name\" rules={[{ required: true, message: 'Please input name!' }]}>\n                        <Input\n                            prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            placeholder=\"Name of student\"\n                        />\n                    </Form.Item>\n\n                    {/* <Form.Item name=\"password\" rules={[{ required: true, message: 'Please input your Password!' }]}>\n                    <Input\n                    prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    />\n                </Form.Item>\n\n                <Form.Item name=\"password2\" rules={[{ required: true, message: 'Please input your Password!' }]}>\n                    <Input\n                    prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    />\n                </Form.Item> */}\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        Edit student\n                </Button><br></br><br></br>\n                    <Popconfirm title=\"Are you sure that you want to delete the student?\"\n                        okText=\"Yes\" cancelText=\"No\" onConfirm={onConfirm} okType=\"danger\"\n                        icon={<QuestionCircleOutlined style={{ color: 'red' }}></QuestionCircleOutlined>} >\n                        <Button type=\"primary\" danger>\n                            Delete the student\n                    </Button>\n                    </Popconfirm>\n                </Form>\n            </Spin>\n        </Fragment>\n    );\n}\n\nEditStudent.propTypes = {\n    students: PropTypes.array.isRequired,\n    editStudent: PropTypes.func.isRequired,\n    loading: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n    students: state.admin.students,\n    loading: state.admin.loading\n});\n\nexport default connect(\n    mapStateToProps,\n    { editStudent, deleteStudent }\n)(EditStudent);","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Skeleton } from 'antd';\n\nconst HomeDashboard = ({ auth }) => {\n    let tag = auth.loading ? null :\n        <h1>Welcome {auth.user.name} to the {auth.user.kind}s Home Dashboard</h1>\n\n    return (\n        <>\n            <Fragment>\n                <Skeleton loading={auth.loading}>\n                    {tag}\n                </Skeleton>\n            </Fragment>\n        </>\n    );\n}\n\nHomeDashboard.propTypes = {\n    auth: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = (state) => ({\n    auth: state.auth,\n})\n\n\nexport default connect(mapStateToProps)(HomeDashboard);","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Input, Button, Checkbox, Form, Spin } from 'antd';\nimport { Icon } from '@ant-design/compatible';\nimport { setAlert } from '../../../actions/alert';\nimport { addClassroom, getClassrooms } from '../../../actions/adimnActions';\nimport { useHistory } from 'react-router-dom';\nimport { LoadingOutlined } from '@ant-design/icons';\n\n\n\nconst AddClassroom = ({ setAlert, addClassroom, loading, classrooms, getClassrooms }) => {\n    getClassrooms();\n    const history = useHistory();\n    const [form] = Form.useForm();\n    const onFinish = values => {\n        const { id, tutor, Private, record } = values;\n        for (let classroom of classrooms) {\n            if (classroom.id === id) {\n                setAlert('This classroom already exsist !', 'error');\n                return;\n            }\n        }\n        addClassroom({ id, tutor, Private, record }, history, '/dashboard/classrooms/');\n    }\n\n    return (\n        <Fragment>\n            <h1>Add Classroom</h1>\n            <Spin indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />} size=\"large\" spinning={loading}>\n                <Form form={form} onFinish={onFinish} initialValues={{ Private: false, record: false }}>\n                    <Form.Item name=\"id\" rules={[{ required: true, message: 'Please input the course id!' }]}>\n                        <Input\n                            prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            placeholder=\"course id\"\n                        />\n                    </Form.Item>\n\n                    <Form.Item name=\"tutor\" rules={[{ required: true, message: 'Please input the tutor email!' }]}>\n                        <Input\n                            prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            placeholder=\"email of tutor\"\n                        />\n                    </Form.Item>\n\n                    <Form.Item name=\"Private\" valuePropName=\"checked\">\n                        <Checkbox>Private</Checkbox>\n                    </Form.Item>\n\n                    <Form.Item name=\"record\" valuePropName=\"checked\">\n                        <Checkbox>Recored Lecture</Checkbox>\n                    </Form.Item>\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        Add Classroom\n                </Button>\n                </Form>\n            </Spin>\n        </Fragment>\n    );\n}\n\nAddClassroom.propTypes = {\n    admin: PropTypes.object.isRequired,\n    addClassroom: PropTypes.func.isRequired,\n    loading: PropTypes.bool.isRequired,\n    getClassrooms: PropTypes.func.isRequired\n}\n\nconst mapStateToProps = (state) => ({\n    admin: state.auth.user,\n    loading: state.auth.loading,\n    classrooms: state.admin.classrooms\n})\n\n// const Wrapped = Form.create({ name: 'AddClassroom' })(AddClassroom);\n\nexport default connect(mapStateToProps, { setAlert, addClassroom, getClassrooms })(AddClassroom);","import React, { Fragment, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { List, Card } from 'antd';\nimport { connect } from 'react-redux';\nimport { getClassrooms } from '../../../actions/adimnActions';\nimport { Link } from 'react-router-dom';\n\nconst GetClassrooms = ({ getClassrooms, loading, classrooms }) => {\n    useEffect(() => {\n        getClassrooms();\n    }, []);\n    return (\n        <Fragment>\n            <h1>All Classrooms</h1>\n            <List\n                loading={loading}\n                grid={{ gutter: 16, column: 4 }}\n                dataSource={classrooms}\n                renderItem={item => (\n                    <List.Item>\n                        <Card title={item.id}><Link to={`/dashboard/classrooms/${item.id}`}>View Classroom Information</Link></Card>\n                    </List.Item>\n                )}\n            />\n        </Fragment>\n    )\n}\n\nGetClassrooms.propTypes = {\n    admin: PropTypes.object.isRequired,\n    getClassrooms: PropTypes.func.isRequired\n}\n\nconst mapStateToProps = (state) => ({\n    admin: state.auth.user,\n    classrooms: state.admin.classrooms,\n    loading: state.admin.loading\n})\n\nexport default connect(mapStateToProps, { getClassrooms })(GetClassrooms);","import React, { useEffect } from 'react';\nimport { Form, Input, Button, Spin, Checkbox, Popconfirm } from 'antd';\nimport { LoadingOutlined, QuestionCircleOutlined } from '@ant-design/icons';\nimport { Icon } from '@ant-design/compatible';\nimport { useParams, useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { editClassroom, deleteClassroom } from '../../../actions/adimnActions';\nimport { Fragment } from 'react';\nimport { setAlert } from '../../../actions/alert';\n\nconst EditClassroom = ({ classrooms, editClassroom, deleteClassroom, loading }) => {\n    const history = useHistory();\n    const [form] = Form.useForm();\n    let { id } = useParams();\n    let classroom;\n\n    useEffect(() => {\n        classroom = classrooms.find(elm => elm.id === id);\n\n        if (classroom) {\n            form.setFieldsValue({\n                newId: classroom.id,\n                email: classroom.tutor.email,\n                Private: false,\n                record: false\n            });\n        }\n    });\n\n\n    const onFinish = values => {\n        const { newId, email, Private, record } = values;\n        classroom = {\n            ...classroom,\n            newId,\n            email,\n            Private,\n            record\n        }\n        if (!newId || Private === undefined || record === undefined || !email) {\n            setAlert(\"please provide all fields\", 'error');\n        } else {\n            editClassroom(classroom, newId, history, '/dashboard/classrooms/');\n        }\n    }\n\n    const onConfirm = () => {\n        deleteClassroom(id, history, '/dashboard/classrooms/');\n    }\n\n    return (\n        <Fragment>\n            <h1>Edit classroom</h1>\n            <p>\n                Edit the classrooms information.\n        </p>\n            <Spin indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />} size=\"large\" spinning={loading}>\n                <Form form={form} onFinish={onFinish}>\n                    <Form.Item name=\"newId\" rules={[{ required: true, message: 'Please input id!' }]}>\n                        <Input\n                            prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            placeholder=\"id of classroom\"\n                        />\n                    </Form.Item>\n\n                    <Form.Item name=\"email\" rules={[{ required: true, message: 'Please input email of tutor!' }]}>\n                        <Input\n                            prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            placeholder=\"email of tutor\"\n                        />\n                    </Form.Item>\n\n                    <Form.Item name=\"Private\" valuePropName=\"checked\">\n                        <Checkbox>Private</Checkbox>\n                    </Form.Item>\n\n                    <Form.Item name=\"record\" valuePropName=\"checked\">\n                        <Checkbox>Recored Lecture</Checkbox>\n                    </Form.Item>\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        Edit Classroom\n                </Button>\n                    <br></br><br></br>\n                    <Popconfirm title=\"Are you sure that you want to delete the classroom?\"\n                        okText=\"Yes\" cancelText=\"No\" onConfirm={onConfirm} okType=\"danger\"\n                        icon={<QuestionCircleOutlined style={{ color: 'red' }}></QuestionCircleOutlined>} >\n                        <Button type=\"primary\" danger>\n                            Delete the classroom\n                    </Button>\n                    </Popconfirm>\n                </Form>\n            </Spin>\n        </Fragment>\n    );\n}\n\nEditClassroom.propTypes = {\n    classrooms: PropTypes.array.isRequired,\n    editClassroom: PropTypes.func.isRequired,\n    loading: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n    classrooms: state.admin.classrooms,\n    loading: state.admin.loading\n});\n\nexport default connect(\n    mapStateToProps,\n    { editClassroom, deleteClassroom }\n)(EditClassroom);","import React, { Fragment } from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport TutorsList from './TutorsList';\nimport AddAdmin from './AddAdmin';\nimport { Layout } from \"antd\";\nimport AdminSidebar from './AdminSidebar';\nimport StudentsList from './StudentsList';\nimport EditTutor from './EditTutor';\nimport EditStudent from './EditStudent';\nimport HomeDashboard from '../HomeDashboard';\nimport AddClassroom from './AddClassroom';\nimport GetClassrooms from './GetClassrooms';\nimport EditClassroom from './EditClassroom';\n\n\nconst { Content, Sider } = Layout;\n\nconst AdminDashboard = () => {\n    return (\n        <Fragment>\n            <Sider>\n                <AdminSidebar />\n            </Sider>\n            <Content>\n                {/* { content } */}\n                <Switch>\n                    <Route path=\"/dashboard/tutor/:id\" component={EditTutor} />\n                    <Route path=\"/dashboard/tutors\" component={TutorsList} />\n                    <Route path=\"/dashboard/addAdmin\" component={AddAdmin} />\n                    <Route path=\"/dashboard/student/:id\" component={EditStudent} />\n                    <Route path=\"/dashboard/students\" component={StudentsList} />\n                    <Route path=\"/dashboard/addClassroom\" component={AddClassroom} />\n                    <Route path=\"/dashboard/classrooms/:id\" component={EditClassroom} />\n                    <Route path=\"/dashboard/classrooms\" component={GetClassrooms} />\n                    <Route path='/dashboard' component={HomeDashboard} />\n                </Switch>\n            </Content>\n        </Fragment>\n    );\n}\n\n// Dashboard.propTypes = {\n//     isAuthenticated: PropTypes.bool\n// }\n\n// const mapStateToProps = state => ({\n//     isAuthenticated: state.auth.isAuthenticated\n// });\n\n// export default connect(mapStateToProps)(Dashboard);\nexport default AdminDashboard;","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon as LegacyIcon } from '@ant-design/compatible';\nimport { Menu } from 'antd';\n\nconst TutorSidebar = () => {\n    return (\n        <Fragment>\n            <Menu theme=\"dark\" mode=\"inline\" >\n                <Menu.Item key=\"home\">\n                    <Link to=\"/dashboard\">\n                        <LegacyIcon type=\"user\" />\n                    Home</Link>\n                </Menu.Item>\n                <Menu.Item key=\"my-lectures\">\n                    <Link to=\"/dashboard/myClassrooms\">\n                        <LegacyIcon type=\"video-camera\" />\n                        my Classrooms</Link>\n                </Menu.Item>\n                <Menu.Item key=\"my-classrooms\">\n                    <Link to=\"/dashboard/myLectures\">\n                        <LegacyIcon type=\"user\" />\n                        my lectures</Link>\n                </Menu.Item>\n            </Menu>\n        </Fragment>\n    );\n}\n\n\nexport default TutorSidebar;","import {\n    GET_TUTOR_LECTURES,\n    GET_TUTOR_CLASSROOMS\n} from './types';\nimport { setAlert } from './alert';\nimport Config from '../Config';\nimport axios from 'axios';\nconst URL = Config.URL.Server;\n\nexport const getLectures = (user) => async dispatch => {\n    try {\n        const lectures = await axios.get(URL + `/api/classrooms/tutor/${user._id}/lectures`);\n        dispatch({\n            type: GET_TUTOR_LECTURES,\n            payload: lectures.data\n        });\n    } catch (err) {\n        if (err.response) {\n            const errors = err.response.data.errors;\n            for (let error of errors)\n                dispatch(setAlert(error.msg, 'error', 12000));\n        }\n\n        console.log('Error', err);\n    }\n}\n\nexport const getClassrooms = (user) => async dispatch => {\n    try {\n        const classrooms = await axios.get(URL + `/api/classrooms/tutor/${user._id}`);\n\n        dispatch({\n            type: GET_TUTOR_CLASSROOMS,\n            payload: classrooms.data\n        });\n    } catch (err) {\n        if (err.response) {\n            const errors = err.response.data.errors;\n            for (let error of errors)\n                dispatch(setAlert(error.msg, 'error', 12000));\n        }\n\n        console.log('Error', err);\n    }\n}","import React, { Fragment, useEffect } from 'react';\nimport { List, Card } from 'antd';\nimport { connect } from 'react-redux';\nimport { getLectures } from '../../../actions/tutorActions';\nimport PropTypes from 'prop-types';\n\nconst MyLectures = ({ tutor, lectures, loading, getLectures }) => {\n\n    useEffect(() => {\n        getLectures(tutor);\n    }, []);\n\n    return (\n        <Fragment>\n            <List\n                loading={loading}\n                grid={{ gutter: 16, column: 4 }}\n                dataSource={lectures}\n                renderItem={item => (\n                    <List.Item>\n                        <Card title={item.id}><div>Started On: {item.pastLectures.startedOn}<br></br> Ended On: {item.pastLectures.endedOn}</div>\n                            <div>Attendance:<br></br> {\n                                item.pastLectures.attendance ?\n                                    item.pastLectures.attendance.map(t => <Fragment><p>{'user:' + t.user + ' duration:' + t.duration}</p></Fragment>) : null}</div></Card>\n                    </List.Item>\n                )}\n            />\n        </Fragment>\n    )\n}\n\nMyLectures.propTypes = {\n    lectures: PropTypes.array,\n    loading: PropTypes.bool,\n    getLectures: PropTypes.func.isRequired,\n    tutor: PropTypes.object\n};\n\nconst mapStateToProps = (state) => ({\n    tutor: state.auth.user,\n    lectures: state.tutor.lectures,\n    loading: state.tutor.loading\n})\n\nexport default connect(mapStateToProps, { getLectures })(MyLectures);","import React, { Fragment, useEffect } from 'react';\nimport { List, Card } from 'antd';\nimport { connect } from 'react-redux';\nimport { getClassrooms } from '../../../actions/tutorActions';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nconst MyClassrooms = ({ tutor, classrooms, loading, getClassrooms }) => {\n\n    useEffect(() => {\n        getClassrooms(tutor);\n    }, []);\n\n    return (\n        <Fragment>\n            <List\n                loading={loading}\n                grid={{ gutter: 16, column: 4 }}\n                dataSource={classrooms}\n                renderItem={item => (\n                    <List.Item>\n                        <Card title={item.id}><Link to={`/classroom/${item.id}/tutor`}>go to the classroom</Link></Card>\n                    </List.Item>\n                )}\n            />\n        </Fragment>\n    )\n}\n\nMyClassrooms.propTypes = {\n    classrooms: PropTypes.array,\n    loading: PropTypes.bool,\n    getClassrooms: PropTypes.func.isRequired,\n    tutor: PropTypes.object\n};\n\nconst mapStateToProps = (state) => ({\n    tutor: state.auth.user,\n    classrooms: state.tutor.classrooms,\n    loading: state.tutor.loading\n})\n\nexport default connect(mapStateToProps, { getClassrooms })(MyClassrooms);","import React, { Fragment } from 'react';\nimport { Layout } from 'antd';\nimport { Switch, Route } from 'react-router-dom';\n\nimport TutorSidebar from './TutorSidebar';\nimport MyLectures from './MyLectures';\nimport MyClassrooms from './MyClassrooms'\nimport HomeDashboard from '../HomeDashboard';\n\nconst { Content, Sider } = Layout;\n\nconst TutorDashboard = () => {\n    return (\n        <Fragment>\n            <Sider>\n                <TutorSidebar />\n            </Sider>\n            <Content>\n                <Switch>\n                    <Route path=\"/dashboard/myLectures\" component={MyLectures} />\n                    <Route path=\"/dashboard/myClassrooms\" component={MyClassrooms} />\n                    <Route path='/dashboard' component={HomeDashboard} />\n                </Switch>\n            </Content>\n        </Fragment>\n    );\n}\n\n\nexport default TutorDashboard;","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon as LegacyIcon } from '@ant-design/compatible';\nimport { Menu } from 'antd';\n\nconst StudentSidebar = () => {\n    return (\n        <Fragment>\n            <Menu theme=\"dark\" mode=\"inline\" >\n                <Menu.Item key=\"home\">\n                    <Link to=\"/dashboard\">\n                        <LegacyIcon type=\"user\" />\n                    Home</Link>\n                </Menu.Item>\n                <Menu.Item key=\"my-lectures\">\n                    <Link to=\"/dashboard/myLectures\">\n                        <LegacyIcon type=\"video-camera\" />\n                    My lectures</Link>\n                </Menu.Item>\n                <Menu.Item key=\"my-classrooms\">\n                    <Link to=\"/dashboard/myClassrooms\">\n                        <LegacyIcon type=\"video-camera\" />\n                    My classrooms</Link>\n                </Menu.Item>\n            </Menu>\n        </Fragment>\n    );\n}\n\n\nexport default StudentSidebar;","import {\n    GET_STUDENT_LECTURES,\n    GET_STUDENT_CLASSROOMS\n} from './types';\nimport { setAlert } from './alert';\nimport Config from '../Config';\nimport axios from 'axios';\nconst URL = Config.URL.Server;\n\nexport const getLectures = (user) => async dispatch => {\n    try {\n        const lectures = await axios.get(URL + `/api/classrooms/student/${user._id}/lectures`);\n        dispatch({\n            type: GET_STUDENT_LECTURES,\n            payload: lectures.data\n        });\n    } catch (err) {\n        if (err.response) {\n            const errors = err.response.data.errors;\n            for (let error of errors)\n                dispatch(setAlert(error.msg, 'error', 12000));\n        }\n\n        console.log('Error', err);\n    }\n}\n\nexport const getClassrooms = (user) => async dispatch => {\n    try {\n        const classrooms = await axios.get(URL + `/api/classrooms/student/${user._id}`);\n\n\n        dispatch({\n            type: GET_STUDENT_CLASSROOMS,\n            payload: classrooms.data\n        });\n    } catch (err) {\n        if (err.response) {\n            const errors = err.response.data.errors;\n            for (let error of errors)\n                dispatch(setAlert(error.msg, 'error', 12000));\n        }\n\n        console.log('Error', err);\n    }\n}","import React, { Fragment, useEffect } from 'react';\nimport { List, Card } from 'antd';\nimport { connect } from 'react-redux';\nimport { getLectures } from '../../../actions/studentActions';\nimport PropTypes from 'prop-types';\n\nconst MyLectures = ({ student, lectures, loading, getLectures }) => {\n\n    useEffect(() => {\n        getLectures(student);\n    }, []);\n\n    return (\n        <Fragment>\n            <List\n                loading={loading}\n                grid={{ gutter: 16, column: 4 }}\n                dataSource={lectures}\n                renderItem={item => (\n                    <List.Item>\n                        <Card title={item.startedOn}>Card content</Card>\n                    </List.Item>\n                )}\n            />\n        </Fragment>\n    )\n}\n\nMyLectures.propTypes = {\n    lectures: PropTypes.array,\n    loading: PropTypes.bool,\n    getLectures: PropTypes.func.isRequired,\n    student: PropTypes.object\n};\n\nconst mapStateToProps = (state) => ({\n    student: state.auth.user,\n    lectures: state.student.lectures,\n    loading: state.student.loading\n})\n\nexport default connect(mapStateToProps, { getLectures })(MyLectures);","import React, { Fragment, useEffect } from 'react';\nimport { List, Card } from 'antd';\nimport { connect } from 'react-redux';\nimport { getClassrooms } from '../../../actions/studentActions';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nconst MyClassrooms = ({ student, classrooms, loading, getClassrooms }) => {\n\n    useEffect(() => {\n        getClassrooms(student);\n    }, []);\n\n    return (\n        <Fragment>\n            <List\n                loading={loading}\n                grid={{ gutter: 16, column: 4 }}\n                dataSource={classrooms}\n                renderItem={item => (\n                    <List.Item>\n                        <Card title={item.id}><Link to={`/classroom/${item.id}`}>go to the classroom</Link></Card>\n                    </List.Item>\n                )}\n            />\n        </Fragment>\n    )\n}\n\nMyClassrooms.propTypes = {\n    classrooms: PropTypes.array,\n    loading: PropTypes.bool,\n    getClassrooms: PropTypes.func.isRequired,\n    student: PropTypes.object\n};\n\nconst mapStateToProps = (state) => ({\n    student: state.auth.user,\n    classrooms: state.student.classrooms,\n    loading: state.student.loading\n})\n\nexport default connect(mapStateToProps, { getClassrooms })(MyClassrooms);","import React, { Fragment } from 'react';\nimport { Layout } from 'antd';\nimport { Switch, Route } from 'react-router-dom';\n\nimport StudentSidebar from './StudentSidebar';\nimport MyLectures from './MyLectures';\nimport MyClassrooms from './MyClassrooms';\nimport HomeDashboard from '../HomeDashboard';\n\nconst { Content, Sider } = Layout;\n\nconst StudentDashboard = () => {\n    return (\n        <Fragment>\n            <Sider>\n                <StudentSidebar />\n            </Sider>\n            <Content>\n                <Switch>\n                    <Route path=\"/dashboard/myLectures\" component={MyLectures} />\n                    <Route path=\"/dashboard/myClassrooms\" component={MyClassrooms} />\n                    <Route path='/dashboard' component={HomeDashboard} />\n                </Switch>\n            </Content>\n        </Fragment>\n    )\n}\n\n\nexport default StudentDashboard;","import AdminDashboard from './admin/AdminDashboard';\nimport TutorDashboard from './tutor/TutorDashboard';\nimport StudentDashboard from './student/StudentDashboard';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router-dom';\n\nconst MainDashboard = ({ userKind }) => {\n\n    if (userKind === 'Administrator') {\n        return (\n            <AdminDashboard />\n        );\n    }\n    if (userKind === 'Tutor') {\n        return (\n            <TutorDashboard />\n        );\n    }\n    if (userKind === 'Student') {\n        return (\n            <StudentDashboard />\n        );\n    }\n\n    return <Redirect to=\"/\" />;\n}\n\nMainDashboard.propTypes = {\n    userKind: PropTypes.string.isRequired,\n};\n\nexport default MainDashboard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Avatar, Button, Radio } from 'antd';\nimport { DownloadOutlined } from '@ant-design/icons';\nimport config from '../../../Config';\n\nconst ChatMessage = ({ message, senderFirstName, color, type }) => {\n    const m = () => {\n        switch (type) {\n            case \"text\":\n                return (\n                    <div className=\"talktext\">\n                        <p>{message}</p>\n                    </div>\n                );\n            case \"image\":\n                return (\n                    <img className=\"img-attachment\" src={`${config.URL.Server}/files/${message}`} />\n                );\n            case \"file\":\n                let filename = /([^\\/]+$)/.exec(message)[0];\n                return (\n                    <Button className=\"file-attachment\" type=\"link\" href={`${config.URL.Server}/files/${message}`} target=\"_blank\">{filename} <DownloadOutlined /></Button>\n                );\n        }\n    }\n\n    return (\n        <div className=\"chat-message\">\n            <div className=\"avatar\">\n                <Avatar style={{ backgroundColor: color, verticalAlign: 'middle' }} size=\"large\">\n                    {senderFirstName}\n                </Avatar>\n            </div>\n            <div className=\"talk-bubble tri-right left-in round\">\n                {m()}\n            </div>\n        </div>\n    )\n}\n\nChatMessage.propTypes = {\n    message: PropTypes.string.isRequired,\n    senderFirstName: PropTypes.string.isRequired\n}\n\nexport default ChatMessage;","import React, {\n    useState,\n    useEffect\n} from 'react';\nimport {\n    useParams\n} from 'react-router-dom';\nimport {\n    Button,\n    Input,\n    Spin,\n    Upload,\n    message\n} from 'antd';\nimport {\n    LoadingOutlined\n} from '@ant-design/icons';\nimport ChatMessage from './ChatMessage';\nimport {\n    connect\n} from 'react-redux';\nimport {\n    sendMessage,\n    loadMessages\n} from '../../../actions/lecture';\nimport PropTypes from 'prop-types';\nimport {\n    UploadOutlined\n} from '@ant-design/icons';\nimport config from '../../../Config';\n\nconst ChatContainer = ({\n    messages,\n    sendMessage,\n    loadMessages,\n    onlineUsers,\n    loading,\n    token\n}) => {\n    const { id } = useParams();\n    const [msg, setMsg] = useState('');\n\n    const onClick = () => {\n        sendMessage(msg);\n    }\n\n    useEffect(() => {\n        loadMessages(id);\n    }, []);\n\n    const props = {\n        name: 'file',\n        action: `${config.URL.Server}/api/files/upload/${id}`,\n        headers: {\n            \"x-auth-token\": token\n        },\n        onChange(info) {\n            if (info.file.status !== 'uploading') {\n                console.log(info.file, info.fileList);\n            }\n            if (info.file.status === 'done') {\n                // After the file is successfully uploaded to the server, send a message to the\n                // chat to the other users.\n                let type;\n                if (info.file.response.mimetype.startsWith('image')) {\n                    type = 'image';\n                } else {\n                    type = 'file';\n                }\n\n                let lectureId = /([^\\/]+$)/.exec(info.file.response.destination)[0];\n                let text = `${id}/${lectureId}/${info.file.response.filename}`;\n                sendMessage({ text, type });\n                message.success(`${info.file.name} file uploaded successfully`);\n            } else if (info.file.status === 'error') {\n                message.error(`${info.file.name} file upload failed.`);\n            }\n        }\n    };\n\n    const btns = (\n        <>\n            <Button type=\"submit\" onClick={onClick}>\n                Send</Button>\n            <Upload {...props}>\n                <Button>\n                    <UploadOutlined />\n                </Button>\n            </Upload>\n        </>\n    );\n\n\n    // TODO: submit on clicking enter.\n\n    return (\n        <div>\n            {!loading ? messages.map((m, i) => {\n                let user = onlineUsers.find(u => m.sender === u._id);\n                if (user === undefined) return;\n                return <ChatMessage key={i} message={m.text} senderFirstName={user.name} color={user.color} type={m.type} />\n            }) : <Spin indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />} size=\"large\" spinning={loading}></Spin>\n            }\n            <Input onChange={e => setMsg({ text: e.target.value, type: 'text' })} addonAfter={btns} />\n        </div>\n    )\n}\n\nChatContainer.propTypes = {\n    messages: PropTypes.array,\n    sendMessage: PropTypes.func.isRequired,\n    loading: PropTypes.bool.isRequired\n}\n\nconst mapStateToProps = (state) => ({\n    messages: state.lecture.messages,\n    onlineUsers: state.lecture.onlineUsers,\n    loading: state.lecture.loading,\n    token: state.auth.token\n});\n\nexport default connect(mapStateToProps, {\n    sendMessage,\n    loadMessages\n})(ChatContainer);\n","import React, { useEffect } from 'react';\nimport { Layout, Row, Col } from 'antd';\nimport {useParams} from 'react-router-dom';\nimport ChatContainer from './chat/ChatContainer';\nimport {connect} from 'react-redux';\nimport {initSocket, joinClassroom} from '../../actions/lecture';\nimport PropTypes from 'prop-types';\nimport { Result, Button } from 'antd';\nimport {HistoryOutlined} from '@ant-design/icons';\n\nconst Classroom = ({initSocket, joinClassroom, token, lectureStarted}) => {\n    const {id} = useParams();    \n\n    useEffect(() => {\n        initSocket(token, id);\n    }, [token, id]);\n\n    useEffect(() => {\n        if(lectureStarted) {\n            joinClassroom();\n        }\n\n        // return leave()... socket.io leaves automatically\n    }, [lectureStarted, id]);\n\n    return (\n        <Layout.Content>\n            {lectureStarted ? (\n                 <>\n                 <Row>\n                     <Col span={8}>\n                         <ChatContainer />\n                     </Col>\n                     <Col span={16}>\n                     </Col>\n                 </Row>\n                 </>\n                 ) : (\n                <Result\n                icon={<HistoryOutlined />}\n                title=\"The lecture has not started yet.\"\n                extra={<Button type=\"primary\">Do Something</Button>}\n                />\n            )}\n        </Layout.Content>\n    )\n}\n\nClassroom.propTypes={\n    token: PropTypes.string.isRequired,\n    lectureStarted: PropTypes.bool.isRequired,\n    joinClassroom: PropTypes.func.isRequired\n}\n\nconst mapStateToProps = (state) => ({\n    token: state.auth.token,\n    lectureStarted: state.lecture.lectureStarted\n});\n\nexport default connect(mapStateToProps, {initSocket, joinClassroom})(Classroom);","export default function WebRTCAdaptor(initialValues) {\r\n\r\n    class PeerStats {\r\n\r\n        constructor(streamId) {\r\n            this.streamId = streamId;\r\n            this.totalBytesReceivedCount = 0;\r\n            this.totalBytesSent = 0;\r\n            this.packetsLost = 0;\r\n            this.fractionLost = 0;\r\n            this.startTime = 0;\r\n            this.lastBytesReceived = 0;\r\n            this.lastBytesSent = 0;\r\n            this.currentTimestamp = 0;\r\n            this.lastTime = 0;\r\n            this.timerId = 0;\r\n            this.firstByteSentCount = 0;\r\n            this.firstBytesReceivedCount = 0;\r\n        }\r\n\r\n        //kbits/sec\r\n        get averageOutgoingBitrate() {\r\n            return Math.floor(8 * (this.totalBytesSentCount - this.firstByteSentCount) / (this.currentTimestamp - this.startTime));\r\n        }\r\n\r\n        //kbits/sec\r\n        get averageIncomingBitrate() {\r\n            return Math.floor(8 * (this.totalBytesReceivedCount - this.firstBytesReceivedCount) / (this.currentTimestamp - this.startTime));\r\n        }\r\n\r\n        //kbits/sec\r\n        get currentOutgoingBitrate() {\r\n            return Math.floor(8 * (this.totalBytesSentCount - this.lastBytesSent) / (this.currentTimestamp - this.lastTime));\r\n        }\r\n\r\n        //kbits/sec\r\n        get currentIncomingBitrate() {\r\n            return Math.floor(8 * (this.totalBytesReceivedCount - this.lastBytesReceived) / (this.currentTimestamp - this.lastTime));\r\n        }\r\n\r\n        set currentTime(timestamp) {\r\n            this.lastTime = this.currentTimestamp;\r\n            this.currentTimestamp = timestamp;\r\n            if (this.startTime == 0) {\r\n                this.startTime = timestamp - 1; // do not have zero division error\r\n            }\r\n        }\r\n\r\n        set totalBytesReceived(bytesReceived) {\r\n            this.lastBytesReceived = this.totalBytesReceivedCount;\r\n            this.totalBytesReceivedCount = bytesReceived;\r\n            if (this.firstBytesReceivedCount == 0) {\r\n                this.firstBytesReceivedCount = bytesReceived;\r\n            }\r\n        }\r\n\r\n        set totalBytesSent(bytesSent) {\r\n            this.lastBytesSent = this.totalBytesSentCount;\r\n            this.totalBytesSentCount = bytesSent;\r\n            if (this.firstByteSentCount == 0) {\r\n                this.firstByteSentCount = bytesSent;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    var thiz = this;\r\n    thiz.peerconnection_config = null;\r\n    thiz.sdp_constraints = null;\r\n    thiz.remotePeerConnection = new Array();\r\n    thiz.remotePeerConnectionStats = new Array();\r\n    thiz.remoteDescriptionSet = new Array();\r\n    thiz.iceCandidateList = new Array();\r\n    thiz.webSocketAdaptor = null;\r\n    thiz.roomName = null;\r\n    thiz.videoTrackSender = null;\r\n    thiz.audioTrackSender = null;\r\n    thiz.playStreamId = new Array();\r\n    thiz.micGainNode = null;\r\n    thiz.localStream = null;\r\n    thiz.bandwidth = 900; //default bandwidth kbps\r\n    thiz.isMultiPeer = false; //used for multiple peer client\r\n    thiz.multiPeerStreamId = null; //used for multiple peer client\r\n\r\n    thiz.isPlayMode = false;\r\n    thiz.debug = false;\r\n\r\n    /**\r\n     * Supported candidate types. Below types are for both sending and receiving candidates. \r\n     * It means if when client receives candidate from STUN server, it sends to the server if candidate's protocol\r\n     * is in the list. Likely, when client receives remote candidate from server, it adds as ice candidate\r\n     * if candidate protocol is in the list below.\r\n     */\r\n    thiz.candidateTypes = [\"udp\", \"tcp\"];\r\n\r\n\r\n    thiz.desktopStream = null;\r\n\r\n    /**\r\n     * The cam_location below is effective when camera and screen is send at the same time.\r\n     * possible values are top and bottom. It's on right all the time\r\n     */\r\n    thiz.camera_location = \"top\"\r\n\r\n    /**\r\n     * The cam_margin below is effective when camera and screen is send at the same time.\r\n     * This is the margin value in px from the edges \r\n     */\r\n    thiz.camera_margin = 15;\r\n\r\n    /**\r\n     * Thiz camera_percent is how large the camera view appear on the screen. It's %15 by default.\r\n     */\r\n    thiz.camera_percent = 15;\r\n\r\n    for (var key in initialValues) {\r\n        if (initialValues.hasOwnProperty(key)) {\r\n            this[key] = initialValues[key];\r\n        }\r\n    }\r\n\r\n    thiz.localVideo = document.getElementById(thiz.localVideoId);\r\n    thiz.remoteVideo = document.getElementById(thiz.remoteVideoId);\r\n\r\n    if (!(\"WebSocket\" in window)) {\r\n        console.log(\"WebSocket not supported.\");\r\n        thiz.callbackError(\"WebSocketNotSupported\");\r\n        return;\r\n    }\r\n\r\n    if (typeof navigator.mediaDevices == \"undefined\" && thiz.isPlayMode == false) {\r\n        console.log(\"Cannot open camera and mic because of unsecure context. Please Install SSL(https)\");\r\n        thiz.callbackError(\"UnsecureContext\");\r\n        return;\r\n    }\r\n\r\n    this.getUserMediaDetail = function (mediaConstraints, audioConstraint, stream) {\r\n\r\n        //this trick, getting audio and video separately, make us add or remove tracks on the fly\r\n        var audioTrack = stream.getAudioTracks();\r\n        if (audioTrack.length > 0) {\r\n            stream.removeTrack(audioTrack[0]);\r\n        }\r\n\r\n        //add callback if desktop is sharing\r\n        stream.getVideoTracks()[0].onended = function (event) {\r\n            thiz.callback(\"screen_share_stopped\");\r\n            thiz.switchVideoSource(this.streamId, mediaConstraints, null, true);\r\n        }\r\n\r\n        //now get only audio to add this stream\r\n        if (audioConstraint != \"undefined\" && audioConstraint != false) {\r\n            var media_audio_constraint = {\r\n                audio: audioConstraint\r\n            };\r\n            navigator.mediaDevices.getUserMedia(media_audio_constraint)\r\n                .then(function (audioStream) {\r\n\r\n                    if (thiz.mediaConstraints.video == \"screen\") {\r\n                        thiz.switchDesktopSource(stream, this.streamId, mediaConstraints, onended, true);\r\n                    } else if (thiz.mediaConstraints.video == \"screen+camera\") {\r\n                        thiz.switchDesktopwithCameraSource(stream, this.streamId, audioStream, onended);\r\n                    } else {\r\n                        stream.addTrack(audioStream.getAudioTracks()[0]);\r\n                        thiz.gotStream(stream);\r\n                    }\r\n                })\r\n                .catch(function (error) {\r\n                    thiz.callbackError(error.name, error.message);\r\n                });\r\n        } else {\r\n            navigator.mediaDevices.getUserMedia({\r\n                    audio: true\r\n                })\r\n                .then(function (audioStream) {\r\n                    stream.addTrack(audioStream.getAudioTracks()[0]);\r\n                    thiz.gotStream(stream);\r\n                })\r\n                .catch(function (error) {\r\n                    thiz.callbackError(error.name, error.message);\r\n                });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get user media\r\n     */\r\n    this.getUserMedia = function (mediaConstraints, audioConstraint) {\r\n\r\n        // Check Media Constraint video value screen or screen + camera\r\n        if (mediaConstraints.video == \"screen+camera\" || mediaConstraints.video == \"screen\") {\r\n\r\n            navigator.mediaDevices.getDisplayMedia(mediaConstraints)\r\n                .then(function (stream) {\r\n\r\n                    thiz.getUserMediaDetail(mediaConstraints, audioConstraint, stream);\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    if (error.name === \"NotAllowedError\") {\r\n                        console.debug(\"Permission denied error\");\r\n                        thiz.callbackError(\"ScreenSharePermissionDenied\");\r\n\r\n                        // Redirect Stream Camera\r\n                        thiz.switchVideoSource(this.streamId, mediaConstraints, null, true);\r\n                    } else {\r\n                        thiz.callbackError(error.name, error.message);\r\n                    }\r\n                });\r\n        }\r\n\r\n        // If mediaConstraints only user camera\r\n        else {\r\n            navigator.mediaDevices.getUserMedia(mediaConstraints)\r\n                .then(function (stream) {\r\n\r\n                    thiz.getUserMediaDetail(mediaConstraints, audioConstraint, stream);\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    thiz.callbackError(error.name, error.message);\r\n                });\r\n\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Open media stream, it may be screen, camera or audio\r\n     */\r\n    this.openStream = function (mediaConstraints) {\r\n\r\n        thiz.mediaConstraints = mediaConstraints;\r\n        var audioConstraint = false;\r\n        if (typeof mediaConstraints.audio != \"undefined\" && mediaConstraints.audio != false) {\r\n            audioConstraint = mediaConstraints.audio;\r\n        }\r\n\r\n        if (typeof mediaConstraints.video != \"undefined\") {\r\n            thiz.getUserMedia(mediaConstraints, audioConstraint);\r\n        } else {\r\n            console.error(\"MediaConstraint video is not defined\");\r\n            thiz.callbackError(\"media_constraint_video_not_defined\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Closes stream, if you want to stop peer connection, call stop(streamId)\r\n     */\r\n    this.closeStream = function () {\r\n\r\n        thiz.localStream.getVideoTracks().forEach(function (track) {\r\n            track.onended = null;\r\n            track.stop();\r\n        });\r\n\r\n        thiz.localStream.getAudioTracks().forEach(function (track) {\r\n            track.onended = null;\r\n            track.stop();\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * Checks browser supports screen share feature\r\n     * if exist it calls callback with \"browser_screen_share_supported\"\r\n     */\r\n\r\n    this.checkBrowserScreenShareSupported = function () {\r\n        var callback = function (message) {\r\n\r\n            if (navigator.mediaDevices.getDisplayMedia || navigator.getDisplayMedia) {\r\n                thiz.callback(\"browser_screen_share_supported\");\r\n                window.removeEventListener(\"message\", callback);\r\n            }\r\n        };\r\n\r\n        //add event listener for desktop capture\r\n        window.addEventListener(\"message\", callback, false);\r\n\r\n        window.postMessage(\"are-you-there\", \"*\");\r\n\r\n    };\r\n\r\n    /*\r\n     * Call check browser support. Below function is called when this class is created\r\n     */\r\n\r\n    thiz.checkBrowserScreenShareSupported();\r\n\r\n    /*\r\n     * Below lines are executed as well when this class is created \r\n     */\r\n    if (!this.isPlayMode && typeof thiz.mediaConstraints != \"undefined\" && this.localStream == null) {\r\n        if (typeof thiz.mediaConstraints.video != \"undefined\" && thiz.mediaConstraints.video != false) {\r\n            // if it is not play mode and media constraint is defined, try to get user media\r\n            if (thiz.mediaConstraints.audio.mandatory) {\r\n                //this case captures mic and video(audio(screen audio) + video(screen)) and then provide mute/unmute mic with \r\n                //enableMicInMixedAudio\r\n                navigator.mediaDevices.getUserMedia({\r\n                    audio: true,\r\n                    video: false\r\n                }).then(function (micStream) {\r\n                    navigator.mediaDevices.getUserMedia(thiz.mediaConstraints)\r\n                        .then(function (stream) {\r\n                            //console.debug(\"audio stream track count: \" + audioStream.getAudioTracks().length);\r\n\r\n                            var audioContext = new AudioContext();\r\n                            var desktopSoundGainNode = audioContext.createGain();\r\n\r\n                            desktopSoundGainNode.gain.value = 1;\r\n\r\n                            var audioDestionation = audioContext.createMediaStreamDestination();\r\n                            var audioSource = audioContext.createMediaStreamSource(stream);\r\n\r\n                            audioSource.connect(desktopSoundGainNode);\r\n\r\n                            thiz.micGainNode = audioContext.createGain();\r\n                            thiz.micGainNode.gain.value = 1;\r\n                            var audioSource2 = audioContext.createMediaStreamSource(micStream);\r\n                            audioSource2.connect(thiz.micGainNode);\r\n\r\n                            desktopSoundGainNode.connect(audioDestionation);\r\n                            thiz.micGainNode.connect(audioDestionation);\r\n\r\n                            stream.removeTrack(stream.getAudioTracks()[0]);\r\n                            audioDestionation.stream.getAudioTracks().forEach(function (track) {\r\n                                stream.addTrack(track);\r\n                            });\r\n\r\n                            console.debug(\"Running gotStream\");\r\n                            thiz.gotStream(stream);\r\n\r\n                        }).catch(function (error) {\r\n                            thiz.callbackError(error.name, error.message);\r\n                        });\r\n                }).catch(function (error) {\r\n                    thiz.callbackError(error.name, error.message);\r\n                });\r\n            } else {\r\n                //most of the times, this statement runs\r\n                thiz.openStream(thiz.mediaConstraints, thiz.mode);\r\n            }\r\n        } else {\r\n            // get only audio\r\n            var media_audio_constraint = {\r\n                audio: thiz.mediaConstraints.audio\r\n            };\r\n            navigator.mediaDevices.getUserMedia(media_audio_constraint)\r\n                .then(function (stream) {\r\n                    thiz.gotStream(stream);\r\n                })\r\n                .catch(function (error) {\r\n                    thiz.callbackError(error.name, error.message);\r\n                });\r\n        }\r\n    } else {\r\n\r\n        //just playing, it does not open any stream\r\n        if (thiz.webSocketAdaptor == null || thiz.webSocketAdaptor.isConnected() == false) {\r\n            thiz.webSocketAdaptor = new WebSocketAdaptor();\r\n        }\r\n    }\r\n\r\n    this.enableMicInMixedAudio = function (enable) {\r\n        if (thiz.micGainNode != null) {\r\n            if (enable) {\r\n                thiz.micGainNode.gain.value = 1;\r\n            } else {\r\n                thiz.micGainNode.gain.value = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    this.publish = function (streamId, token) {\r\n        var jsCmd = {\r\n            command: \"publish\",\r\n            streamId: streamId,\r\n            token: token,\r\n            video: thiz.localStream.getVideoTracks().length > 0 ? true : false,\r\n            audio: thiz.localStream.getAudioTracks().length > 0 ? true : false,\r\n        };\r\n\r\n        thiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\r\n    }\r\n\r\n\r\n    this.joinRoom = function (roomName, streamId) {\r\n        thiz.roomName = roomName;\r\n\r\n        var jsCmd = {\r\n            command: \"joinRoom\",\r\n            room: roomName,\r\n            streamId: streamId,\r\n        }\r\n\r\n        thiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\r\n\r\n    }\r\n\r\n    this.play = function (streamId, token, roomId, enableTracks) {\r\n        thiz.playStreamId.push(streamId);\r\n        var jsCmd = {\r\n            command: \"play\",\r\n            streamId: streamId,\r\n            token: token,\r\n            room: roomId,\r\n            trackList: enableTracks,\r\n        }\r\n\r\n        thiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\r\n    }\r\n\r\n    this.stop = function (streamId) {\r\n        thiz.closePeerConnection(streamId);\r\n\r\n        var jsCmd = {\r\n            command: \"stop\",\r\n            streamId: streamId,\r\n        };\r\n\r\n        thiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\r\n    }\r\n\r\n    this.join = function (streamId) {\r\n        var jsCmd = {\r\n            command: \"join\",\r\n            streamId: streamId,\r\n            multiPeer: thiz.isMultiPeer && thiz.multiPeerStreamId == null,\r\n            mode: thiz.isPlayMode ? \"play\" : \"both\",\r\n        };\r\n\r\n        thiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\r\n    }\r\n\r\n    this.leaveFromRoom = function (roomName) {\r\n        thiz.roomName = roomName;\r\n        var jsCmd = {\r\n            command: \"leaveFromRoom\",\r\n            room: roomName,\r\n        };\r\n        console.log(\"leave request is sent for \" + roomName);\r\n\r\n        thiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\r\n    }\r\n\r\n    this.leave = function (streamId) {\r\n\r\n        var jsCmd = {\r\n            command: \"leave\",\r\n            streamId: thiz.isMultiPeer && thiz.multiPeerStreamId != null ? thiz.multiPeerStreamId : streamId,\r\n        };\r\n\r\n        thiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\r\n        thiz.closePeerConnection(streamId);\r\n        thiz.multiPeerStreamId = null;\r\n    }\r\n\r\n    this.getStreamInfo = function (streamId) {\r\n        var jsCmd = {\r\n            command: \"getStreamInfo\",\r\n            streamId: streamId,\r\n        };\r\n        this.webSocketAdaptor.send(JSON.stringify(jsCmd));\r\n    }\r\n\r\n    this.enableTrack = function (mainTrackId, trackId, enabled) {\r\n        var jsCmd = {\r\n            command: \"enableTrack\",\r\n            streamId: mainTrackId,\r\n            trackId: trackId,\r\n            enabled: enabled,\r\n        };\r\n        this.webSocketAdaptor.send(JSON.stringify(jsCmd));\r\n    }\r\n\r\n    this.getTracks = function (streamId, token) {\r\n        thiz.playStreamId.push(streamId);\r\n        var jsCmd = {\r\n            command: \"getTrackList\",\r\n            streamId: streamId,\r\n            token: token,\r\n        }\r\n\r\n        thiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\r\n    }\r\n\r\n    this.gotStream = function (stream) {\r\n        thiz.localStream = stream;\r\n        thiz.localVideo.srcObject = stream;\r\n        if (thiz.webSocketAdaptor == null || thiz.webSocketAdaptor.isConnected() == false) {\r\n            thiz.webSocketAdaptor = new WebSocketAdaptor();\r\n        }\r\n    };\r\n\r\n    this.switchVideoCapture = function (streamId) {\r\n        var mediaConstraints = {\r\n            video: true,\r\n            audio: false\r\n        };\r\n\r\n        thiz.switchVideoSource(streamId, mediaConstraints, null, true);\r\n    }\r\n\r\n    this.switchDesktopCapture = function (streamId) {\r\n\r\n        this.mediaConstraints.video = \"screen\";\r\n        this.mediaConstraints.audio = true;\r\n\r\n        var audioConstraint = false;\r\n        if (typeof this.mediaConstraints.audio != \"undefined\" && this.mediaConstraints.audio != false) {\r\n            audioConstraint = this.mediaConstraints.audio;\r\n        }\r\n\r\n        thiz.getUserMedia(this.mediaConstraints, audioConstraint);\r\n\r\n    }\r\n\r\n\r\n    this.switchDesktopCaptureWithCamera = function (streamId) {\r\n\r\n        this.mediaConstraints.video = \"screen+camera\";\r\n        this.mediaConstraints.audio = true;\r\n\r\n        thiz.camera_location = \"top\"\r\n        thiz.camera_margin = 15;\r\n        thiz.camera_percent = 15;\r\n\r\n        var audioConstraint = false;\r\n        if (typeof this.mediaConstraints.audio != \"undefined\" && this.mediaConstraints.audio != false) {\r\n            audioConstraint = this.mediaConstraints.audio;\r\n        }\r\n        thiz.getUserMedia(this.mediaConstraints, audioConstraint);\r\n    }\r\n\r\n    thiz.arrangeStreams = function (stream, onEndedCallback, stopDesktop) {\r\n\r\n        if (stopDesktop && thiz.desktopStream != null) {\r\n            thiz.desktopStream.getVideoTracks()[0].stop();\r\n        }\r\n\r\n        var videoTrack = thiz.localStream.getVideoTracks()[0];\r\n        thiz.localStream.removeTrack(videoTrack);\r\n        videoTrack.stop();\r\n        thiz.localStream.addTrack(stream.getVideoTracks()[0]);\r\n        thiz.localVideo.srcObject = thiz.localStream;\r\n\r\n        if (onEndedCallback != null) {\r\n            stream.getVideoTracks()[0].onended = function (event) {\r\n                onEndedCallback(event);\r\n            }\r\n        }\r\n    }\r\n\r\n    this.switchVideoSource = function (streamId, mediaConstraints, onEndedCallback, stopDesktop) {\r\n\r\n        navigator.mediaDevices.getUserMedia(mediaConstraints)\r\n            .then(function (stream) {\r\n\r\n                if (thiz.remotePeerConnection[streamId] != null) {\r\n                    var videoTrackSender = thiz.remotePeerConnection[streamId].getSenders().find(function (s) {\r\n                        return s.track.kind == \"video\";\r\n                    });\r\n\r\n                    videoTrackSender.replaceTrack(stream.getVideoTracks()[0]).then(function (result) {\r\n                        thiz.arrangeStreams(stream, onEndedCallback, stopDesktop);\r\n\r\n                    }).catch(function (error) {\r\n                        console.log(error.name);\r\n                    });\r\n                } else {\r\n                    thiz.arrangeStreams(stream, onEndedCallback, stopDesktop);\r\n                }\r\n\r\n            })\r\n            .catch(function (error) {\r\n                thiz.callbackError(error.name);\r\n            });\r\n    }\r\n\r\n    this.switchDesktopSource = function (stream, streamId, mediaConstraints, onEndedCallback, stopDesktop) {\r\n\r\n        if (thiz.remotePeerConnection[streamId] != null) {\r\n            var videoTrackSender = thiz.remotePeerConnection[streamId].getSenders().find(function (s) {\r\n                return s.track.kind == \"video\";\r\n            });\r\n\r\n            videoTrackSender.replaceTrack(stream.getVideoTracks()[0]).then(function (result) {\r\n                thiz.arrangeStreams(stream, onEndedCallback, stopDesktop);\r\n\r\n            }).catch(function (error) {\r\n                console.log(error.name);\r\n            });\r\n        } else {\r\n            thiz.arrangeStreams(stream, onEndedCallback, stopDesktop);\r\n        }\r\n    }\r\n\r\n\r\n    this.onTrack = function (event, streamId) {\r\n        console.log(\"onTrack\");\r\n        if (thiz.remoteVideo != null) {\r\n            //thiz.remoteVideo.srcObject = event.streams[0];\r\n            if (thiz.remoteVideo.srcObject !== event.streams[0]) {\r\n                thiz.remoteVideo.srcObject = event.streams[0];\r\n                console.log('Received remote stream');\r\n            }\r\n        } else {\r\n            var dataObj = {\r\n                stream: event.streams[0],\r\n                track: event.track,\r\n                streamId: streamId\r\n            }\r\n            thiz.callback(\"newStreamAvailable\", dataObj);\r\n        }\r\n\r\n    }\r\n\r\n    this.iceCandidateReceived = function (event, streamId) {\r\n        if (event.candidate) {\r\n\r\n            if (thiz.candidateTypes.includes(event.candidate.protocol)) {\r\n\r\n                var jsCmd = {\r\n                    command: \"takeCandidate\",\r\n                    streamId: streamId,\r\n                    label: event.candidate.sdpMLineIndex,\r\n                    id: event.candidate.sdpMid,\r\n                    candidate: event.candidate.candidate\r\n                };\r\n\r\n                if (thiz.debug) {\r\n                    console.log(\"sending ice candiate for stream Id \" + streamId);\r\n                    console.log(JSON.stringify(event.candidate));\r\n                }\r\n            } else {\r\n                if (thiz.debug) {\r\n                    console.log(\"Candidate's protocol(\" + event.candidate.protocol + \") is not supported. Supported protocols: \" + thiz.candidateTypes);\r\n                }\r\n            }\r\n\r\n            thiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\r\n        }\r\n    }\r\n\r\n\r\n    this.initPeerConnection = function (streamId) {\r\n        if (thiz.remotePeerConnection[streamId] == null) {\r\n            var closedStreamId = streamId;\r\n            console.log(\"stream id in init peer connection: \" + streamId + \" close stream id: \" + closedStreamId);\r\n            thiz.remotePeerConnection[streamId] = new RTCPeerConnection(thiz.peerconnection_config);\r\n            thiz.remoteDescriptionSet[streamId] = false;\r\n            thiz.iceCandidateList[streamId] = new Array();\r\n            if (!thiz.playStreamId.includes(streamId)) {\r\n                if (thiz.localStream != null) {\r\n                    thiz.remotePeerConnection[streamId].addStream(thiz.localStream);\r\n                }\r\n            }\r\n            thiz.remotePeerConnection[streamId].onicecandidate = function (event) {\r\n                thiz.iceCandidateReceived(event, closedStreamId);\r\n            }\r\n            thiz.remotePeerConnection[streamId].ontrack = function (event) {\r\n                thiz.onTrack(event, closedStreamId);\r\n            }\r\n\r\n            const dataChannelOptions = {\r\n                ordered: true,\r\n            };\r\n            var dataChannel = thiz.remotePeerConnection[streamId].createDataChannel(streamId, dataChannelOptions);\r\n\r\n            dataChannel.onerror = (error) => {\r\n                console.log(\"Data Channel Error:\", error);\r\n            };\r\n\r\n            dataChannel.onmessage = (event) => {\r\n                console.log(\"Got Data Channel Message:\", event.data);\r\n            };\r\n\r\n            dataChannel.onopen = () => {\r\n                thiz.remotePeerConnection[streamId].dataChannel = dataChannel;\r\n            };\r\n\r\n            dataChannel.onclose = () => {\r\n                console.log(\"The Data Channel is Closed\");\r\n            };\r\n\r\n\r\n            thiz.remotePeerConnection[streamId].oniceconnectionstatechange = function (event) {\r\n                var obj = {\r\n                    state: thiz.remotePeerConnection[streamId].iceConnectionState,\r\n                    streamId: streamId\r\n                };\r\n                thiz.callback(\"ice_connection_state_changed\", obj);\r\n\r\n                if (!thiz.isPlayMode) {\r\n                    if (thiz.remotePeerConnection[streamId].iceConnectionState == \"connected\") {\r\n\r\n                        thiz.changeBandwidth(thiz.bandwidth, streamId).then(() => {\r\n                                console.log(\"Bandwidth is changed to \" + thiz.bandwidth);\r\n                            })\r\n                            .catch(e => console.error(e));\r\n                    }\r\n                }\r\n            }\r\n\r\n            thiz.remotePeerConnection[streamId].ondatachannel = function (ev) {\r\n                ev.channel.onopen = function () {\r\n                    thiz.remotePeerConnection[streamId].dataChannel = ev.channel;\r\n                    console.log('Data channel is open and ready to be used.');\r\n                };\r\n\r\n                ev.channel.onmessage = function (event) {\r\n                    console.log('Data Channel OnMessage :', event.data);\r\n                }\r\n                ev.channel.onclose = () => {\r\n                    console.log(\"The Data Channel is Closed\");\r\n                };\r\n\r\n                ev.channel.onerror = (error) => {\r\n                    console.log(\"Data Channel Error:\", error);\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    this.closePeerConnection = function (streamId) {\r\n        if (thiz.remotePeerConnection[streamId] != null &&\r\n            thiz.remotePeerConnection[streamId].signalingState != \"closed\") {\r\n            thiz.remotePeerConnection[streamId].close();\r\n            thiz.remotePeerConnection[streamId] = null;\r\n            delete thiz.remotePeerConnection[streamId];\r\n            var playStreamIndex = thiz.playStreamId.indexOf(streamId);\r\n            if (playStreamIndex != -1) {\r\n                thiz.playStreamId.splice(playStreamIndex, 1);\r\n            }\r\n\r\n        }\r\n\r\n        if (thiz.remotePeerConnectionStats[streamId] != null) {\r\n            clearInterval(thiz.remotePeerConnectionStats[streamId].timerId);\r\n            delete thiz.remotePeerConnectionStats[streamId];\r\n        }\r\n    }\r\n\r\n    this.signallingState = function (streamId) {\r\n        if (thiz.remotePeerConnection[streamId] != null) {\r\n            return thiz.remotePeerConnection[streamId].signalingState;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    this.iceConnectionState = function (streamId) {\r\n        if (thiz.remotePeerConnection[streamId] != null) {\r\n            return thiz.remotePeerConnection[streamId].iceConnectionState;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    this.gotDescription = function (configuration, streamId) {\r\n        thiz.remotePeerConnection[streamId]\r\n            .setLocalDescription(configuration)\r\n            .then(function (responose) {\r\n                console.debug(\"Set local description successfully for stream Id \" + streamId);\r\n\r\n                var jsCmd = {\r\n                    command: \"takeConfiguration\",\r\n                    streamId: streamId,\r\n                    type: configuration.type,\r\n                    sdp: configuration.sdp\r\n\r\n                };\r\n\r\n                if (thiz.debug) {\r\n                    console.debug(\"local sdp: \");\r\n                    console.debug(configuration.sdp);\r\n                }\r\n\r\n                thiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\r\n\r\n            }).catch(function (error) {\r\n                console.error(\"Cannot set local description. Error is: \" + error);\r\n            });\r\n    }\r\n\r\n\r\n    this.turnOffLocalCamera = function () {\r\n        if (thiz.remotePeerConnection != null) {\r\n\r\n            var track = thiz.localStream.getVideoTracks()[0];\r\n            track.enabled = false;\r\n        } else {\r\n            this.callbackError(\"NoActiveConnection\");\r\n        }\r\n    }\r\n\r\n    this.turnOnLocalCamera = function () {\r\n        if (thiz.remotePeerConnection != null) {\r\n            var track = thiz.localStream.getVideoTracks()[0];\r\n            track.enabled = true;\r\n        } else {\r\n            this.callbackError(\"NoActiveConnection\");\r\n        }\r\n    }\r\n\r\n    this.muteLocalMic = function () {\r\n        if (thiz.remotePeerConnection != null) {\r\n            var track = thiz.localStream.getAudioTracks()[0];\r\n            track.enabled = false;\r\n        } else {\r\n            this.callbackError(\"NoActiveConnection\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * if there is audio it calls callbackError with \"AudioAlreadyActive\" parameter\r\n     */\r\n    this.unmuteLocalMic = function () {\r\n        if (thiz.remotePeerConnection != null) {\r\n            var track = thiz.localStream.getAudioTracks()[0];\r\n            track.enabled = true;\r\n        } else {\r\n            this.callbackError(\"NoActiveConnection\");\r\n        }\r\n    }\r\n\r\n    this.takeConfiguration = function (idOfStream, configuration, typeOfConfiguration) {\r\n        var streamId = idOfStream\r\n        var type = typeOfConfiguration;\r\n        var conf = configuration;\r\n\r\n        thiz.initPeerConnection(streamId);\r\n\r\n        thiz.remotePeerConnection[streamId].setRemoteDescription(new RTCSessionDescription({\r\n            sdp: conf,\r\n            type: type\r\n        })).then(function (response) {\r\n\r\n            if (thiz.debug) {\r\n                console.debug(\"set remote description is succesfull with response: \" + response + \" for stream : \" +\r\n                    streamId + \" and type: \" + type);\r\n                console.debug(conf);\r\n            }\r\n\r\n            thiz.remoteDescriptionSet[streamId] = true;\r\n            var length = thiz.iceCandidateList[streamId].length;\r\n            console.debug(\"Ice candidate list size to be added: \" + length);\r\n            for (var i = 0; i < length; i++) {\r\n                thiz.addIceCandidate(streamId, thiz.iceCandidateList[streamId][i]);\r\n            }\r\n            thiz.iceCandidateList[streamId] = [];\r\n\r\n            if (type == \"offer\") {\r\n                //SDP constraints may be different in play mode\r\n                console.log(\"try to create answer for stream id: \" + streamId);\r\n\r\n                thiz.remotePeerConnection[streamId].createAnswer(thiz.sdp_constraints)\r\n                    .then(function (configuration) {\r\n                        console.log(\"created answer for stream id: \" + streamId);\r\n                        thiz.gotDescription(configuration, streamId);\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.error(\"create answer error :\" + error);\r\n                    });\r\n            }\r\n\r\n        }).catch(function (error) {\r\n            if (thiz.debug) {\r\n                console.error(\"set remote description is failed with error: \" + error);\r\n            }\r\n            if (error.toString().indexOf(\"InvalidAccessError\") > -1 || error.toString().indexOf(\"setRemoteDescription\") > -1) {\r\n                /**\r\n                 * This error generally occurs in codec incompatibility.\r\n                 * AMS for a now supports H.264 codec. This error happens when some browsers try to open it from VP8.\r\n                 */\r\n                thiz.callbackError(\"notSetRemoteDescription\");\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    this.takeCandidate = function (idOfTheStream, tmpLabel, tmpCandidate) {\r\n        var streamId = idOfTheStream;\r\n        var label = tmpLabel;\r\n        var candidateSdp = tmpCandidate;\r\n\r\n        var candidate = new RTCIceCandidate({\r\n            sdpMLineIndex: label,\r\n            candidate: candidateSdp\r\n        });\r\n\r\n        thiz.initPeerConnection(streamId);\r\n\r\n        if (thiz.remoteDescriptionSet[streamId] == true) {\r\n            thiz.addIceCandidate(streamId, candidate);\r\n        } else {\r\n            console.debug(\"Ice candidate is added to list because remote description is not set yet\");\r\n            thiz.iceCandidateList[streamId].push(candidate);\r\n        }\r\n    };\r\n\r\n    this.addIceCandidate = function (streamId, candidate) {\r\n        if (thiz.candidateTypes.includes(candidate.protocol)) {\r\n\r\n            thiz.remotePeerConnection[streamId].addIceCandidate(candidate)\r\n                .then(function (response) {\r\n                    if (thiz.debug) {\r\n                        console.log(\"Candidate is added for stream \" + streamId);\r\n                    }\r\n                })\r\n                .catch(function (error) {\r\n                    console.error(\"ice candiate cannot be added for stream id: \" + streamId + \" error is: \" + error);\r\n                    console.error(candidate);\r\n                });\r\n        } else {\r\n            if (thiz.debug) {\r\n                console.log(\"Candidate's protocol(\" + candidate.protocol + \") is not supported. Supported protocols:\" + thiz.candidateTypes);\r\n            }\r\n        }\r\n    };\r\n\r\n    this.startPublishing = function (idOfStream) {\r\n        var streamId = idOfStream;\r\n\r\n        thiz.initPeerConnection(streamId);\r\n\r\n        thiz.remotePeerConnection[streamId].createOffer(thiz.sdp_constraints)\r\n            .then(function (configuration) {\r\n                thiz.gotDescription(configuration, streamId);\r\n            })\r\n            .catch(function (error) {\r\n                console.error(\"create offer error for stream id: \" + streamId + \" error: \" + error);\r\n            });\r\n    };\r\n\r\n    /**\r\n     * bandwidth is in kbps\r\n     */\r\n    this.changeBandwidth = function (bandwidth, streamId) {\r\n\r\n        var errorDefinition = \"\";\r\n\r\n        var videoSender = null;\r\n\r\n        if (videoSender != null) {\r\n            const parameters = videoSender.getParameters();\r\n\r\n            if (!parameters.encodings) {\r\n                parameters.encodings = [{}];\r\n            }\r\n\r\n            if (bandwidth === 'unlimited') {\r\n                delete parameters.encodings[0].maxBitrate;\r\n            } else {\r\n                parameters.encodings[0].maxBitrate = bandwidth * 1000;\r\n            }\r\n\r\n            return videoSender.setParameters(parameters)\r\n        } else {\r\n            errorDefinition = \"Video sender not found to change bandwidth\";\r\n        }\r\n\r\n        return Promise.reject(errorDefinition);\r\n    };\r\n\r\n    this.getStats = function (streamId) {\r\n        thiz.remotePeerConnection[streamId].getStats(null).then(stats => {\r\n            var bytesReceived = 0;\r\n            var packetsLost = 0;\r\n            var fractionLost = 0;\r\n            var currentTime = 0;\r\n            var bytesSent = 0;\r\n\r\n            stats.forEach(value => {\r\n\r\n                if (value.type == \"inbound-rtp\") {\r\n                    bytesReceived += value.bytesReceived;\r\n                    packetsLost += value.packetsLost;\r\n                    fractionLost += value.fractionLost;\r\n                    currentTime = value.timestamp;\r\n                } else if (value.type == \"outbound-rtp\") {\r\n                    bytesSent += value.bytesSent\r\n                    currentTime = value.timestamp\r\n                }\r\n            });\r\n\r\n            thiz.remotePeerConnectionStats[streamId].totalBytesReceived = bytesReceived;\r\n            thiz.remotePeerConnectionStats[streamId].packetsLost = packetsLost;\r\n            thiz.remotePeerConnectionStats[streamId].fractionLost = fractionLost;\r\n            thiz.remotePeerConnectionStats[streamId].currentTime = currentTime;\r\n            thiz.remotePeerConnectionStats[streamId].totalBytesSent = bytesSent;\r\n\r\n            thiz.callback(\"updated_stats\", thiz.remotePeerConnectionStats[streamId]);\r\n\r\n        });\r\n    }\r\n\r\n\r\n    this.enableStats = function (streamId) {\r\n        thiz.remotePeerConnectionStats[streamId] = new PeerStats(streamId);\r\n        thiz.remotePeerConnectionStats[streamId].timerId = setInterval(() => {\r\n            thiz.getStats(streamId);\r\n\r\n        }, 5000);\r\n    }\r\n\r\n    /**\r\n     * After calling this function, create new WebRTCAdaptor instance, don't use the the same objectone\r\n     * Because all streams are closed on server side as well when websocket connection is closed.\r\n     */\r\n    this.closeWebSocket = function () {\r\n        for (var key in thiz.remotePeerConnection) {\r\n            thiz.remotePeerConnection[key].close();\r\n        }\r\n        //free the remote peer connection by initializing again\r\n        thiz.remotePeerConnection = new Array();\r\n        thiz.webSocketAdaptor.close();\r\n    }\r\n\r\n    this.peerMessage = function (streamId, definition, data) {\r\n        var jsCmd = {\r\n            command: \"peerMessageCommand\",\r\n            streamId: streamId,\r\n            definition: definition,\r\n            data: data,\r\n        };\r\n\r\n        thiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\r\n    }\r\n\r\n    this.sendData = function (streamId, message) {\r\n        var dataChannel = thiz.remotePeerConnection[streamId].dataChannel;\r\n        dataChannel.send(message);\r\n    }\r\n\r\n    function WebSocketAdaptor() {\r\n        var wsConn = new WebSocket(thiz.websocket_url);\r\n\r\n        var connected = false;\r\n\r\n        var pingTimerId = -1;\r\n\r\n        var clearPingTimer = function () {\r\n            if (pingTimerId != -1) {\r\n                if (thiz.debug) {\r\n                    console.debug(\"Clearing ping message timer\");\r\n                }\r\n                clearInterval(pingTimerId);\r\n                pingTimerId = -1;\r\n            }\r\n        }\r\n\r\n        var sendPing = function () {\r\n            var jsCmd = {\r\n                command: \"ping\"\r\n            };\r\n            wsConn.send(JSON.stringify(jsCmd));\r\n        }\r\n\r\n        this.close = function () {\r\n            wsConn.close();\r\n        }\r\n\r\n        wsConn.onopen = function () {\r\n            if (thiz.debug) {\r\n                console.log(\"websocket connected\");\r\n            }\r\n\r\n            pingTimerId = setInterval(() => {\r\n                sendPing();\r\n            }, 3000);\r\n\r\n            connected = true;\r\n            thiz.callback(\"initialized\");\r\n        }\r\n\r\n        this.send = function (text) {\r\n\r\n            if (wsConn.readyState == 0 || wsConn.readyState == 2 || wsConn.readyState == 3) {\r\n                thiz.callbackError(\"WebSocketNotConnected\");\r\n                return;\r\n            }\r\n            wsConn.send(text);\r\n            console.log(\"sent message:\" + text);\r\n        }\r\n\r\n        this.isConnected = function () {\r\n            return connected;\r\n        }\r\n\r\n        wsConn.onmessage = function (event) {\r\n            var obj = JSON.parse(event.data);\r\n\r\n            if (obj.command == \"start\") {\r\n                //this command is received first, when publishing so playmode is false\r\n\r\n                if (thiz.debug) {\r\n                    console.debug(\"received start command\");\r\n                }\r\n\r\n                thiz.startPublishing(obj.streamId);\r\n            } else if (obj.command == \"takeCandidate\") {\r\n\r\n                if (thiz.debug) {\r\n                    console.debug(\"received ice candidate for stream id \" + obj.streamId);\r\n                    console.debug(obj.candidate);\r\n                }\r\n\r\n                thiz.takeCandidate(obj.streamId, obj.label, obj.candidate);\r\n\r\n            } else if (obj.command == \"takeConfiguration\") {\r\n\r\n                if (thiz.debug) {\r\n                    console.log(\"received remote description type for stream id: \" + obj.streamId + \" type: \" + obj.type);\r\n                }\r\n                thiz.takeConfiguration(obj.streamId, obj.sdp, obj.type);\r\n\r\n            } else if (obj.command == \"stop\") {\r\n                console.debug(\"Stop command received\");\r\n                thiz.closePeerConnection(obj.streamId);\r\n            } else if (obj.command == \"error\") {\r\n                thiz.callbackError(obj.definition);\r\n            } else if (obj.command == \"notification\") {\r\n                thiz.callback(obj.definition, obj);\r\n                if (obj.definition == \"play_finished\" || obj.definition == \"publish_finished\") {\r\n                    thiz.closePeerConnection(obj.streamId);\r\n                }\r\n            } else if (obj.command == \"streamInformation\") {\r\n                thiz.callback(obj.command, obj);\r\n            } else if (obj.command == \"pong\") {\r\n                thiz.callback(obj.command);\r\n            } else if (obj.command == \"trackList\") {\r\n                thiz.callback(obj.command, obj);\r\n            } else if (obj.command == \"connectWithNewId\") {\r\n                thiz.multiPeerStreamId = obj.streamId;\r\n                thiz.join(obj.streamId);\r\n            } else if (obj.command == \"peerMessageCommand\") {\r\n                thiz.callback(obj.command, obj);\r\n            }\r\n        }\r\n\r\n        wsConn.onerror = function (error) {\r\n            console.log(\" error occured: \" + JSON.stringify(error));\r\n            clearPingTimer();\r\n            thiz.callbackError(error)\r\n        }\r\n\r\n        wsConn.onclose = function (event) {\r\n            connected = false;\r\n            console.log(\"connection closed.\");\r\n            clearPingTimer();\r\n            thiz.callback(\"closed\", event);\r\n        }\r\n    }\r\n}","import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst store = createStore(\n    rootReducer,\n    initialState,\n    composeWithDevTools(applyMiddleware(...middleware))\n);\n\n// set up a store subscription listener\n// to store the users token in localStorage\nlet currentState;\n\nstore.subscribe(() => {\n  // keep track of the previous and current state to compare changes\n  let previousState = currentState;\n  currentState = store.getState();\n  // if the token changes set the value in localStorage\n  if (previousState) {\n    if (previousState.auth.token !== currentState.auth.token) {\n      const token = currentState.auth.token;\n      token\n        ? localStorage.setItem('token', token)\n        : localStorage.removeItem('token');\n    }\n  } else {\n    // when there is no previous state:\n    const token = currentState.auth.token;\n    if (token) localStorage.setItem('token', token);\n  }\n});\n\nexport default store;\n","import React, { useEffect } from 'react';\r\nimport { Layout, Row, Col } from 'antd';\r\nimport { useParams } from 'react-router-dom';\r\nimport ChatContainer from './chat/ChatContainer';\r\nimport { connect } from 'react-redux';\r\nimport { initWebrtc } from '../../actions/stream';\r\nimport PropTypes from 'prop-types';\r\nimport { Result, Button, List, Avatar, Radio, Tooltip } from 'antd';\r\nimport { HistoryOutlined, PauseCircleOutlined, PlayCircleOutlined, VideoCameraOutlined, DesktopOutlined, AudioOutlined, AudioFilled, AudioMutedOutlined } from '@ant-design/icons';\r\n\r\nconst Stream = ({ classroomId, streamState, initWebrtc }) => {\r\n\r\n    useEffect(() => {\r\n        initWebrtc(classroomId);\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Radio.Group defaultValue=\"webcam\">\r\n                <Radio.Button value=\"webcam\"><VideoCameraOutlined /> Webcam</Radio.Button>\r\n                <Radio.Button value=\"screen\"><DesktopOutlined /> Screen</Radio.Button>\r\n                <Radio.Button value=\"audio\"><AudioOutlined /> Audio Only</Radio.Button>\r\n            </Radio.Group>\r\n            {!streamState.isSharing ? (<Button disabled={!streamState.webrtcConnected} icon={<PlayCircleOutlined />} type=\"primary\">Start Sharing</Button>) : (<Button icon={<PauseCircleOutlined />} type=\"danger\">Stop Sharing</Button>)}\r\n            <Tooltip title={streamState.micMuted ? 'Unmute mic' : 'Mute mic'}>\r\n                <Button shape=\"circle\" icon={streamState.micMuted ? (<AudioFilled />) : (<AudioMutedOutlined />)} />\r\n            </Tooltip>\r\n        </>\r\n    );\r\n}\r\n\r\nStream.propTypes = {\r\n    classroomId: PropTypes.string.isRequired,\r\n    streamState: PropTypes.object.isRequired,\r\n    initWebrtc: PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    streamState: state.stream\r\n});\r\n\r\nexport default connect(mapStateToProps, { initWebrtc })(Stream);","import React, {\r\n    useEffect\r\n} from 'react';\r\nimport {\r\n    Layout,\r\n    Row,\r\n    Col\r\n} from 'antd';\r\nimport {\r\n    useParams\r\n} from 'react-router-dom';\r\nimport ChatContainer from './chat/ChatContainer';\r\nimport {\r\n    connect\r\n} from 'react-redux';\r\nimport {\r\n    initSocket,\r\n    joinClassroom,\r\n    startLecture,\r\n    stopLecture\r\n} from '../../actions/lecture';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Result,\r\n    Button,\r\n    List,\r\n    Avatar,\r\n    Radio,\r\n    Tooltip\r\n} from 'antd';\r\nimport {\r\n    HistoryOutlined\r\n} from '@ant-design/icons';\r\nimport Stream from './Stream';\r\n\r\nconst TutorClassroom = ({\r\n        initSocket,\r\n        joinClassroom,\r\n        token,\r\n        lectureStarted,\r\n        startLecture,\r\n        stopLecture,\r\n        onlineUsers,\r\n        streamState\r\n    }) => {\r\n        const {\r\n            id\r\n        } = useParams();\r\n\r\n        useEffect(() => {\r\n            initSocket(token, id);\r\n\r\n        }, [token, id]);\r\n\r\n        useEffect(() => {\r\n            if (lectureStarted) {\r\n                joinClassroom();\r\n            }\r\n\r\n            // return leave()... socket.io leaves automatically\r\n        }, [lectureStarted, id]);\r\n\r\n        const StartLecture = () => {\r\n            startLecture(id);\r\n        }\r\n\r\n        const StopLecture = () => {\r\n            stopLecture(id);\r\n        }\r\n\r\n        return ( <\r\n                Layout.Content > {\r\n                    lectureStarted ? ( <\r\n                        >\r\n                        <\r\n                        Row >\r\n                        <\r\n                        Col span = {\r\n                            8\r\n                        } >\r\n                        <\r\n                        ChatContainer / >\r\n                        <\r\n                        /Col> <\r\n                        Col span = {\r\n                            16\r\n                        } >\r\n                        <\r\n                        Button type = \"danger\"\r\n                        onClick = {\r\n                            StopLecture\r\n                        } > Stop Lecture < /Button> <\r\n                        List bordered header = {\r\n                            < Stream classroomId = {\r\n                                id\r\n                            }\r\n                            />}\r\n                            dataSource = {\r\n                                onlineUsers\r\n                            }\r\n                            renderItem = {\r\n                                item => ( <\r\n                                    List.Item key = {\r\n                                        item._id\r\n                                    }\r\n                                    actions = {\r\n                                        [ < a key = \"options\" > ... < /a>]}> <\r\n                                            List.Item.Meta\r\n                                            avatar = {\r\n                                                <\r\n                                                Avatar style = {\r\n                                                    {\r\n                                                        backgroundColor: item.color,\r\n                                                        verticalAlign: 'middle'\r\n                                                    }\r\n                                                }\r\n                                                size = \"large\" > {\r\n                                                    item.name\r\n                                                } <\r\n                                                /Avatar>\r\n                                            }\r\n                                            title = {\r\n                                                item.name\r\n                                            }\r\n                                            description = {\r\n                                                item.kind\r\n                                            }\r\n                                            /> <\r\n                                            /List.Item>\r\n                                        )\r\n                                    }\r\n                                    /> <\r\n                                    video id = \"localVideo\" > < /video> <\r\n                                    /Col> <\r\n                                    /Row> <\r\n                                    />\r\n                                ): ( <\r\n                                        Result icon = {\r\n                                            < HistoryOutlined / >\r\n                                        }\r\n                                        title = \"The lecture has not started yet.\"\r\n                                        extra = {\r\n                                            < Button type = \"primary\"\r\n                                            onClick = {\r\n                                                StartLecture\r\n                                            } > Start a Lecture < /Button>} /\r\n                                            >\r\n                                        )\r\n                                    } <\r\n                                    /Layout.Content>\r\n                            )\r\n                        }\r\n\r\n                        TutorClassroom.propTypes = {\r\n                            token: PropTypes.string.isRequired,\r\n                            lectureStarted: PropTypes.bool.isRequired,\r\n                            joinClassroom: PropTypes.func.isRequired,\r\n                            startLecture: PropTypes.func.isRequired,\r\n                            stopLecture: PropTypes.func.isRequired,\r\n                            onlineUsers: PropTypes.array.isRequired,\r\n                            streamState: PropTypes.object.isRequired\r\n                        }\r\n\r\n                        const mapStateToProps = (state) => ({\r\n                            token: state.auth.token,\r\n                            lectureStarted: state.lecture.lectureStarted,\r\n                            onlineUsers: state.lecture.onlineUsers,\r\n                            streamState: state.stream\r\n                        });\r\n\r\n                        export default connect(mapStateToProps, {\r\n                            initSocket,\r\n                            joinClassroom,\r\n                            startLecture,\r\n                            stopLecture\r\n                        })(TutorClassroom);","import React, { Fragment } from 'react';\nimport { Form, Icon as LegacyIcon } from '@ant-design/compatible';\nimport '@ant-design/compatible/assets/index.css';\nimport { Input, Button } from 'antd';\nimport { Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { loginAsGuest } from '../../actions/auth';\n\nconst LoginAsGuest = ({form, loginAsGuest, isAuthenticated}) => {\n    const handleSubmit = async e => {\n        e.preventDefault();\n        form.validateFields((err, values) => {\n            if (!err) {\n                loginAsGuest(values.username);\n            }\n        });\n    };\n\n    if (isAuthenticated) {\n        return <Redirect to='/dashboard' />;\n    }\n\n    const { getFieldDecorator } = form;\n    return (\n        <Fragment>\n        <h2>Login as a guest</h2>\n        <Form onSubmit={handleSubmit} className=\"login-form\">\n            <Form.Item>\n                {getFieldDecorator('username', {\n                    rules: [{ required: true, message: 'Please input your username!' }],\n                })(\n                <Input\n                prefix={<LegacyIcon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                placeholder=\"Username\"\n                />,\n                )}\n            </Form.Item>\n\n            <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n                Log in\n            </Button>\n        </Form>\n        </Fragment>\n    );\n}\n\n\nLoginAsGuest.propTypes = {\n    loginAsGuest: PropTypes.func.isRequired,\n    isAuthenticated: PropTypes.bool\n}\n\nconst Wrapped = Form.create({ name: 'login-as-guest' })(LoginAsGuest);\n\nconst mapStateToProps = state => ({\n    isAuthenticated: state.auth.isAuthenticated\n});\n\nexport default connect(mapStateToProps, {loginAsGuest})(Wrapped);","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nconst Home = ({ isAuthenticated, user }) => {\n    const view = isAuthenticated ?\n        <Fragment>\n            <h3>welcome {user.name} in Swift Course Home Page as a {user.kind}</h3>\n            <Link to='/dashboard'>Go to dashboard</Link>\n        </Fragment> :\n        <Fragment>\n            <h3>welcome in Swift Course Home Page</h3>\n            <p style={{ color: '#000000' }}>\n                SiwftCourse, a web application that uses the BitTorrent protocol and other features that make\n                it cost less bandwidth.\n                The system will take advantage of the students upload bandwidth to support the stream.\n                To solve the timing of classes problem, the lecture will be recorded so students can still\n                watch it after it ends for a period of 24 hours. Furthermore,\n                there will be no need for a mobile app because the website will be responsive\n                (supports all screen sizes).\n            </p>\n            <div>\n                <Link to=\"/register/student\" >join us</Link>&nbsp;&nbsp;&nbsp;&nbsp;\n                <Link to=\"/register/tutor\">be a tutor in our site</Link>&nbsp;&nbsp;&nbsp;&nbsp;\n                <Link to=\"/login\">Already have an account</Link>\n            </div>\n        </Fragment>;\n    return (\n        <Fragment>\n            <h1>Swift Course</h1>\n            <h2>A Fast and Affordable Online Classroom System</h2>\n            {view}\n        </Fragment>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    isAuthenticated: state.auth.isAuthenticated,\n    user: state.auth.user\n})\nexport default connect(mapStateToProps)(Home);","import React, { Fragment, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { deleteAdmin, editAdmin } from '../../actions/adimnActions';\nimport { Form, Input, Button, Spin, Popconfirm } from 'antd';\nimport { LoadingOutlined, QuestionCircleOutlined } from '@ant-design/icons';\nimport { Icon } from '@ant-design/compatible';\nimport { useHistory, useParams } from 'react-router-dom';\n\n\nconst AdminProfile = ({ deleteAdmin, editAdmin, user, loading }) => {\n    const history = useHistory();\n    const [form] = Form.useForm();\n    let { id } = useParams();\n    let administrator;\n\n    useEffect(() => {\n        administrator = user\n\n        if (administrator) {\n            form.setFieldsValue({\n                email: administrator.email,\n                name: administrator.name\n            });\n        }\n    });\n\n    const onFinish = values => {\n        const { email, name } = values;\n        administrator = {\n            ...administrator,\n            email,\n            name\n        }\n        editAdmin(administrator, history, '/dashboard');\n    }\n\n    const onConfirm = () => {\n        deleteAdmin(id, history, '/');\n    }\n\n    return (\n        <Fragment>\n            <h1>Edit administrator Profile</h1>\n            <p>\n                Edit your information.\n        </p>\n            <Spin indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />} size=\"large\" spinning={loading}>\n                <Form form={form} onFinish={onFinish}>\n                    <Form.Item name=\"email\" rules={[{ required: true, message: 'Please input email!' }]}>\n                        <Input\n                            prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            placeholder=\"your email\"\n                        />\n                    </Form.Item>\n\n                    <Form.Item name=\"name\" rules={[{ required: true, message: 'Please input name!' }]}>\n                        <Input\n                            prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            placeholder=\"your name\"\n                        />\n                    </Form.Item>\n\n                    <Form.Item name=\"password\" rules={[{ required: true, message: 'Please input your Password!' }]}>\n                        <Input\n                            prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            type=\"password\"\n                            placeholder=\"Password\"\n                        />\n                    </Form.Item>\n\n                    <Form.Item name=\"password2\" rules={[{ required: true, message: 'Please input your Password!' }]}>\n                        <Input\n                            prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            type=\"password\"\n                            placeholder=\"Password\"\n                        />\n                    </Form.Item>\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        Edit your information\n                </Button><br></br><br></br>\n                    <Popconfirm title=\"Are you sure that you want to delete your account?\"\n                        okText=\"Yes\" cancelText=\"No\" onConfirm={onConfirm} okType=\"danger\"\n                        icon={<QuestionCircleOutlined style={{ color: 'red' }}></QuestionCircleOutlined>} >\n                        <Button type=\"primary\" danger>\n                            Delete your account\n                    </Button>\n                    </Popconfirm>\n                </Form>\n            </Spin>\n        </Fragment>\n    )\n\n}\n\nconst mapStateToProps = (state) => ({\n    user: state.auth.user,\n    loading: state.auth.loading\n})\n\nexport default connect(mapStateToProps, { deleteAdmin, editAdmin })(AdminProfile);","import React, { Fragment, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { deleteTutor, editTutor } from '../../actions/adimnActions';\nimport { Form, Input, Button, Spin, Popconfirm } from 'antd';\nimport { LoadingOutlined, QuestionCircleOutlined } from '@ant-design/icons';\nimport { Icon } from '@ant-design/compatible';\nimport { useHistory, useParams } from 'react-router-dom';\n\n\nconst TutorProfile = ({ deleteTutor, editTutor, user, loading }) => {\n    const history = useHistory();\n    const [form] = Form.useForm();\n    let { id } = useParams();\n    let tutor;\n\n    useEffect(() => {\n        tutor = user\n\n        if (tutor) {\n            form.setFieldsValue({\n                email: tutor.email,\n                name: tutor.name\n            });\n        }\n    });\n\n    const onFinish = values => {\n        const { email, name } = values;\n        tutor = {\n            ...tutor,\n            email,\n            name\n        }\n        editTutor(tutor, history, '/dashboard');\n    }\n\n    const onConfirm = () => {\n        deleteTutor(id, history, '/');\n    }\n\n    return (\n        <Fragment>\n            <h1>Edit Tutor Profile</h1>\n            <p>\n                Edit your information.\n        </p>\n            <Spin indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />} size=\"large\" spinning={loading}>\n                <Form form={form} onFinish={onFinish}>\n                    <Form.Item name=\"email\" rules={[{ required: true, message: 'Please input email!' }]}>\n                        <Input\n                            prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            placeholder=\"your email\"\n                        />\n                    </Form.Item>\n\n                    <Form.Item name=\"name\" rules={[{ required: true, message: 'Please input name!' }]}>\n                        <Input\n                            prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            placeholder=\"your name\"\n                        />\n                    </Form.Item>\n\n                    <Form.Item name=\"password\" rules={[{ required: true, message: 'Please input your Password!' }]}>\n                        <Input\n                            prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            type=\"password\"\n                            placeholder=\"Password\"\n                        />\n                    </Form.Item>\n\n                    <Form.Item name=\"password2\" rules={[{ required: true, message: 'Please input your Password!' }]}>\n                        <Input\n                            prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            type=\"password\"\n                            placeholder=\"Password\"\n                        />\n                    </Form.Item>\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        Edit your information\n                </Button><br></br><br></br>\n                    <Popconfirm title=\"Are you sure that you want to delete your account?\"\n                        okText=\"Yes\" cancelText=\"No\" onConfirm={onConfirm} okType=\"danger\"\n                        icon={<QuestionCircleOutlined style={{ color: 'red' }}></QuestionCircleOutlined>} >\n                        <Button type=\"primary\" danger>\n                            Delete your account\n                    </Button>\n                    </Popconfirm>\n                </Form>\n            </Spin>\n        </Fragment>\n    )\n\n}\n\nconst mapStateToProps = (state) => ({\n    user: state.auth.user,\n    loading: state.auth.loading\n})\n\nexport default connect(mapStateToProps, { deleteTutor, editTutor })(TutorProfile);","import React, { Fragment, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { deleteStudent, editStudent } from '../../actions/adimnActions';\nimport { Form, Input, Button, Spin, Popconfirm } from 'antd';\nimport { LoadingOutlined, QuestionCircleOutlined } from '@ant-design/icons';\nimport { Icon } from '@ant-design/compatible';\nimport { useHistory, useParams } from 'react-router-dom';\n\n\nconst StudentProfile = ({ deleteStudent, editStudent, user, loading }) => {\n    const history = useHistory();\n    const [form] = Form.useForm();\n    let { id } = useParams();\n    let student;\n\n    useEffect(() => {\n        student = user\n\n        if (student) {\n            form.setFieldsValue({\n                email: student.email,\n                name: student.name\n            });\n        }\n    });\n\n    const onFinish = values => {\n        const { email, name } = values;\n        student = {\n            ...student,\n            email,\n            name\n        }\n        editStudent(student, history, '/dashboard');\n    }\n\n    const onConfirm = () => {\n        deleteStudent(id, history, '/');\n    }\n\n    return (\n        <Fragment>\n            <h1>Edit Student Profile</h1>\n            <p>\n                Edit your information.\n        </p>\n            <Spin indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />} size=\"large\" spinning={loading}>\n                <Form form={form} onFinish={onFinish}>\n                    <Form.Item name=\"email\" rules={[{ required: true, message: 'Please input email!' }]}>\n                        <Input\n                            prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            placeholder=\"your email\"\n                        />\n                    </Form.Item>\n\n                    <Form.Item name=\"name\" rules={[{ required: true, message: 'Please input name!' }]}>\n                        <Input\n                            prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            placeholder=\"your name\"\n                        />\n                    </Form.Item>\n\n                    <Form.Item name=\"password\" rules={[{ required: true, message: 'Please input your Password!' }]}>\n                        <Input\n                            prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            type=\"password\"\n                            placeholder=\"Password\"\n                        />\n                    </Form.Item>\n\n                    <Form.Item name=\"password2\" rules={[{ required: true, message: 'Please input your Password!' }]}>\n                        <Input\n                            prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            type=\"password\"\n                            placeholder=\"Password\"\n                        />\n                    </Form.Item>\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        Edit your information\n                </Button><br></br><br></br>\n                    <Popconfirm title=\"Are you sure that you want to delete your account?\"\n                        okText=\"Yes\" cancelText=\"No\" onConfirm={onConfirm} okType=\"danger\"\n                        icon={<QuestionCircleOutlined style={{ color: 'red' }}></QuestionCircleOutlined>} >\n                        <Button type=\"primary\" danger>\n                            Delete your account\n                    </Button>\n                    </Popconfirm>\n                </Form>\n            </Spin>\n        </Fragment>\n    )\n\n}\n\nconst mapStateToProps = (state) => ({\n    user: state.auth.user,\n    loading: state.auth.loading\n})\n\nexport default connect(mapStateToProps, { deleteStudent, editStudent })(StudentProfile);","import React, { Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport ErrorNotFound from '../ErrotNotFound';\nimport AdminProfile from './AdminProfile';\nimport TutorProfile from './TutorProfile';\nimport StudentProfile from './StudentProfile';\n\nconst MyProfile = ({ user }) => {\n    let page = null;\n    switch (user.kind) {\n        case 'Administrator':\n            page = <AdminProfile />\n            break;\n        case 'Tutor':\n            page = <TutorProfile />\n            break;\n        case 'Student':\n            page = <StudentProfile />\n            break;\n        default:\n            page = <ErrorNotFound />\n\n    }\n    return (\n        <Fragment>\n            {page}\n        </Fragment>\n    )\n\n}\n\nconst mapStateToProps = (state) => ({\n    user: state.auth.user\n})\n\nexport default connect(mapStateToProps)(MyProfile);","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Login from '../auth/Login';\r\nimport AlertWrapper from '../layout/Alert';\r\nimport RegisterTutor from '../auth/RegisterTutor';\r\nimport RegisterStudent from '../auth/RegisterStudent';\r\nimport ErrorNotFound from '../ErrotNotFound';\r\nimport { Skeleton } from 'antd';\r\nimport MainDashboard from '../dashboard/MainDashboard';\r\nimport Classroom from '../classroom/Classroom';\r\nimport TutorClassroom from '../classroom/TutorClassroom';\r\nimport LoginAsGuest from '../auth/LoginAsGuest';\r\nimport Home from '../Home';\r\nimport Profile from '../layout/Profile';\r\n\r\nconst Routes = ({ auth }) => {\r\n    let privateRoutes = auth.loading ? null :\r\n        <Route path='/dashboard' render={(props) => <MainDashboard {...props} userKind={auth.user.kind} />} />\r\n\r\n    return (\r\n        <>\r\n\r\n            <Skeleton active loading={auth.loading}>\r\n                <AlertWrapper />\r\n\r\n                <Switch>\r\n                    <Route path='/myProfile' component={Profile} />\r\n                    <Route path='/register/tutor' component={RegisterTutor} />\r\n                    <Route path='/register/student' component={RegisterStudent} />\r\n                    <Route path='/login/guest' component={LoginAsGuest} />\r\n                    <Route path='/login' component={Login} />\r\n                    <Route path='/classroom/:id/tutor' component={TutorClassroom} />\r\n                    <Route exact path='/classroom/:id/' component={Classroom} />\r\n                    {privateRoutes}\r\n                    <Route exact path=\"/\" component={Home} />\r\n                    <Route component={ErrorNotFound} />\r\n                </Switch>\r\n            </Skeleton>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    auth: state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps)(Routes);\r\n","import { SET_ALERT, REMOVE_ALERT } from '../actions/types';\n\nconst initialState = [];\n\nexport default function(state = initialState, action) {\n    const {type, payload} = action;\n\n    switch (type) {\n        case SET_ALERT:\n            return [...state, payload];\n        case REMOVE_ALERT:\n            return state.filter(alert => alert.id !== payload);\n        default:\n            return state;\n    }\n}\n","import {\n    USER_LOADED,\n    AUTH_ERROR,\n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    LOGOUT,\n    REGISTER_FAIL,\n    REGISTER_SUCCESS\n} from '../actions/types';\n\nconst initialState = {\n    token: localStorage.getItem('token'),\n    isAuthenticated: false,\n    loading: true,\n    user: null\n};\n\nexport default function (state = initialState, action) {\n    const { type, payload } = action;\n\n    switch (type) {\n        case USER_LOADED:\n            return {\n                ...state,\n                isAuthenticated: true,\n                loading: false,\n                user: payload\n            };\n        case LOGIN_SUCCESS:\n            return {\n                ...state,\n                isAuthenticated: true,\n                loading: false,\n                ...payload\n            };\n        case REGISTER_SUCCESS:\n            return {\n                ...state,\n                ...payload,\n                isAuthenticated: true,\n                loading: false\n            };\n        case AUTH_ERROR:\n        case LOGIN_FAIL:\n        case LOGOUT:\n        case REGISTER_FAIL:\n            return {\n                ...state,\n                token: null,\n                isAuthenticated: false,\n                loading: false\n            };\n        default:\n            return state;\n    }\n}\n","import {\n    GET_TUTORS,\n    GET_STUDENTS,\n    EDIT_TUTOR,\n    EDIT_STUDENT,\n    EDIT_TUTOR_SUCCESS,\n    EDIT_TUTOR_FAIL,\n    EDIT_STUDENT_SUCCESS,\n    EDIT_STUDENT_FAIL,\n    ADD_CLASSROOM,\n    GET_CLASSROOMS,\n    EDIT_CLASSROOM_SUCCESS,\n    EDIT_CLASSROOM_FAIL,\n    DELETE_CLASSROOM_FAIL,\n    DELETE_CLASSROOM,\n    EDIT_CLASSROOM,\n    DELETE_STUDENT,\n    DELETE_TUTOR,\n    DELETE_TUTOR_FAIL,\n    DELETE_STUDENT_FAIL,\n    DELETE_CLASSROOM_SUCCESS,\n    DELETE_STUDENT_SUCCESS,\n    DELETE_TUTOR_SUCCESS,\n    DELETE_ADMIN_FAIL,\n    EDIT_ADMIN_FAIL,\n    DELETE_ADMIN_SUCCESS,\n    EDIT_ADMIN_SUCCESS,\n    DELETE_ADMIN,\n    EDIT_ADMIN\n} from '../actions/types';\n\nconst initialState = {\n    loading: true,\n    tutors: [],\n    students: [],\n    classrooms: []\n};\n\nexport default function (state = initialState, action) {\n    switch (action.type) {\n        case GET_TUTORS:\n            return {\n                loading: false,\n                tutors: action.payload\n            }\n        case GET_STUDENTS:\n            return {\n                loading: false,\n                students: action.payload\n            }\n        case EDIT_TUTOR:\n        case EDIT_STUDENT:\n        case EDIT_CLASSROOM:\n        case DELETE_CLASSROOM:\n        case DELETE_STUDENT:\n        case DELETE_TUTOR:\n        case DELETE_ADMIN:\n        case EDIT_ADMIN:\n            return {\n                ...state,\n                loading: true\n            }\n        case EDIT_TUTOR_SUCCESS:\n            return {\n                loading: false,\n                tutors: action.payload\n            }\n        case EDIT_STUDENT_SUCCESS:\n            return {\n                loading: false,\n                students: action.payload\n            }\n        case EDIT_CLASSROOM_SUCCESS:\n            return {\n                loading: false,\n                classrooms: action.payload\n            }\n        case DELETE_TUTOR_SUCCESS:\n            return {\n                loading: false,\n                tutors: action.payload\n            }\n        case DELETE_STUDENT_SUCCESS:\n            return {\n                loading: false,\n                students: action.payload\n            }\n        case DELETE_CLASSROOM_SUCCESS:\n            return {\n                loading: false,\n                classrooms: action.payload\n            }\n        case DELETE_STUDENT_FAIL:\n        case DELETE_TUTOR_FAIL:\n        case DELETE_CLASSROOM_FAIL:\n        case DELETE_ADMIN_FAIL:\n        case EDIT_TUTOR_FAIL:\n        case EDIT_STUDENT_FAIL:\n        case EDIT_CLASSROOM_FAIL:\n        case EDIT_ADMIN_FAIL:\n            return {\n                ...state,\n                loading: false\n            }\n        case GET_CLASSROOMS:\n            return {\n                loading: false,\n                classrooms: action.payload\n            }\n        case ADD_CLASSROOM:\n            return {\n                loading: true,\n                classrooms: [...state.classrooms, action.payload]\n            }\n        case DELETE_ADMIN_SUCCESS:\n        case EDIT_ADMIN_SUCCESS:\n            return {\n                loading: false\n            }\n        default:\n            return initialState;\n    }\n}","import {\n    RECEIVE_MESSAGE,\n    ADD_MESSAGE,\n    SEND_MESSAGE,\n    USER_LEFT,\n    GET_MESSAGES,\n    USER_JOINED,\n    SET_MESSAGES,\n    JOIN_CLASSROOM,\n    JOIN_CLASSROOM_FAIL,\n    JOIN_CLASSROOM_SUCCESS,\n    START_LECTURE,\n    STOP_LECTURE,\n    LOAD_LECTURE,\n    GET_PUBLISH_TOKEN,\n    GET_PLAY_TOKEN\n} from '../actions/types';\n\nconst initState = {\n    loading: true,\n    messages: [],\n    lectureStarted: false,\n    onlineUsers: [],\n    publishToken: '',\n    playToken: ''\n}\n\nexport default function (state = initState, action) {\n    const {\n        type,\n        payload\n    } = action;\n    switch (type) {\n        case ADD_MESSAGE:\n            return {\n                ...state,\n                messages: [...state.messages, payload]\n            }\n            case START_LECTURE:\n                return {\n                    ...state,\n                    lectureStarted: true\n                }\n                case STOP_LECTURE:\n                    return {\n                        ...state,\n                        lectureStarted: false,\n                            publishToken: '',\n                            playToken: ''\n                    }\n                    case GET_MESSAGES:\n                        return {\n                            ...state,\n                            messages: payload.data,\n                                loading: false\n                        }\n                        case LOAD_LECTURE:\n                            return {\n                                ...state,\n                                lectureStarted: payload.hasStarted,\n                                    onlineUsers: payload.onlineUsers\n                            }\n                            case USER_JOINED:\n                                if (!state.onlineUsers.find(u => u._id === payload._id)) {\n                                    return {\n                                        ...state,\n                                        onlineUsers: [...state.onlineUsers, payload]\n                                    }\n                                } else {\n                                    return state;\n                                }\n                                case USER_LEFT:\n                                    let users = state.onlineUsers.filter(u => u._id !== payload._id);\n                                    return {\n                                        ...state,\n                                        onlineUsers: users\n                                    }\n                                    case GET_PUBLISH_TOKEN:\n                                        return {\n                                            ...state,\n                                            publishToken: payload\n                                        }\n                                        case GET_PLAY_TOKEN:\n                                            return {\n                                                ...state,\n                                                playToken: payload\n                                            }\n                                            case SEND_MESSAGE:\n                                            default:\n                                                return state;\n    }\n}","import {\r\n    CONNECTION_SUCCESS,\r\n    CONNECTION_CLOSE,\r\n    START_SHARING,\r\n    START_SHARING_SUCCESS,\r\n    START_SHARING_FAIL,\r\n    STOP_SHARING,\r\n    TOGGLE_MIC\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    currentStreamUrl: \"\",\r\n    currentStreamerId: \"\",\r\n    isSharing: false,\r\n    webrtcConnected: false,\r\n    micMuted: false\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n    const {\r\n        payload,\r\n        type\r\n    } = action;\r\n\r\n    switch (type) {\r\n        case CONNECTION_SUCCESS:\r\n            return {\r\n                ...state,\r\n                webrtcConnected: true\r\n            }\r\n            case CONNECTION_CLOSE:\r\n                return {\r\n                    ...state,\r\n                    webrtcConnected: false,\r\n                        isSharing: false\r\n                }\r\n                case START_SHARING:\r\n                    return {\r\n                        ...state,\r\n                        loading: true,\r\n                    }\r\n                    case START_SHARING_SUCCESS:\r\n                        return {\r\n                            ...state,\r\n                            loading: false,\r\n                                isSharing: true\r\n                        }\r\n                        case START_SHARING_FAIL:\r\n                            return {\r\n                                ...state,\r\n                                loading: false,\r\n                                    isSharing: false\r\n                            }\r\n                            case STOP_SHARING:\r\n                                return {\r\n                                    ...state,\r\n                                    loading: false,\r\n                                        isSharing: false\r\n                                }\r\n                                case TOGGLE_MIC:\r\n                                    return {\r\n                                        ...state,\r\n                                        micMuted: !state.micMuted\r\n                                    }\r\n                                    default:\r\n                                        return state;\r\n    }\r\n}","import {\n    combineReducers\n} from 'redux';\n\nimport alert from './alert';\nimport auth from './auth';\nimport admin from './adminReducer';\nimport lecture from './lecture';\nimport stream from './stream';\nimport tutor from './tutorReducer';\nimport student from './studentReducer';\n\nexport default combineReducers({\n    alert,\n    auth,\n    admin,\n    tutor,\n    student,\n    lecture,\n    stream\n});","import {\n    GET_TUTOR_LECTURES,\n    GET_TUTOR_CLASSROOMS\n} from '../actions/types';\n\nconst initialState = {\n    loading: true,\n    lectures: [],\n    classrooms: []\n};\n\nexport default function (state = initialState, action) {\n    const { payload, type } = action;\n    switch (type) {\n        case GET_TUTOR_LECTURES:\n            return {\n                loading: false,\n                lectures: payload,\n                classrooms: []\n            }\n        case GET_TUTOR_CLASSROOMS:\n            return {\n                loading: false,\n                lectures: [],\n                classrooms: payload\n            }\n        default:\n            return {\n                loading: true,\n                lectures: [],\n                classrooms: []\n            }\n    }\n}","import {\n    GET_STUDENT_LECTURES,\n    GET_STUDENT_CLASSROOMS\n} from '../actions/types';\n\nconst initialState = {\n    loading: true,\n    lectures: [],\n    classrooms: []\n};\n\nexport default function (state = initialState, action) {\n    const { payload, type } = action;\n    switch (type) {\n        case GET_STUDENT_LECTURES:\n            return {\n                loading: false,\n                lectures: payload,\n                classrooms: []\n            }\n        case GET_STUDENT_CLASSROOMS:\n            return {\n                loading: false,\n                lectures: [],\n                classrooms: payload\n            }\n        default:\n            return {\n                loading: true,\n                lectures: [],\n                classrooms: []\n            }\n    }\n}","import React, { Fragment } from 'react';\nimport { Icon as LegacyIcon } from '@ant-design/compatible';\nimport { Menu, Dropdown, Avatar } from 'antd';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { logout } from '../../actions/auth';\nimport Logo from '../../logo.png';\nimport { Link, useHistory } from 'react-router-dom';\nconst Navbar = ({ isAuthenticated, user, logout }) => {\n    const history = useHistory();\n    let welcome;\n    const onClick = () => {\n        logout(history, '');\n    }\n\n    const menu = (\n        <Fragment>\n            <Menu>\n                <Menu.Item onClick={onClick} >\n                    Log out\n          </Menu.Item>\n                <Menu.Item >\n                    <LegacyIcon name='user' type='user'></LegacyIcon>\n                    My Profile\n                    <Link to=\"/myProfile\"></Link>\n                </Menu.Item>\n            </Menu>\n        </Fragment>\n    );\n\n    if (isAuthenticated && user) {\n        welcome =\n            <>\n                <div className=\"welcome-username\">\n                    <Avatar icon={<LegacyIcon type=\"user\" />} size=\"large\" />\n                    <Dropdown overlay={menu}>\n                        <span>Welcome, {user.name}! <LegacyIcon type=\"down\" /></span>\n                    </Dropdown>\n                </div>\n            </>\n    }\n\n    return (\n        <>\n            <Link to=\"\"><img src={Logo} alt=\"\" className=\"logo-placeholder\"></img></Link>\n            {/* // <Menu\n        //     theme=\"dark\"\n        //     mode=\"horizontal\"\n        //     defaultSelectedKeys={['2']}\n        //     style={{ lineHeight: '64px' }}\n        // >\n        // </Menu> */}\n            {welcome}\n        </>\n    )\n}\n\nNavbar.propTypes = {\n    isAuthenticated: PropTypes.bool,\n    name: PropTypes.string,\n    logout: PropTypes.func.isRequired\n}\n\nconst mapStateToProps = state => ({\n    isAuthenticated: state.auth.isAuthenticated,\n    user: state.auth.user\n});\n\nexport default connect(mapStateToProps, { logout })(Navbar);","import React from 'react';\n\nconst ContactUs = () => {\n    return (\n        <>\n            <p>Swift Course - A Fast and Affordable Online Classroom System</p>\n            <p>Contact Us : </p>\n            <div>Programmer:<a href=\"mailto:Shadi.1999@windowslive.com\">Shadi.1999@windowslive.com</a></div><br />\n            <div>Web Developer:<a href=\"mailto:ahmed.eee@hotmail.com\">ahmed.eee@hotmail.com</a></div><br />\n            <div>Software Engineer:<a href=\"mailto:aboodyal1996@gmail.com\">aboodyal1996@gmail.com</a></div>\n        </>\n    );\n}\n\n\nexport default ContactUs;","import React, { Fragment, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Routes from './components/routing/Routes';\n\n// Redux imports\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport { loadUser } from './actions/auth';\nimport setAuthToken from './utils/setAuthToken';\n\n// import logo from './logo.svg';\nimport './App.css';\n\nimport Navbar from \"./components/layout/Navbar\";\nimport { Layout } from \"antd\";\nimport ContactUs from './components/layout/ContactUs';\nconst { Header, Footer } = Layout;\n\nfunction App() {\n  useEffect(() => {\n    if (localStorage.token) {\n      setAuthToken(localStorage.token);\n      store.dispatch(loadUser());\n    }\n  }, []);\n\n\n  return (\n    <Provider store={store}>\n      <Router>\n        <Fragment>\n          <Layout>\n            <Header style={{ height: '130px' }}>\n              <Navbar />\n            </Header>\n            <Layout>\n              <Switch>\n                {/* <Route exact path=\"/\" component={Landing} /> */}\n                <Route component={Routes} />\n              </Switch>\n            </Layout>\n            <Footer>\n              <ContactUs />\n            </Footer>\n          </Layout>\n        </Fragment>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}